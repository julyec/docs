<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Send data to all job servers to see if they echo it back</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="gearmanclient.jobstatus.html">? GearmanClient::jobStatus</a></li>
      <li style="float: right;"><a href="gearmanclient.removeoptions.html">GearmanClient::removeOptions ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.gearmanclient.html">GearmanClient</a></li>
    <li>Send data to all job servers to see if they echo it back</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="gearmanclient.ping" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">GearmanClient::ping</h1>
  <p class="verinfo">(No version information available, might only be in Git)</p><p class="refpurpose"><span class="refname">GearmanClient::ping</span> &mdash; <span class="dc-title">Send data to all job servers to see if they echo it back</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-gearmanclient.ping-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>GearmanClient::ping</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$workload</code></span>): <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Sends some arbitrary data to all job servers to see if they echo it back.  The data sent
   is not used or processed in any other way.  Primarily used for testing and debugging.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-gearmanclient.ping-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">workload</code></dt>

     <dd>

      <p class="para">
       Some arbitrary serialized data to be echo back
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-gearmanclient.ping-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>true</code></strong>， 或者在失败时返回 <strong><code>false</code></strong>。
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="117672""></a>
  <div class="note">
   <strong class="user">liv_romania at yahoo dot com</strong>
   <a href="#117672" class="date">19-Jul-2015 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to test all job servers you can use the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Create our client object<br />
</span><span class="default">$client</span><span class="keyword">= new </span><span class="default">GearmanClient</span><span class="keyword">();<br />
<br />
</span><span class="comment">// Add available and unavailable servers<br />
</span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">addServers</span><span class="keyword">(</span><span class="string">'127.0.0.1:4730,127.0.0.2:4731'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Test all job servers<br />
</span><span class="default">$success </span><span class="keyword">= @</span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">ping</span><span class="keyword">(</span><span class="string">'data testing'</span><span class="keyword">);<br />
if (!</span><span class="default">$success</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; die(</span><span class="string">'Error: ' </span><span class="keyword">. </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">error</span><span class="keyword">());<br />
}<br />
<br />
</span><span class="comment">// Sending job<br />
</span><span class="keyword">echo </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">doNormal</span><span class="keyword">(</span><span class="string">'reverse'</span><span class="keyword">, </span><span class="string">'Hello World!'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
