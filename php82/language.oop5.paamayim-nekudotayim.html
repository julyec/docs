<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>范围解析操作符 （::）</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.oop5.inheritance.html">? 对象继承</a></li>
      <li style="float: right;"><a href="language.oop5.static.html">静态（static）关键字 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.oop5.html">类与对象</a></li>
    <li>范围解析操作符 （::）</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.oop5.paamayim-nekudotayim" class="sect1">
 <h2 class="title">范围解析操作符 （::）</h2>

 <p class="para">
  范围解析操作符（也可称作 Paamayim Nekudotayim）或者更简单地说是一对冒号，可以用于访问<a href="language.oop5.static.html" class="link">静态</a>成员，<a href="language.oop5.constants.html" class="link">类常量</a>，还可以用于覆盖类中的属性和方法。
 </p>

 <p class="para">
  当在类定义之外引用到这些项目时，要使用类名。
 </p>

 <p class="para">
  可以通过变量来引用类，该变量的值不能是关键字（如
  <code class="literal">self</code>，<code class="literal">parent</code> 和 <code class="literal">static</code>）。
 </p>
 <p class="para">
  把 Paamayim Nekudotayim 选作双冒号操作符的名字似乎有些奇怪。然而，这是 Zend
  开发小组在写 Zend Engine 0.5（被用于 PHP 3
  中）时所作出的决定。事实上这个词在希伯莱文就是双冒号的意思。
 </p>

 <div class="example" id="example-484">
  <p><strong>Example #1 在类的外部使用 :: 操作符</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MyClass </span><span style="color: #007700">{<br />    const </span><span style="color: #0000BB">CONST_VALUE </span><span style="color: #007700">= </span><span style="color: #DD0000">'A constant value'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$classname </span><span style="color: #007700">= </span><span style="color: #DD0000">'MyClass'</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$classname</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE</span><span style="color: #007700">;<br /><br />echo </span><span style="color: #0000BB">MyClass</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>

 <p class="para">
  <var class="varname">self</var>，<var class="varname">parent</var> 和 <var class="varname">static</var>
  这三个特殊的关键字是用于在类定义的内部对其属性或方法进行访问的。
 </p>

 <div class="example" id="example-486">
  <p><strong>Example #2 在类定义内部使用 ::</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">OtherClass </span><span style="color: #007700">extends </span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />    public static </span><span style="color: #0000BB">$my_static </span><span style="color: #007700">= </span><span style="color: #DD0000">'static var'</span><span style="color: #007700">;<br /><br />    public static function </span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">() {<br />        echo </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />        echo </span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$my_static </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$classname </span><span style="color: #007700">= </span><span style="color: #DD0000">'OtherClass'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$classname</span><span style="color: #007700">::</span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">OtherClass</span><span style="color: #007700">::</span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>

 <p class="para">
  当一个子类覆盖其父类中的方法时，PHP
  不会调用父类中已被覆盖的方法。是否调用父类的方法取决于子类。这种机制也作用于<a href="language.oop5.decon.html" class="link">构造函数和析构函数</a>，<a href="language.oop5.overloading.html" class="link">重载</a>以及<a href="language.oop5.magic.html" class="link">魔术方法</a>。
 </p>

 <div class="example" id="example-488">
  <p><strong>Example #3 调用父类的方法</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />    protected function </span><span style="color: #0000BB">myFunc</span><span style="color: #007700">() {<br />        echo </span><span style="color: #DD0000">"MyClass::myFunc()\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br />class </span><span style="color: #0000BB">OtherClass </span><span style="color: #007700">extends </span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">// 覆盖了父类的定义<br />    </span><span style="color: #007700">public function </span><span style="color: #0000BB">myFunc</span><span style="color: #007700">()<br />    {<br />        </span><span style="color: #FF8000">// 但还是可以调用父类中被覆盖的方法<br />        </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">();<br />        echo </span><span style="color: #DD0000">"OtherClass::myFunc()\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$class </span><span style="color: #007700">= new </span><span style="color: #0000BB">OtherClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <p class="para">
  参见 <a href="language.oop5.basic.html#language.oop5.basic.class.this" class="link"> 伪变量的示例</a>。
 </p>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121085""></a>
  <div class="note">
   <strong class="user">1naveengiri at gmail dot com</strong>
   <a href="#121085" class="date">15-May-2017 06:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP, you use the self keyword to access static properties and methods.<br />
<br />
The problem is that you can replace $this-&gt;method() with self::method() anywhere, regardless if method() is declared static or not. So which one should you use?<br />
<br />
Consider this code:<br />
<br />
class ParentClass {<br />
&nbsp;&nbsp;&nbsp; function test() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; self::who();&nbsp; &nbsp; // will output 'parent'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $this-&gt;who();&nbsp; &nbsp; // will output 'child'<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function who() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo 'parent';<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class ChildClass extends ParentClass {<br />
&nbsp;&nbsp;&nbsp; function who() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo 'child';<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$obj = new ChildClass();<br />
$obj-&gt;test();<br />
In this example, self::who() will always output 'parent', while $this-&gt;who() will depend on what class the object has.<br />
<br />
Now we can see that self refers to the class in which it is called, while $this refers to the class of the current object.<br />
<br />
So, you should use self only when $this is not available, or when you don't want to allow descendant classes to overwrite the current method.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113376""></a>
  <div class="note">
   <strong class="user">jasverix at NOSPAM dot gmail dot com</strong>
   <a href="#113376" class="date">03-Oct-2013 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just found out that using the class name may also work to call similar function of anchestor class.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Anchestor </span><span class="keyword">{<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; public </span><span class="default">$Prefix </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; private </span><span class="default">$_string </span><span class="keyword">=&nbsp; </span><span class="string">'Bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Foo</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Prefix</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_string</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">MyParent </span><span class="keyword">extends </span><span class="default">Anchestor </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Foo</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Prefix </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">Foo</span><span class="keyword">().</span><span class="string">'Baz'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Child </span><span class="keyword">extends </span><span class="default">MyParent </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Foo</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Prefix </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">Anchestor</span><span class="keyword">::</span><span class="default">Foo</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">Child</span><span class="keyword">();<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">Foo</span><span class="keyword">(); </span><span class="comment">//return FooBar, because Prefix, as in Anchestor::Foo()<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The Child class calls at Anchestor::Foo(), and therefore MyParent::Foo() is never run.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113231""></a>
  <div class="note">
   <strong class="user">guy at syntheticwebapps dot com</strong>
   <a href="#113231" class="date">15-Sep-2013 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems as though you can use more than the class name to reference the static variables, constants, and static functions of a class definition from outside that class using the :: . The language appears to allow you to use the object itself. <br />
<br />
For example:<br />
class horse <br />
{<br />
&nbsp;&nbsp; static $props = {'order'=&gt;'mammal'};<br />
}<br />
$animal = new horse();<br />
echo $animal::$props['order'];<br />
<br />
// yields 'mammal'<br />
<br />
This does not appear to be documented but I see it as an important convenience in the language. I would like to see it documented and supported as valid. <br />
<br />
If it weren't supported officially, the alternative would seem to be messy, something like this:<br />
<br />
$animalClass = get_class($animal);<br />
echo $animalClass::$props['order'];</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97740""></a>
  <div class="note">
   <strong class="user">remy dot damour at ----no-spam---laposte dot net</strong>
   <a href="#97740" class="date">05-May-2010 01:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of php 5.3.0, you can use 'static' as scope value as in below example (add flexibility to inheritance mechanism compared to 'self' keyword...)
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; const </span><span class="default">C </span><span class="keyword">= </span><span class="string">'constA'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">m</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo static::</span><span class="default">C</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />

<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; const </span><span class="default">C </span><span class="keyword">= </span><span class="string">'constB'</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();
<br />
</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">m</span><span class="keyword">();
<br />

<br />
</span><span class="comment">// output: constB
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94976""></a>
  <div class="note">
   <strong class="user">Theriault</strong>
   <a href="#94976" class="date">05-Dec-2009 08:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A class constant, class property (static), and class function (static) can all share the same name and be accessed using the double-colon.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; public static </span><span class="default">$B </span><span class="keyword">= </span><span class="string">'1'</span><span class="keyword">; </span><span class="comment"># Static class variable.<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">const </span><span class="default">B </span><span class="keyword">= </span><span class="string">'2'</span><span class="keyword">; </span><span class="comment"># Class constant.<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public static function </span><span class="default">B</span><span class="keyword">() { </span><span class="comment"># Static class function.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="string">'3'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
echo </span><span class="default">A</span><span class="keyword">::</span><span class="default">$B </span><span class="keyword">. </span><span class="default">A</span><span class="keyword">::</span><span class="default">B </span><span class="keyword">. </span><span class="default">A</span><span class="keyword">::</span><span class="default">B</span><span class="keyword">(); </span><span class="comment"># Outputs: 123<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94504""></a>
  <div class="note">
   <strong class="user">wouter at interpotential dot com</strong>
   <a href="#94504" class="date">09-Nov-2009 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's worth noting, that the mentioned variable can also be an object instance. This appears to be the easiest way to refer to a static function as high in the inheritance hierarchy as possible, as seen from the instance. I've encountered some odd behavior while using static::something() inside a non-static method.
<br />

<br />
See the following example code:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">FooClass </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">testSelf</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">t</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">testThis</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">::</span><span class="default">t</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">t</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'FooClass'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__toString</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'FooClass'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />

<br />
class </span><span class="default">BarClass </span><span class="keyword">extends </span><span class="default">FooClass </span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">t</span><span class="keyword">() {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'BarClass'</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />

<br />
}
<br />

<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">BarClass</span><span class="keyword">();
<br />
</span><span class="default">print_r</span><span class="keyword">(Array(
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">testSelf</span><span class="keyword">(), </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">testThis</span><span class="keyword">(),
<br />
));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
which outputs:
<br />

<br />
&lt;pre&gt;
<br />
Array
<br />
(
<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; FooClass
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; BarClass
<br />
)
<br />
&lt;/pre&gt;
<br />

<br />
As you can see, __toString has no effect on any of this. Just in case you were wondering if perhaps this was the way it's done.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91258""></a>
  <div class="note">
   <strong class="user">giovanni at gargani dot it</strong>
   <a href="#91258" class="date">02-Jun-2009 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Well, a "swiss knife" couple of code lines to call parent method. The only limit is you can't use it with "by reference" parameters.
<br />
Main advantage you dont need to know the "actual" signature of your super class, you just need to know which arguments do you need
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">someclass </span><span class="keyword">extends </span><span class="default">some superclass </span><span class="keyword">{
<br />
</span><span class="comment">// usable for constructors
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$ineedthisone</span><span class="keyword">) {
<br />
&nbsp; </span><span class="default">$args</span><span class="keyword">=</span><span class="default">func_get_args</span><span class="keyword">(); 
<br />
&nbsp; </span><span class="comment">/* $args will contain any argument passed to __construct.&nbsp;&nbsp; 
<br />
&nbsp; * Your formal argument doesnt influence the way func_get_args() works
<br />
&nbsp; */
<br />
&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">,</span><span class="default">__FUNCTION__</span><span class="keyword">),</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;}
<br />
</span><span class="comment">// but this is not for __construct only
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">anyMethod</span><span class="keyword">() {
<br />
&nbsp; </span><span class="default">$args</span><span class="keyword">=</span><span class="default">func_get_args</span><span class="keyword">();
<br />
&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">,</span><span class="default">__FUNCTION__</span><span class="keyword">),</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;}
<br />
&nbsp; </span><span class="comment">// Note: php 5.3.0 will even let you do
<br />
&nbsp;</span><span class="keyword">function </span><span class="default">anyMethod</span><span class="keyword">() {
<br />
&nbsp; </span><span class="comment">//Needs php &gt;=5.3.x
<br />
&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">,</span><span class="default">__FUNCTION__</span><span class="keyword">),</span><span class="default">func_get_args</span><span class="keyword">());
<br />
&nbsp;}
<br />

<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88681""></a>
  <div class="note">
   <strong class="user">csaba dot dobai at php-sparcle dot com</strong>
   <a href="#88681" class="date">03-Feb-2009 09:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For the 'late static binding' topic I published a code below, that demonstrates a trick for how to setting variable value in the late class, and print that in the parent (or the parent's parent, etc.) class.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">cA<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Test property for using direct default value<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$item </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Test property for using indirect default value<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$other </span><span class="keyword">= </span><span class="string">'cA'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">method</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="default">self</span><span class="keyword">::</span><span class="default">$item</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">; </span><span class="comment">// It prints 'Foo' on everyway... :(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">print </span><span class="default">self</span><span class="keyword">::</span><span class="default">$other</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">; </span><span class="comment">// We just think that, this one prints 'cA' only, but... :)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">setOther</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$other </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">; </span><span class="comment">// Set a value in this scope.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
class </span><span class="default">cB </span><span class="keyword">extends </span><span class="default">cA<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Test property with redefined default value<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$item </span><span class="keyword">= </span><span class="string">'Bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">setOther</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$other </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">cC </span><span class="keyword">extends </span><span class="default">cA<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Test property with redefined default value<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$item </span><span class="keyword">= </span><span class="string">'Tango'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">method</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="default">self</span><span class="keyword">::</span><span class="default">$item</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">; </span><span class="comment">// It prints 'Foo' on everyway... :(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">print </span><span class="default">self</span><span class="keyword">::</span><span class="default">$other</span><span class="keyword">.</span><span class="string">"\r\n"</span><span class="keyword">; </span><span class="comment">// We just think that, this one prints 'cA' only, but... :)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Now we drop redeclaring the setOther() method, use cA with 'self::' just for fun.<br />
&nbsp;&nbsp; &nbsp; */<br />
</span><span class="keyword">}<br />
<br />
class </span><span class="default">cD </span><span class="keyword">extends </span><span class="default">cA<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Test property with redefined default value<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$item </span><span class="keyword">= </span><span class="string">'Foxtrot'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Now we drop redeclaring all methods to complete this issue.<br />
&nbsp;&nbsp; &nbsp; */<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">cB</span><span class="keyword">::</span><span class="default">setOther</span><span class="keyword">(</span><span class="string">'cB'</span><span class="keyword">); </span><span class="comment">// It's cB::method()!<br />
</span><span class="default">cB</span><span class="keyword">::</span><span class="default">method</span><span class="keyword">(); </span><span class="comment">// It's cA::method()!<br />
</span><span class="default">cC</span><span class="keyword">::</span><span class="default">setOther</span><span class="keyword">(</span><span class="string">'cC'</span><span class="keyword">); </span><span class="comment">// It's cA::method()!<br />
</span><span class="default">cC</span><span class="keyword">::</span><span class="default">method</span><span class="keyword">(); </span><span class="comment">// It's cC::method()!<br />
</span><span class="default">cD</span><span class="keyword">::</span><span class="default">setOther</span><span class="keyword">(</span><span class="string">'cD'</span><span class="keyword">); </span><span class="comment">// It's cA::method()!<br />
</span><span class="default">cD</span><span class="keyword">::</span><span class="default">method</span><span class="keyword">(); </span><span class="comment">// It's cA::method()!<br />
<br />
/**<br />
&nbsp;* Results: -&gt;<br />
&nbsp;* Foo<br />
&nbsp;* cB<br />
&nbsp;* Tango<br />
&nbsp;* cC<br />
&nbsp;* Foo<br />
&nbsp;* cD<br />
&nbsp;* <br />
&nbsp;* What the hell?! :)<br />
&nbsp;*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88449""></a>
  <div class="note">
   <strong class="user">luka8088 at gmail dot com</strong>
   <a href="#88449" class="date">24-Jan-2009 03:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Little static trick to go around php strict standards ...<br />
Function caller founds an object from which it was called, so that static method can alter it, replacement for $this in static function but without strict warnings :)<br />
<br />
<span class="default">&lt;?php<br />
<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">+ </span><span class="default">E_STRICT</span><span class="keyword">);<br />
<br />
function </span><span class="default">caller </span><span class="keyword">() {<br />
&nbsp; </span><span class="default">$backtrace </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp; </span><span class="default">$object </span><span class="keyword">= isset(</span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]) ? </span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp; while (isset(</span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]) &amp;&amp; (!isset(</span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]) || </span><span class="default">$object </span><span class="keyword">=== </span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]))<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$k</span><span class="keyword">++;<br />
<br />
&nbsp; return isset(</span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]) ? </span><span class="default">$backtrace</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
}<br />
<br />
class </span><span class="default">a </span><span class="keyword">{<br />
<br />
&nbsp; public </span><span class="default">$data </span><span class="keyword">= </span><span class="string">'Empty'</span><span class="keyword">;<br />
&nbsp; <br />
&nbsp; function </span><span class="default">set_data </span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">b</span><span class="keyword">::</span><span class="default">set</span><span class="keyword">();<br />
&nbsp; }<br />
<br />
}<br />
<br />
class </span><span class="default">b </span><span class="keyword">{<br />
<br />
&nbsp; static function </span><span class="default">set </span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// $this-&gt;data = 'Data from B !';<br />
&nbsp;&nbsp;&nbsp; // using this in static function throws a warning ...<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">caller</span><span class="keyword">()-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="string">'Data from B !'</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">a</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">set_data</span><span class="keyword">();<br />
echo </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs: Data from B !<br />
<br />
No warnings or errors !</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84155""></a>
  <div class="note">
   <strong class="user">barss dot dev at gmail dot com</strong>
   <a href="#84155" class="date">01-Jul-2008 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Nice trick with scope resolution<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">A<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">TestFunc</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">test</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">B<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$test</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">test </span><span class="keyword">= </span><span class="string">"Nice trick"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">GetTest</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">A</span><span class="keyword">::</span><span class="default">TestFunc</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">GetTest</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
will output<br />
<br />
Nice trick</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73200""></a>
  <div class="note">
   <strong class="user">mongoose643 at gmail dot com</strong>
   <a href="#73200" class="date">13-Feb-2007 12:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a solution for those that still need to write code compatible with php 4 but would like to use the flexibility of static variables. PHP 4 does not support static variables within the class scope but it does support them within the scope of class methods. The following is a bit of a workaround to store data in static mode in php 4.<br />
<br />
Note: This code also works in PHP 5.<br />
<br />
(Tested on version 4.3.1+)<br />
<br />
The tricky part is when using when arrays you have to do a bit of fancy coding to get or set individual elements in the array. The example code below should show you the basics of it though.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">StaticSample<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//Copyright Michael White (www.crestidg.com) 2007<br />
&nbsp;&nbsp;&nbsp; //You may use and modify this code but please keep this short copyright notice in tact.<br />
&nbsp;&nbsp;&nbsp; //If you modify the code you may comment the changes you make and append your own copyright<br />
&nbsp;&nbsp;&nbsp; //notice to mine. This code is not to be redistributed individually for sale but please use it as part<br />
&nbsp;&nbsp;&nbsp; //of your projects and applications - free or non-free.<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; //Static workaround for php4 - even works with arrays - the trick is accessing the arrays.<br />
&nbsp;&nbsp;&nbsp; //I used the format s_varname for my methods that employ this workaround. That keeps it<br />
&nbsp;&nbsp;&nbsp; //similar to working with actual variables as much as possible.<br />
&nbsp;&nbsp;&nbsp; //The s_ prefix immediately identifies it as a static variable workaround method while<br />
&nbsp;&nbsp;&nbsp; //I'm looking thorugh my code.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">s_foo</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$remove</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$s_var</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//Declare the static variable.&nbsp; &nbsp; The name here doesn't matter - only the name of the method matters.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$remove</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$s_var</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$data</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$s_var</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//You can't just use unset() here because the static state of the variable will bring back the value next time you call the method.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s_var </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$s_var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Make sure that you don't set the value over again.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$s_var</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//$s_var = array_merge($s_var, $value);&nbsp; &nbsp; &nbsp; &nbsp; //Doesn't overwrite values. This adds them - a property of the array_merge() function.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$value </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$data</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s_var</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$data</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">//Overwrites values.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s_var </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$s_var </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$s_var</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo </span><span class="string">"Working with non-array values.&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Before Setting: "</span><span class="keyword">.</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">();<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"While Setting: "</span><span class="keyword">.</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">(</span><span class="string">"VALUE HERE"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"After Setting: "</span><span class="keyword">.</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">();<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"While Removing: "</span><span class="keyword">.</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"After Removing: "</span><span class="keyword">.</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">();<br />
echo </span><span class="string">"&lt;hr&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Working with array values&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">=&gt;</span><span class="string">"cat"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">"dog"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">=&gt;</span><span class="string">"monkey"</span><span class="keyword">);<br />
echo </span><span class="string">"Set an array value: "</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">));<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="comment">//Here you need to get all the values in the array then sort through or choose the one(s) you want.<br />
</span><span class="default">$all_elements </span><span class="keyword">= </span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">();<br />
</span><span class="default">$middle_element </span><span class="keyword">= </span><span class="default">$all_elements</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
echo </span><span class="string">"The middle element: "</span><span class="keyword">.</span><span class="default">$middle_element</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">$changed_array </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">"big dog"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">=&gt;</span><span class="string">"bat"</span><span class="keyword">, </span><span class="string">"bird"</span><span class="keyword">=&gt;</span><span class="string">"flamingo"</span><span class="keyword">);<br />
echo </span><span class="string">"Changing the value: "</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">(</span><span class="default">$changed_array</span><span class="keyword">));<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="comment">//All you have to do here is create an array with the keys you want to erase in it.<br />
//If you want to erase all keys then don't pass any array to the method.<br />
</span><span class="default">$element_to_erase </span><span class="keyword">= array(</span><span class="default">3</span><span class="keyword">=&gt;</span><span class="default">null</span><span class="keyword">);<br />
echo </span><span class="string">"Erasing the fourth element: "</span><span class="keyword">;<br />
</span><span class="default">$elements_left </span><span class="keyword">= </span><span class="default">StaticSample</span><span class="keyword">::</span><span class="default">s_foo</span><span class="keyword">(</span><span class="default">$element_to_erase</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$elements_left</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"Enjoy!"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61174""></a>
  <div class="note">
   <strong class="user">developit at mail dot ru</strong>
   <a href="#61174" class="date">27-Jan-2006 03:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You use 'self' to access this class, 'parent' - to access parent class, and what will you do to access a parent of the parent? Or to access the very root class of deep class hierarchy? The answer is to use classnames. That'll work just like 'parent'. Here's an example to explain what I mean. Following code<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$x </span><span class="keyword">= </span><span class="string">'A'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">f</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'['</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">.</span><span class="string">']'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$x </span><span class="keyword">= </span><span class="string">'B'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">f</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'{'</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">.</span><span class="string">'}'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">B<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$x </span><span class="keyword">= </span><span class="string">'C'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">f</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'('</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">.</span><span class="string">')'</span><span class="keyword">.</span><span class="default">parent</span><span class="keyword">::</span><span class="default">f</span><span class="keyword">().</span><span class="default">B</span><span class="keyword">::</span><span class="default">f</span><span class="keyword">().</span><span class="default">A</span><span class="keyword">::</span><span class="default">f</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">();<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">C</span><span class="keyword">();<br />
<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">f</span><span class="keyword">().</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
print </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">f</span><span class="keyword">().</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
print </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">f</span><span class="keyword">().</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
will output <br />
<br />
[A] -- {B} -- (C){C}{C}[C]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
