<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>mysqli_result 类</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli-stmt.store-result.html">? mysqli_stmt::store_result</a></li>
      <li style="float: right;"><a href="mysqli-result.construct.html">mysqli_result::__construct ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.mysqli.html">MySQLi</a></li>
    <li>mysqli_result 类</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.mysqli-result" class="reference">
 <h1 class="title">mysqli_result 类</h1>
 
 
 <div class="partintro"><p class="verinfo">(PHP 5, PHP 7, PHP 8)</p>
 

  <div class="section" id="mysqli-result.intro">
   <h2 class="title">简介</h2>
   <p class="para">
    代表从一个数据库查询中获取的结果集。
   </p>
  </div>

 
  <div class="section" id="mysqli-result.synopsis">
   <h2 class="title">类摘要</h2>
 

   <div class="classsynopsis">
    <span class="ooclass">
     <strong class="classname"></strong>
    </span>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">class</span> <strong class="classname">mysqli_result</strong>
     </span>

     <span class="oointerface"><span class="modifier">implements</span> 
       <a href="class.iteratoraggregate.html" class="interfacename">IteratorAggregate</a></span> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 属性 */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="mysqli-result.current-field.html">$<var class="varname">current_field</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="mysqli-result.field-count.html">$<var class="varname">field_count</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">?</span><span class="type"><span class="type">array</span><span class="type"></span></span>
      <var class="varname"><a href="mysqli-result.lengths.html">$<var class="varname">lengths</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type"><span class="type">int</span>|<span class="type">string</span></span>
      <var class="varname"><a href="mysqli-result.num-rows.html">$<var class="varname">num_rows</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.mysqli-result.html#mysqli-result.props.type">$<var class="varname">type</var></a></var>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* 方法 */</div>
    <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.construct.html" class="methodname">__construct</a></span>(<span class="methodparam"><span class="type"><a href="class.mysqli.html" class="type mysqli">mysqli</a></span> <code class="parameter">$mysql</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_mode</code><span class="initializer"> = <strong><code>MYSQLI_STORE_RESULT</code></strong></span></span>)</div>

    <div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.data-seek.html" class="methodname">data_seek</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$offset</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-all.html" class="methodname">fetch_all</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = <strong><code>MYSQLI_NUM</code></strong></span></span>): <span class="type">array</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-array.html" class="methodname">fetch_array</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = <strong><code>MYSQLI_BOTH</code></strong></span></span>): <span class="type"><span class="type">array</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-assoc.html" class="methodname">fetch_assoc</a></span>(): <span class="type"><span class="type">array</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-column.html" class="methodname">fetch_column</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$column</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">null</span>|<span class="type">int</span>|<span class="type">float</span>|<span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-field-direct.html" class="methodname">fetch_field_direct</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>): <span class="type"><span class="type">object</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-field.html" class="methodname">fetch_field</a></span>(): <span class="type"><span class="type">object</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-fields.html" class="methodname">fetch_fields</a></span>(): <span class="type">array</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-object.html" class="methodname">fetch_object</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$class</code><span class="initializer"> = &quot;stdClass&quot;</span></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$constructor_args</code><span class="initializer"> = []</span></span>): <span class="type"><span class="type">object</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.fetch-row.html" class="methodname">fetch_row</a></span>(): <span class="type"><span class="type">array</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.field-seek.html" class="methodname">field_seek</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.free.html" class="methodname">free</a></span>(): <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.free.html" class="methodname">close</a></span>(): <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.free.html" class="methodname">free_result</a></span>(): <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="mysqli-result.getiterator.html" class="methodname">getIterator</a></span>(): <span class="type"><a href="class.iterator.html" class="type Iterator">Iterator</a></span></div>

   }</div>

 
  </div>

  <div class="section" id="mysqli-result.props">
   <h2 class="title">属性</h2>
   <dl>
    
     <dt id="mysqli-result.props.type">
      <var class="varname">type</var>
     </dt>

     <dd>

      <p class="para">
       存储的是否为缓冲的结果，<span class="type">int</span> 形式（分别是 <strong><code>MYSQLI_STORE_RESULT</code></strong>
       或 <strong><code>MYSQLI_USE_RESULT</code></strong>）。
      </p>
     </dd>

    
   </dl>

  </div>

  <div class="section">
   <h2 class="title">更新日志</h2>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        <span class="classname"><strong class="classname">mysqli_result</strong></span> 现在实现
        <span class="interfacename"><a href="class.iteratoraggregate.html" class="interfacename">IteratorAggregate</a></span>。之前实现的是
        <span class="interfacename"><a href="class.traversable.html" class="interfacename">Traversable</a></span>。
       </td>
      </tr>

     </tbody>
    
   </table>

  </div>
 </div>
 
 


























































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="mysqli-result.construct.html">mysqli_result::__construct</a> &mdash; Constructs a mysqli_result object</li><li><a href="mysqli-result.current-field.html">mysqli_result::$current_field</a> &mdash; Get current field offset of a result pointer</li><li><a href="mysqli-result.data-seek.html">mysqli_result::data_seek</a> &mdash; Adjusts the result pointer to an arbitrary row in the result</li><li><a href="mysqli-result.fetch-all.html">mysqli_result::fetch_all</a> &mdash; Fetch all result rows as an associative array, a numeric array, or both</li><li><a href="mysqli-result.fetch-array.html">mysqli_result::fetch_array</a> &mdash; Fetch the next row of a result set as an associative, a numeric array, or both</li><li><a href="mysqli-result.fetch-assoc.html">mysqli_result::fetch_assoc</a> &mdash; Fetch the next row of a result set as an associative array</li><li><a href="mysqli-result.fetch-column.html">mysqli_result::fetch_column</a> &mdash; Fetch a single column from the next row of a result set</li><li><a href="mysqli-result.fetch-field-direct.html">mysqli_result::fetch_field_direct</a> &mdash; Fetch meta-data for a single field</li><li><a href="mysqli-result.fetch-field.html">mysqli_result::fetch_field</a> &mdash; Returns the next field in the result set</li><li><a href="mysqli-result.fetch-fields.html">mysqli_result::fetch_fields</a> &mdash; Returns an array of objects representing the fields in a result set</li><li><a href="mysqli-result.fetch-object.html">mysqli_result::fetch_object</a> &mdash; Fetch the next row of a result set as an object</li><li><a href="mysqli-result.fetch-row.html">mysqli_result::fetch_row</a> &mdash; Fetch the next row of a result set as an enumerated array</li><li><a href="mysqli-result.field-count.html">mysqli_result::$field_count</a> &mdash; Gets the number of fields in the result set</li><li><a href="mysqli-result.field-seek.html">mysqli_result::field_seek</a> &mdash; Set result pointer to a specified field offset</li><li><a href="mysqli-result.free.html">mysqli_result::free</a> &mdash; Frees the memory associated with a result</li><li><a href="mysqli-result.getiterator.html">mysqli_result::getIterator</a> &mdash; Retrieve an external iterator</li><li><a href="mysqli-result.lengths.html">mysqli_result::$lengths</a> &mdash; Returns the lengths of the columns of the current row in the result set</li><li><a href="mysqli-result.num-rows.html">mysqli_result::$num_rows</a> &mdash; Gets the number of rows in the result set</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="123168""></a>
  <div class="note">
   <strong class="user">Cem Kayali / cemkayali(a)eticaret.com.tr</strong>
   <a href="#123168" class="date">28-Sep-2018 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Switching from Php5 to Php7, especially if you have worked on an ongoing, long term project, it is unfortunate that there is no mysqli_result function.<br />
<br />
So, this may be helpfull and you can call this function as you wish. I assume you do restricted search (searching for single row or few rows only).<br />
<br />
function mysqli_result($search, $row, $field){<br />
$i=0; while($results=mysqli_fetch_array($search)){<br />
if ($i==$row){$result=$results[$field];}<br />
$i++;}<br />
return $result;} <br />
<br />
Simply;<br />
<br />
$search=mysqli_query($connection, "select name from table_name where id='7'");<br />
$name=mysqli_result($search, 0, "id"); <br />
<br />
Best wishes,</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117886""></a>
  <div class="note">
   <strong class="user">marcus at synchromedia dot co dot uk</strong>
   <a href="#117886" class="date">26-Aug-2015 03:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're using the iterator interface on a result instance ($r), like this:<br />
<br />
&nbsp;&nbsp;&nbsp; foreach ($r as $d) {<br />
<br />
the iterated value ($d) is an associative-only array, i.e. it's the same as doing this:<br />
<br />
&nbsp;&nbsp;&nbsp; while ($d = $r-&gt;fetch_assoc()) {<br />
<br />
and NOT like this:<br />
<br />
&nbsp;&nbsp;&nbsp; while ($d = $r-&gt;fetch_row()) {<br />
<br />
so you can't access row elements by numeric index ($d[0] etc) if you use the foreach syntax.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114223""></a>
  <div class="note">
   <strong class="user">Marc17</strong>
   <a href="#114223" class="date">26-Jan-2014 04:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An "mysqli_result" function where $field can be like table_name.field_name with alias or not.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mysqli_result</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$row</span><span class="keyword">,</span><span class="default">$field</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$result</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$row</span><span class="keyword">&gt;=</span><span class="default">mysqli_num_rows</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">) &amp;&amp; !(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">,</span><span class="string">"."</span><span class="keyword">)===</span><span class="default">false</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t_field</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="default">$field</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$field</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t_fields</span><span class="keyword">=</span><span class="default">mysqli_fetch_fields</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$id</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$id</span><span class="keyword">&lt;</span><span class="default">mysqli_num_fields</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);</span><span class="default">$id</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$t_fields</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">]-&gt;</span><span class="default">table</span><span class="keyword">==</span><span class="default">$t_field</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] &amp;&amp; </span><span class="default">$t_fields</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">]-&gt;</span><span class="default">name</span><span class="keyword">==</span><span class="default">$t_field</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$field</span><span class="keyword">=</span><span class="default">$id</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$field</span><span class="keyword">==-</span><span class="default">1</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">mysqli_data_seek</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">,</span><span class="default">$row</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$line</span><span class="keyword">=</span><span class="default">mysqli_fetch_array</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return isset(</span><span class="default">$line</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">])?</span><span class="default">$line</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">]:</span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109782""></a>
  <div class="note">
   <strong class="user">tuxedobob</strong>
   <a href="#109782" class="date">20-Aug-2012 09:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Converting an old project from using the mysql extension to the mysqli extension, I found the most annoying change to be the lack of a corresponding mysql_result function in mysqli. While mysql_result is a generally terrible function, it was useful for fetching a single result field *value* from a result set (for example, if looking up a user's ID).
<br />

<br />
The behavior of mysql_result is approximated here, though you may want to name it something other than mysqli_result so as to avoid thinking it's an actual, built-in function.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">mysqli_result</span><span class="keyword">(</span><span class="default">$res</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">-&gt;</span><span class="default">data_seek</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$datarow </span><span class="keyword">= </span><span class="default">$res</span><span class="keyword">-&gt;</span><span class="default">fetch_array</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$datarow</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">];
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Implementing it via the OO interface is left as an exercise to the reader.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100530""></a>
  <div class="note">
   <strong class="user">sinisaculic at gmail dot com</strong>
   <a href="#100530" class="date">21-Oct-2010 01:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
storing this object in ANY kind will result in storing an empty object... if you try to serialize it dump it or do anything with it you will end up with a empty object. <br />
<br />
you have to pull all data out f the object and then store the data... no other way.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97419""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#97419" class="date">18-Apr-2010 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Generally, it appears Mysqli OO vs Procedural style has no significant difference in speed, at least with the more generally used functions and methods (connect, close, query, free, etc).<br />
<br />
With the fetch_* family of functions and methods dealing with result rows, however, Procedural wins out.&nbsp; Averaging over a hundred or so tests with a result set of 180,000 records, and using mysqli_fetch_*() functions vs. their mysqli_result::fetch_*() counterpart object methods to read and iterate over all records, all of the mysqli_fetch_*() functions win by ~0.1 seconds less.<br />
<br />
This is interesting considering we're dealing with the same result object in both styles.<br />
<br />
This was using Vistax64, PHP5.3.2, Mysql 5.1.45, using a bit of this code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// procedural - takes 0.1 seconds less than OO here<br />
</span><span class="default">$stopwatch </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysqli_fetch_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; ++</span><span class="default">$z</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$stopwatch</span><span class="keyword">;<br />
<br />
</span><span class="comment">// OO<br />
</span><span class="default">$stopwatch </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">fetch_assoc</span><span class="keyword">()){<br />
&nbsp;&nbsp;&nbsp; ++</span><span class="default">$z</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
echo </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$stopwatch</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88062""></a>
  <div class="note">
   <strong class="user">blar at blar dot de</strong>
   <a href="#88062" class="date">08-Jan-2009 02:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Extending the MySQLi_Result<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Database_MySQLi </span><span class="keyword">extends </span><span class="default">MySQLi<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">real_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return new </span><span class="default">Database_MySQLi_Result</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Database_MySQLi_Result </span><span class="keyword">extends </span><span class="default">MySQLi_Result<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">fetch</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fetch_assoc</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">fetchAll</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rows </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fetch</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rows</span><span class="keyword">[] = </span><span class="default">$row</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$rows</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
