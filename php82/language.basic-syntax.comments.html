<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>注释</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.basic-syntax.instruction-separation.html">? 指令分隔符</a></li>
      <li style="float: right;"><a href="language.types.html">类型 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.basic-syntax.html">基本语法</a></li>
    <li>注释</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.basic-syntax.comments" class="sect1">
  <h2 class="title">注释</h2>
  <p class="para">
   PHP 支持 C，C++ 和 Unix Shell 风格（Perl 风格）的注释。例如:

    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />    </span><span style="color: #007700">echo </span><span style="color: #DD0000">'This is a test'</span><span style="color: #007700">; </span><span style="color: #FF8000">// 这是单行 c++ 样式注释<br />    /* 这是一条多行注释<br />       另一行也是注释 */<br />    </span><span style="color: #007700">echo </span><span style="color: #DD0000">'This is yet another test'</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">'One Final Test'</span><span style="color: #007700">; </span><span style="color: #FF8000"># 这是单行 shell 风格的注释<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    单行注释仅仅注释到行末或者当前的 PHP 代码块，视乎哪个首先出现。这意味着在
    <code class="literal">// ... ?&gt;</code> 或者 <code class="literal"># ...  ?&gt;</code>
    之后的 HTML 代码将被显示出来：?&gt;
    跳出了 PHP 模式并返回了 HTML 模式，<code class="literal">//</code> 或 <code class="literal">#</code>
    并不能影响到这一点。
   </p>
   <p class="para">
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
&lt;h1&gt;This is an <span style="color: #0000BB">&lt;?php </span><span style="color: #FF8000"># echo 'simple';</span><span style="color: #0000BB">?&gt;</span> example&lt;/h1&gt;<br />&lt;p&gt;The header above will say 'This is an  example'.&lt;/p&gt;</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    C 风格的注释在碰到第一个 <code class="literal">*/</code>
    时结束。要确保不要嵌套 C 风格的注释。试图注释掉一大块代码时很容易出现该错误。
   </p>
   <p class="para">
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /> </span><span style="color: #FF8000">/*<br />    echo 'This is a test'; /* 这个注释会引发问题 */<br /> </span><span style="color: #007700">*/<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128032""></a>
  <div class="note">
   <strong class="user">aetonsi</strong>
   <a href="#128032" class="date">21-Dec-2022 12:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of php 8, single line comments starting exactly with "#[" have a special meaning: they are treated as "attributes", and they must respect the expected syntax. See: https://www.php.net/manual/en/language.attributes.php<br />
<br />
So the following code throws an error in php 8+, while it is perfectly valid in php &lt;8:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">#[~~</span><span class="default">my super cool comment</span><span class="keyword">~~~]<br />
</span><span class="default">?&gt;<br />
</span><br />
To be safe, just always use "//" comments instead of "#". Maybe in the future there will be other special meanings for the "#" comments, who knows.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125363""></a>
  <div class="note">
   <strong class="user">anisgazig at gmail dot com</strong>
   <a href="#125363" class="date">15-Sep-2020 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In php there are 3 types of comments<br />
1.single line c++ style comment(//)<br />
2.single line Unix shell stype comment(#)<br />
3.multi line c style comment(/*/)<br />
<br />
single or multi line comment comes to the end of the line or come first to the current block of php code.<br />
<br />
HTML code will be printed after //...?&gt; or #...?&gt;<br />
closing tag breaks the php mode and return to html mode.<br />
<br />
different comments in different tags:<br />
===================================<br />
&lt;H1&gt;Standard tag: <span class="default">&lt;?php </span><span class="comment">//echo " standard tag"; </span><span class="default">?&gt;</span>single line c++ style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Standard tag:single line c++ style comment'&lt;/p&gt;<br />
<br />
&lt;H1&gt;Standard tag: <span class="default">&lt;?php </span><span class="comment"># echo " standard tag"; </span><span class="default">?&gt;</span>single line unix shell style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Standard tag:single line unix shell style comment'&lt;/p&gt;<br />
<br />
&lt;H1&gt;Standard tag: <span class="default">&lt;?php </span><span class="comment">/*echo " standard tag"; */</span><span class="default">?&gt;</span>multi line c style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Standard tag:multi line c style comment'&lt;/p&gt;<br />
<br />
&nbsp; &lt;H1&gt;short echo tag: <span class="default">&lt;?= </span><span class="comment">// " short echo tag"; </span><span class="default">?&gt;</span>single line c++ style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode show a unexpected syntex error'&lt;/p&gt;<br />
<br />
&nbsp; &lt;H1&gt;short echo tag: <span class="default">&lt;?= </span><span class="comment">#&nbsp; " short echo tag"; </span><span class="default">?&gt;</span>single line c++ style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode show a unexpected syntex error'&lt;/p&gt;<br />
<br />
&nbsp; &lt;H1&gt;short echo tag: <span class="default">&lt;?= </span><span class="comment">/*echo " short echo tag"*/ </span><span class="keyword">; </span><span class="default">?&gt;</span>multiple&nbsp; line c style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode show a unexpected syntex error'&lt;/p&gt;<br />
<br />
&lt;H1&gt;Short tag: &lt;? //echo " short tag";?&gt;single line c++ style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Short tag:single line c++ style comment'&lt;/p&gt;<br />
<br />
&nbsp; &lt;H1&gt;Short tag: &lt;? #echo " short tag";?&gt;single line unix shell style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Short tag:single line unix shell style comment'&lt;/p&gt;<br />
<br />
&nbsp;&nbsp; &lt;H1&gt;Short tag: &lt;? /* echo " short tag";*/?&gt;multi line c style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Short tag:multi line c style comment'&lt;/p&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;H1&gt;Script tag: &lt;script language="php"&gt; // echo " script tag";&lt;/script&gt;single line c++ style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Script tag:single line c++ style comment'&lt;/p&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;H1&gt;Script tag: &lt;script language="php"&gt; /* echo " script tag";*/&lt;/script&gt;multi line c style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will break php mode and return html mode and show&nbsp; 'Script tag:multi line c style comment'&lt;/p&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; &lt;H1&gt;Script tag: &lt;script language="php"&gt; # echo " script tag";&lt;/script&gt;single line unix shell style comment&lt;/H1&gt;<br />
&lt;p&gt;The header above will not break php mode &lt;/p&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114369""></a>
  <div class="note">
   <strong class="user">J. Prettyman</strong>
   <a href="#114369" class="date">13-Feb-2014 05:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Notes can come in all sorts of shapes and sizes. They vary, and their uses are completely up to the person writing the code. However, I try to keep things consistent in my code that way it's easy for the next person to read. So something like this might help...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//======================================================================<br />
// CATEGORY LARGE FONT<br />
//======================================================================<br />
<br />
//-----------------------------------------------------<br />
// Sub-Category Smaller Font<br />
//-----------------------------------------------------<br />
<br />
/* Title Here Notice the First Letters are Capitalized */<br />
<br />
# Option 1<br />
# Option 2<br />
# Option 3<br />
<br />
/*<br />
&nbsp;* This is a detailed explanation<br />
&nbsp;* of something that should require<br />
&nbsp;* several paragraphs of information.<br />
&nbsp;*/<br />
&nbsp;<br />
// This is a single line quote.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113438""></a>
  <div class="note">
   <strong class="user">magnesium dot oxide dot play+php at gmail dot com</strong>
   <a href="#113438" class="date">10-Oct-2013 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is worth mentioning that, HTML comments have no meaning in PHP parser. So,<br />
<br />
&lt;!-- comment<br />
<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">some_function</span><span class="keyword">(); </span><span class="default">?&gt;<br />
</span>--&gt;<br />
<br />
WILL execute some_function() and echo result inside HTML comment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101424""></a>
  <div class="note">
   <strong class="user">jballard at natoga dot com</strong>
   <a href="#101424" class="date">15-Dec-2010 02:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Comments do NOT take up processing power.<br />
<br />
So, for all the people who argue that comments are undesired because they take up processing power now have no reason to comment ;)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Control<br />
</span><span class="keyword">echo </span><span class="default">microtime</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// 0.25163600 1292450508<br />
</span><span class="keyword">echo </span><span class="default">microtime</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// 0.25186000 1292450508<br />
<br />
// Test<br />
</span><span class="keyword">echo </span><span class="default">microtime</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// 0.25189700 1292450508<br />
# TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST TEST<br />
# .. Above comment repeated 18809 times ..<br />
</span><span class="keyword">echo </span><span class="default">microtime</span><span class="keyword">(), </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">; </span><span class="comment">// 0.25192100 1292450508<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
They take up about the same amount of time (about meaning on a repeated testing, sometimes the difference between the control and the test was negative and sometimes positive).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97866""></a>
  <div class="note">
   <strong class="user">Wolfsbay at ya dot ru</strong>
   <a href="#97866" class="date">12-May-2010 02:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using editor with code highlight, it's much easier to notice error like /* */ */.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77415""></a>
  <div class="note">
   <strong class="user">theblazingangel at aol dot com</strong>
   <a href="#77415" class="date">28-Aug-2007 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
it's perhaps not obvious to some, but the following code will cause a parse error! the ?&gt; in //?&gt; is not treated as commented text, this is a result of having to handle code on one line such as <span class="default">&lt;?php </span><span class="keyword">echo </span><span class="string">'something'</span><span class="keyword">; </span><span class="comment">//comment </span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">1</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//</span><span class="default">?&gt;<br />
</span>}<br />
?&gt;<br />
<br />
i discovered this "anomally" when i commented out a line of code containing a regex which itself contained ?&gt;, with the // style comment.<br />
e.g. //preg_match('/^(?&gt;c|b)at$/', 'cat', $matches);<br />
will cause an error while commented! using /**/ style comments provides a solution. i don't know about # style comments, i don't ever personally use them.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68128""></a>
  <div class="note">
   <strong class="user">fun at nybbles dot com</strong>
   <a href="#68128" class="date">13-Jul-2006 10:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a trick I have used in all languages to temporarily block out large sections (usually for test/debug/new-feature purposes), is to set (or define) a var at the top, and use that to conditionally comment the blocks; an added benefit over if(0) (samuli's comment from nov'05) is that u can have several versions or tests running at once, and u dont require cleanup later if u want to keep the blocks in:&nbsp; just reset the var.<br />
<br />
personally, I use this more to conditionally include code for new feature testing, than to block it out,,,, but hey, to each their own :)<br />
<br />
this is also the only safe way I know of to easily nest comments in any language, and great for multi-file use, if the conditional variables are placed in an include :)<br />
<br />
for example, placed at top of file:<br />
<br />
<span class="default">&lt;?php $ver3 </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$debug2 </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">; <br />
</span><span class="default">?&gt;</span> <br />
<br />
and then deeper inside the file: <br />
<br />
<span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">$ver3</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(</span><span class="string">"This code is included since we are testing version 3"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php </span><span class="keyword">if (</span><span class="default">$debug2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print(</span><span class="string">"This code is 'commented' out"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66693""></a>
  <div class="note">
   <strong class="user">J Lee</strong>
   <a href="#66693" class="date">25-May-2006 11:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
MSpreij (8-May-2005) says&nbsp; /* .. */ overrides //&nbsp; <br />
Anonymous (26-Jan-2006) says // overrides /* .. */<br />
<br />
Actually, both are correct. Once a comment is opened, *everything* is ignored until the end of the comment (or the end of the php block) is reached.<br />
<br />
Thus, if a comment is opened with: <br />
&nbsp;&nbsp; //&nbsp; then /* and */ are "overridden" until after end-of-line <br />
&nbsp;&nbsp; /*&nbsp; then // is "overridden" until after */</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54296""></a>
  <div class="note">
   <strong class="user">hcderaad at wanadoo dot nl</strong>
   <a href="#54296" class="date">29-Jun-2005 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Comments in PHP can be used for several purposes, a very interesting one being that you can generate API documentation directly from them by using PHPDocumentor (<a href="http://www.phpdoc.org/" rel="nofollow" target="_blank">http://www.phpdoc.org/</a>).<br />
<br />
Therefor one has to use a JavaDoc-like comment syntax (conforms to the DocBook DTD), example:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
* The second * here opens the DocBook commentblock, which could later on&lt;br&gt;<br />
* in your development cycle save you a lot of time by preventing you having to rewrite&lt;br&gt;<br />
* major documentation parts to generate some usable form of documentation.<br />
*/<br />
</span><span class="default">?&gt;<br />
</span>Some basic html-like formatting is supported with this (ie &lt;br&gt; tags) to create something of a layout.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52651""></a>
  <div class="note">
   <strong class="user">M Spreij</strong>
   <a href="#52651" class="date">08-May-2005 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A nice way to toggle the commenting of blocks of code can be done by mixing the two comment styles:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//*<br />
</span><span class="keyword">if (</span><span class="default">$foo</span><span class="keyword">) {<br />
&nbsp; echo </span><span class="default">$bar</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// */<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$morecode</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Now by taking out one / on the first line..<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
if ($foo) {<br />
&nbsp; echo $bar;<br />
}<br />
// */<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$morecode</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>..the block is suddenly commented out.<br />
This works because a /* .. */ overrides //. You can even "flip" two blocks, like this:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//*<br />
</span><span class="keyword">if (</span><span class="default">$foo</span><span class="keyword">) {<br />
&nbsp; echo </span><span class="default">$bar</span><span class="keyword">;<br />
}<br />
</span><span class="comment">/*/<br />
if ($bar) {<br />
&nbsp; echo $foo;<br />
}<br />
// */<br />
</span><span class="default">?&gt;<br />
</span>vs<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
if ($foo) {<br />
&nbsp; echo $bar;<br />
}<br />
/*/<br />
</span><span class="keyword">if (</span><span class="default">$bar</span><span class="keyword">) {<br />
&nbsp; echo </span><span class="default">$foo</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// */<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48204""></a>
  <div class="note">
   <strong class="user">Steve</strong>
   <a href="#48204" class="date">15-Dec-2004 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when commenting out regular expressions.<br />
<br />
E.g. the following causes a parser error.<br />
<br />
I do prefer using # as regexp delimiter anyway so it won't hurt me ;-)<br />
<br />
<span class="default">&lt;?php <br />
<br />
</span><span class="comment">/*<br />
<br />
&nbsp;$f-&gt;setPattern('/^\d.*/</span><span class="string">');<br />
<br />
*/<br />
<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
