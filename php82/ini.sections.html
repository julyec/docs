<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>php.ini 配置段列表</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ini.list.html">? php.ini 配置选项列表</a></li>
      <li style="float: right;"><a href="ini.core.html">php.ini 核心指令说明 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ini.html">php.ini 配置</a></li>
    <li>php.ini 配置段列表</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ini.sections" class="section">
  <h2 class="title"> <var class="filename">php.ini</var> 配置段列表</h2>
  <p class="para">
   这个列表包含 <var class="filename">php.ini</var> section，可以根据每个主机或路径进行设置以配置 PHP 环境。这些 section 是可选的。
  </p>
  <p class="para">
   这些 section 并不直接影响 PHP。它们用于将其他 <var class="filename">php.ini</var> 指令分组，并使其在特定主机或路径上生效。
  </p>
  <p class="para">
   这些 section 仅在 CGI/FastCGI 模式下使用，不能设置 <a href="ini.core.html#ini.extension" class="link">extension</a> 和 <a href="ini.core.html#ini.zend-extension" class="link">zend_extension</a> 指令。
  </p>
  <p class="para">
   <table class="doctable table">
    <caption><strong>配置段</strong></caption>
    
     <thead>
      <tr>
       <th>名字</th>
       <th>可修改范围</th>
       <th>更新日志</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td><a href="ini.sections.html#ini.per-host" class="link">[HOST=]</a></td>
       <td>PHP_INI_SYSTEM</td>
       <td class="empty">&nbsp;</td>
      </tr>

      <tr>
       <td><a href="ini.sections.html#ini.per-path" class="link">[PATH=]</a></td>
       <td>PHP_INI_SYSTEM</td>
       <td class="empty">&nbsp;</td>
      </tr>

     </tbody>
    
   </table>

  </p>
  
  <p class="para">这是配置指令的简短说明。</p>
  
  <p class="para">
   <dl>
    
     <dt id="ini.per-host">
      <code class="parameter">[HOST=&lt;host&gt;]</code>
     </dt>

     <dd>

      <p class="para">
       该 section 允许定义一组在指定主机上生效的 <var class="filename">php.ini</var> 指令。
      </p>
      <p class="para">
       <div class="example" id="">
        <p><strong>Example #1 dev. 域名激活完整的屏幕错误报告</strong></p>
        <div class="example-contents">
<div class="php.inicode"><pre class="php.inicode">[HOST=dev.site.com]
error_reporting = E_ALL
display_errors = On</pre>
</div>
        </div>

       </div>
      </p>
     </dd>

    
    
    
     <dt id="ini.per-path">
      <code class="parameter">[PATH=&lt;path&gt;]</code>
     </dt>

     <dd>

      <p class="para">
       该 section 允许定义一组脚本从指定路径运行时生效的 <var class="filename">php.ini</var> 指令。
      </p>
      <p class="para">
       <div class="example" id="">
        <p><strong>Example #2 受保护的区域添加安全脚本</strong></p>
        <div class="example-contents">
<div class="php.inicode"><pre class="php.inicode">[PATH=/home/site/public/secure]
auto_prepend_file=security.php</pre>
</div>
        </div>

       </div>
      </p>
     </dd>

    
    
   </dl>

  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="124709""></a>
  <div class="note">
   <strong class="user">dasloch at absatzen dot de</strong>
   <a href="#124709" class="date">12-Feb-2020 12:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that you cannot usefully set syslog.* in [PATH=] (and probably [HOST=]) sections, since the syslogger is initialized only once per php-fpm worker process, and not per request.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122655""></a>
  <div class="note">
   <strong class="user">robinhook at mail dot com</strong>
   <a href="#122655" class="date">22-Apr-2018 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorry for the note. I've read some bad tutorials.<br />
The correct syntax is : directive = 'value'<br />
not a thing like : php_value[directive] = "somevalue"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122654""></a>
  <div class="note">
   <strong class="user">robinhook at mail dot com</strong>
   <a href="#122654" class="date">22-Apr-2018 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this HOST and PATH sections doesn't seems to work in php.ini under apache 2.4 with php-fpm 7.1.16 for directive php_value or php_admin_value open_basedir or include_path.<br />
phpinfo() says "none" in master and local values.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105240""></a>
  <div class="note">
   <strong class="user">z dot himdi at bita dot nl</strong>
   <a href="#105240" class="date">04-Aug-2011 07:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On Windows IIS 7 server I noticed that [PATH=] was not listened to. [HOST=] however worked.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103840""></a>
  <div class="note">
   <strong class="user">leo</strong>
   <a href="#103840" class="date">06-May-2011 03:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just developed the probably first php.ini hack to add commands which will only be parsed before PHP 5.3 when using mod_php.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment"># Disable eAccelerator by default<br />
</span><span class="default">eaccelerator</span><span class="keyword">.</span><span class="default">enable </span><span class="keyword">= </span><span class="default">0<br />
<br />
</span><span class="comment"># Now, to prevent incompatibilities with Zend Optimizer+, we<br />
# want to enable eAccelerator only in PHP 5.2 or lower.<br />
</span><span class="keyword">[</span><span class="default">HOST</span><span class="keyword">=*]<br />
</span><span class="default">eaccelerator</span><span class="keyword">.</span><span class="default">enable </span><span class="keyword">= </span><span class="default">1<br />
<br />
?&gt;<br />
</span><br />
What is happening here? In PHP 5.3, php.ini sections to set up PHP on a per host basis have been introduced:<br />
<br />
<a href="http://www.php.net/manual/en/ini.sections.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/ini.sections.php</a><br />
<br />
These sections only work in CGI/FastCGI mode, however there still seems to be a difference in how the php.ini file is parsed in PHP 5.2 and PHP 5.3 when using mod_php: PHP 5.3 ignores everything below the line [HOST=*], whereas PHP 5.2 does not.<br />
<br />
In the above example, PHP 5.3 only reads "eaccelerator.enable = 0" and then stops at the invalid command [HOST=*]. However, PHP 5.2 seems to ignore the invalid command and parses the whole configuration file, ending up with "eaccelerator.enable = 1".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99780""></a>
  <div class="note">
   <strong class="user">crash at lubyte dot de</strong>
   <a href="#99780" class="date">06-Sep-2010 05:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have a system which uses separated PHP inis for loading extensions (Debian, Fedora and most other distributions do so), [PATH=] or [HOST=] will prevent loading extensions defined in those ini files (extension= and zend_extension=).<br />
<br />
I had some headache, when I added a hosts.ini to /etc/php5/cgi/conf.d (Debians default), where I wanted to define some defaults for a host name. The manual says extension= and zend_extension= aren't allowed in [HOST=] and [PATH=] (see above). I figured out that you can easily fix that with adding [PHP] after your definitions.<br />
<br />
For example hosts.ini:<br />
[HOST=dev.example.com]<br />
display_errors = on<br />
<br />
[PHP]<br />
<br />
this will change the section back to [PHP] where extension= and zend_extension= is allowed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97287""></a>
  <div class="note">
   <strong class="user">robert dot johnson at icap dot com</strong>
   <a href="#97287" class="date">12-Apr-2010 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Adding PATH= applies only to the named path and does not include sub-directories, you have to add a PATH= value for each sub-directory.<br />
<br />
Also some settings have no effect even though phpinfo recognises and displays the per-folder value as the 'local' value, and the default as the 'master' value.<br />
<br />
'fastcgi.impersonate' always uses the master setting.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93733""></a>
  <div class="note">
   <strong class="user">public at grik dot net</strong>
   <a href="#93733" class="date">24-Sep-2009 03:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In [HOST=...] one should use only the 1st server name from the list of server names.<br />
<br />
I.E. if you have <br />
server_name example.com, example2.com;<br />
and will use www.example.com in a browser, <br />
use [HOST=example.com] in php.ini for both addresses.<br />
<br />
PHP looks not at the HOST request header (as I expected), but at the SERVER_NAME parameter (which by default is the 1st from the list of names, no matter what the HOST is).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
