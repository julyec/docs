<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>可变变量</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.variables.scope.html">? 变量范围</a></li>
      <li style="float: right;"><a href="language.variables.external.html">来自 PHP 之外的变量 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.variables.html">变量</a></li>
    <li>可变变量</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.variables.variable" class="sect1">
   <h2 class="title">可变变量</h2>

   <p class="simpara">
     有时候使用可变变量名是很方便的。就是说，一个变量的变量名可以动态的设置和使用。一个普通的变量通过声明来设置，例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a </span><span style="color: #007700">= </span><span style="color: #DD0000">'hello'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    一个可变变量获取了一个普通变量的值作为这个可变变量的变量名。在上面的例子中
    <em class="emphasis">hello</em> 使用了两个美元符号（$）以后，就可以作为一个可变变量的变量了。例如：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">$</span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #DD0000">'world'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    这时，两个变量都被定义了：<var class="varname">$a</var> 的内容是"hello"并且
    <var class="varname">$hello</var> 的内容是"world"。因此，以下语句：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000"> </span><span style="color: #007700">{$</span><span style="color: #0000BB">$a</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    与以下语句输出完全相同的结果：
   </p>

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000"> </span><span style="color: #0000BB">$hello</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>

   <p class="simpara">
    它们都会输出：<span class="computeroutput">hello world</span>。
   </p>

   <p class="simpara">
    要将可变变量用于数组，必须解决一个模棱两可的问题。这就是当写下
    <var class="varname">$$a[1]</var>
    时，解析器需要知道是想要
    <var class="varname">$a[1]</var>
    作为一个变量呢，还是想要
    <var class="varname">$$a</var>
    作为一个变量并取出该变量中索引为 [1]
    的值。解决此问题的语法是，对第一种情况用
    <var class="varname">${$a[1]}</var>，对第二种情况用
    <var class="varname">${$a}[1]</var>。
   </p>

   <p class="simpara">
    类的属性也可以通过可变属性名来访问。可变属性名将在该调用所处的范围内被解析。例如，对于
    <var class="varname">$foo->$bar</var> 表达式，则会在本地范围来解析 <var class="varname">$bar</var>
    并且其值将被用于 <var class="varname">$foo</var> 的属性名。对于 <var class="varname">$bar</var>
    是数组单元时也是一样。
   </p>
   
   <p class="simpara">
    也可使用花括号来给属性名清晰定界。最有用是在属性位于数组中，或者属性名包含有多个部分或者属性名包含有非法字符时（例如来自
    <span class="function"><a href="function.json-decode.html" class="function">json_decode()</a></span> 或 <a href="book.simplexml.html" class="link">SimpleXML</a>）。
   </p>

   <p class="para">
    <div class="example" id="language.oop5.basic.class.this">
     <p><strong>Example #1 可变属性示例</strong></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">foo </span><span style="color: #007700">{<br />    var </span><span style="color: #0000BB">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">'I am bar.'</span><span style="color: #007700">;<br />    var </span><span style="color: #0000BB">$arr </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'I am A.'</span><span style="color: #007700">, </span><span style="color: #DD0000">'I am B.'</span><span style="color: #007700">, </span><span style="color: #DD0000">'I am C.'</span><span style="color: #007700">);<br />    var </span><span style="color: #0000BB">$r   </span><span style="color: #007700">= </span><span style="color: #DD0000">'I am r.'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$foo </span><span style="color: #007700">= new </span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bar </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$baz </span><span style="color: #007700">= array(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">, </span><span style="color: #DD0000">'baz'</span><span style="color: #007700">, </span><span style="color: #DD0000">'quux'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$bar </span><span style="color: #007700">. </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$baz</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$start </span><span style="color: #007700">= </span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$end   </span><span style="color: #007700">= </span><span style="color: #DD0000">'ar'</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$start </span><span style="color: #007700">. </span><span style="color: #0000BB">$end</span><span style="color: #007700">} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$arr </span><span style="color: #007700">= </span><span style="color: #DD0000">'arr'</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]} . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>以上示例会输出：</p></div>
     <div class="example-contents screen"><br />
I am bar.<br />
I am bar.<br />
I am bar.<br />
I am r.<br />
     </div>
    </div>
   </p>

   <div class="warning"><strong class="warning">Warning</strong>
    <p class="simpara">
     注意，在 PHP 的函数和类的方法中，<a href="language.variables.superglobals.html" class="link">超全局变量</a>不能用作可变变量。<code class="literal">$this</code>
     变量也是一个特殊变量，不能被动态引用。
    </p>
   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128420""></a>
  <div class="note">
   <strong class="user">greaties at ghvernuft dot nl</strong>
   <a href="#128420" class="date">22-Apr-2023 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Superglobals can be referenced variably within a function, by calling them global:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">get_var</span><span class="keyword">(</span><span class="default">$varname</span><span class="keyword">){<br />
&nbsp; global $</span><span class="default">$varname</span><span class="keyword">;<br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">( $</span><span class="default">$varname</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">get_var</span><span class="keyword">(</span><span class="string">'_POST'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
(Note originally posted at https://www.php.net/manual/en/language.variables.superglobals.php#128418 but also appropriate here)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="127568""></a>
  <div class="note">
   <strong class="user">sebastopolys at gmail dot com</strong>
   <a href="#127568" class="date">03-Sep-2022 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In addition, it is possible to use associative array to secure name of variables available to be used within a function (or class / not tested).<br />
<br />
This way the variable variable feature is useful to validate variables; define, output and manage only within the function that receives as parameter <br />
an associative array : <br />
&nbsp;&nbsp;&nbsp; array('index'=&gt;'value','index'=&gt;'value');<br />
index = reference to variable to be used within function<br />
value = name of the variable to be used within function<br />
<span class="default">&lt;?php <br />
<br />
$vars </span><span class="keyword">= [</span><span class="string">'id'</span><span class="keyword">=&gt;</span><span class="string">'user_id'</span><span class="keyword">,</span><span class="string">'email'</span><span class="keyword">=&gt;</span><span class="string">'user_email'</span><span class="keyword">];<br />
<br />
</span><span class="default">validateVarsFunction</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">);<br />
<br />
function </span><span class="default">validateVarsFunction</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//$vars['id']=34; &lt;- does not work<br />
&nbsp;&nbsp; &nbsp; // define allowed variables<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$user_id</span><span class="keyword">=</span><span class="default">21</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$user_email</span><span class="keyword">=</span><span class="string">'email@mail.com'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">]; </span><span class="comment">// prints name of variable: user_id<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">echo ${</span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">]}; </span><span class="comment">// prints 21&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="string">'Email: '</span><span class="keyword">.${</span><span class="default">$vars</span><span class="keyword">[</span><span class="string">'email'</span><span class="keyword">]};&nbsp; </span><span class="comment">// print email@mail.com<br />
<br />
&nbsp;&nbsp; &nbsp; // we don't have the name of the variables before declaring them inside the function<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="127526""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#127526" class="date">24-Aug-2022 02:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found this could be useful in some way for using on multidimensional arrays:<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; $f="1";$g="2";$h="3";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $m="4";$n="5";$b="6";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $q="7";$w="8";$e="9";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $s="10";$d="11";$a="12";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $l="13";$o="14";$p="15";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $x="16";$c="17";$v="18";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $one=["f","g","h"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $two=["m","n","b"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $three=["q","w","e"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $four=["s","d","a"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $five=["l","o","p"];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $six=["x","c","v"]; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $first = array("one", "two", "three") ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $second = array("four", "five", "six") ;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $a = ["first","second"] ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print_r(${${${$a[1]}[1]}[1]});&nbsp; &nbsp; // 16</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="126036""></a>
  <div class="note">
   <strong class="user">derek at deperu dot com</strong>
   <a href="#126036" class="date">23-Apr-2021 07:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to use variable variables with for and foreach():<br />
<br />
<span class="default">&lt;?php<br />
$obj_1 </span><span class="keyword">= array(</span><span class="string">"one" </span><span class="keyword">=&gt; </span><span class="string">"One"</span><span class="keyword">, </span><span class="string">"two" </span><span class="keyword">=&gt; </span><span class="string">"Two"</span><span class="keyword">, </span><span class="string">"three" </span><span class="keyword">=&gt; </span><span class="string">"Three"</span><span class="keyword">);<br />
</span><span class="default">$obj_2 </span><span class="keyword">= array(</span><span class="string">"one" </span><span class="keyword">=&gt; </span><span class="string">"Four"</span><span class="keyword">, </span><span class="string">"two" </span><span class="keyword">=&gt; </span><span class="string">"Five"</span><span class="keyword">, </span><span class="string">"three" </span><span class="keyword">=&gt; </span><span class="string">"Six"</span><span class="keyword">);<br />
</span><span class="default">$obj_3 </span><span class="keyword">= array(</span><span class="string">"one" </span><span class="keyword">=&gt; </span><span class="string">"Seven"</span><span class="keyword">, </span><span class="string">"two" </span><span class="keyword">=&gt; </span><span class="string">"Eight"</span><span class="keyword">, </span><span class="string">"three" </span><span class="keyword">=&gt; </span><span class="string">"Nine"</span><span class="keyword">);<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">4</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) { <br />
<br />
&nbsp;&nbsp;&nbsp; foreach (${</span><span class="string">"obj_"</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">} as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$key </span><span class="keyword">. </span><span class="string">': ' </span><span class="keyword">. </span><span class="default">$value</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Result:<br />
<br />
one: One<br />
two: Two<br />
three: Three<br />
one: Four<br />
two: Five<br />
three: Six<br />
one: Seven<br />
two: Eight<br />
three: Nine</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125052""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#125052" class="date">27-May-2020 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use Variable Variables with $_POST,<br />
you may follow this example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// you created a form with variable names:<br />
</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'content_1'</span><span class="keyword">] = </span><span class="string">"blabla"</span><span class="keyword">;<br />
</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'content_2'</span><span class="keyword">] = </span><span class="string">"blublu"</span><span class="keyword">; <br />
</span><span class="comment">// ...<br />
</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'content_99'</span><span class="keyword">] = </span><span class="string">"bleble"</span><span class="keyword">; <br />
<br />
</span><span class="comment">// Then, you can use a loop:<br />
<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">99</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
echo </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">"content_</span><span class="default">$i</span><span class="string">"</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123599""></a>
  <div class="note">
   <strong class="user">marcin dot dzdza at gmail dot com</strong>
   <a href="#123599" class="date">10-Feb-2019 11:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The feature of variable variable names is welcome, but it should be avoided when possible. Modern IDE software fails to interpret such variables correctly, regular find/replace also fails. It's a kind of magic :) This may really make it hard to refactor code. Imagine you want to rename variable $username to $userName and try to find all occurrences of $username in code by checking "$userName". You may easily omit:<br />
$a = 'username';<br />
echo $$a;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122793""></a>
  <div class="note">
   <strong class="user">houssemzitoun91 at gmail dot com</strong>
   <a href="#122793" class="date">02-Jun-2018 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Even outside a function or a class method&nbsp; variable variables cannot be used with PHP's Superglobal arrays. See the example bellow:<br />
<span class="default">&lt;?php<br />
<br />
$a </span><span class="keyword">= </span><span class="string">'$GLOBALS["a"]'</span><span class="keyword">;<br />
<br />
function </span><span class="default">foo</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; global </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo $</span><span class="default">$a</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">"a"</span><span class="keyword">], </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// $GLOBALS["a"]<br />
<br />
</span><span class="keyword">echo ${</span><span class="default">$a</span><span class="keyword">}; </span><span class="comment">// PHP Notice:&nbsp; Undefined variable: $GLOBALS["a"]</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122530""></a>
  <div class="note">
   <strong class="user">wuhanqinb at gmail dot com</strong>
   <a href="#122530" class="date">21-Mar-2018 07:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For example #1，line：<br />
echo $foo-&gt;$baz[1] . "\n";<br />
It should be:<br />
echo $foo-&gt;{$baz[1]} . "\n";<br />
to run correctly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119582""></a>
  <div class="note">
   <strong class="user">herebepost (ta at ta) [iwonderr] gmail dot com</strong>
   <a href="#119582" class="date">11-Jul-2016 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While not relevant in everyday PHP programming, it seems to be possible to insert whitespace and comments between the dollar signs of a variable variable.&nbsp; All three comment styles work. This information becomes relevant when writing a parser, tokenizer or something else that operates on PHP syntax.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; $foo </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; $<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; I am complete legal and will compile without notices or error as a variable variable.<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">'magic'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$bar</span><span class="keyword">; </span><span class="comment">// Outputs magic.<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Behaviour tested with PHP Version 5.6.19</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116632""></a>
  <div class="note">
   <strong class="user">jefrey.sobreira [at] gmail [dot] com</strong>
   <a href="#116632" class="date">01-Feb-2015 05:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use a variable value in part of the name of a variable variable (not the whole name itself), you can do like the following:<br />
<br />
<span class="default">&lt;?php<br />
$price_for_monday </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />
</span><span class="default">$price_for_tuesday </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">;<br />
</span><span class="default">$price_for_wednesday </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">;<br />
<br />
</span><span class="default">$today </span><span class="keyword">= </span><span class="string">'tuesday'</span><span class="keyword">;<br />
<br />
</span><span class="default">$price_for_today </span><span class="keyword">= ${ </span><span class="string">'price_for_' </span><span class="keyword">. </span><span class="default">$today</span><span class="keyword">};<br />
echo </span><span class="default">$price_for_today</span><span class="keyword">; </span><span class="comment">// will return 20<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113497""></a>
  <div class="note">
   <strong class="user">Aycan Yat</strong>
   <a href="#113497" class="date">19-Oct-2013 06:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you might wish to modify value of an existing variable by its name. This is easily accomplishable with a combination of using "passing by reference" and "variable variables".<br />
<br />
$first_var = 1;<br />
$second_var = 2;<br />
$third_var = 3;<br />
<br />
$which_one = array_rand('first', 'second', 'third');<br />
//Let's consider the result is "second".<br />
<br />
$modifier = $$which_one;&nbsp; //Now $modifier has value 2.<br />
$modifier++; //Now $modifier's value is 3.<br />
echo $second_var; //Prints out 2<br />
<br />
//Consider we wish to modify the value of $second_var<br />
$modifier = &amp;$$which_one;&nbsp; //Simply passing by reference<br />
$modifier++; //Now value of $second_var is 3 too.<br />
echo $second_var; //Prints out 3<br />
<br />
It's that simple!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113168""></a>
  <div class="note">
   <strong class="user">coviex at gmail dot com</strong>
   <a href="#113168" class="date">08-Sep-2013 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In 5.4 "Dynamic class references require the fully qualified class name (with the namespace in it) because at runtime there is no information about the current namespace." is still true.<br />
Neither simple class name nor containing subnamespace works.<br />
Initial source: https://bugs.php.net/bug.php?id=45197</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109230""></a>
  <div class="note">
   <strong class="user">nils dot rocine at gmail dot com</strong>
   <a href="#109230" class="date">28-Jun-2012 01:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Variable Class Instantiation with Namespace Gotcha:<br />
<br />
Say you have a class you'd like to instantiate via a variable (with a string value of the Class name)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Foo <br />
</span><span class="keyword">{ <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() <br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"I'm a real class!" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
<br />
</span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The above works fine UNLESS you are in a (defined) namespace. Then you must provide the full namespaced identifier of the class as shown below. This is the case EVEN THOUGH the instancing happens in the same namespace. Instancing a class normally (not through a variable) does not require the namespace. This seems to establish the pattern that if you are using an namespace and you have a class name in a string, you must provide the namespace with the class for the PHP engine to correctly resolve (other cases: class_exists(), interface_exists(), etc.) <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">namespace </span><span class="default">MyNamespace</span><span class="keyword">;<br />
<br />
class </span><span class="default">Foo <br />
</span><span class="keyword">{ <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() <br />
&nbsp;&nbsp;&nbsp; { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"I'm a real class!" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'MyNamespace\Foo'</span><span class="keyword">;<br />
<br />
</span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105282""></a>
  <div class="note">
   <strong class="user">Omar Juvera</strong>
   <a href="#105282" class="date">07-Aug-2011 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example given in the php manual is confusing!<br />
I think this example it's easier to understand: <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">//Let's create a new variable: $new_variable_1<br />
</span><span class="default">$var_name </span><span class="keyword">= </span><span class="string">"new_variable_1"</span><span class="keyword">; </span><span class="comment">//$var_name will store the NAME of the new variable<br />
<br />
//Let's assign a value to that [$new_variable_1] variable:<br />
</span><span class="keyword">$</span><span class="default">$var_name&nbsp; </span><span class="keyword">= </span><span class="string">"value 1"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_1 = "value 1"<br />
<br />
</span><span class="keyword">echo </span><span class="string">"VARIABLE: " </span><span class="keyword">. </span><span class="default">$var_name</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"VALUE: " </span><span class="keyword">. $</span><span class="default">$var_name</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
The OUTPUT is:<br />
VARIABLE: new_variable_1<br />
VALUE: value 1 <br />
<br />
You can also create new variables in a loop:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">6</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br />
{<br />
</span><span class="default">$var_name</span><span class="keyword">[] = </span><span class="string">"new_variable_" </span><span class="keyword">. </span><span class="default">$i</span><span class="keyword">; </span><span class="comment">//$var_name[] will hold the new variable NAME<br />
</span><span class="keyword">}<br />
<br />
${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}&nbsp; = </span><span class="string">"value 1"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_1 = "value 1"<br />
</span><span class="keyword">${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}&nbsp; = </span><span class="string">"value 2"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_2 = "value 2"<br />
</span><span class="keyword">${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]}&nbsp; = </span><span class="string">"value 3"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_3 = "value 3"<br />
</span><span class="keyword">${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]}&nbsp; = </span><span class="string">"value 4"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_4 = "value 4"<br />
</span><span class="keyword">${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]}&nbsp; = </span><span class="string">"value 5"</span><span class="keyword">; </span><span class="comment">//Value of $new_variable_5 = "value 5"<br />
<br />
</span><span class="keyword">echo </span><span class="string">"VARIABLE: " </span><span class="keyword">. </span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] . </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"VALUE: " </span><span class="keyword">. ${</span><span class="default">$var_name</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]};<br />
</span><span class="default">?&gt;<br />
</span><br />
The OUTPUT is:<br />
VARIABLE: new_variable_1<br />
VALUE: value 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98641""></a>
  <div class="note">
   <strong class="user">mason</strong>
   <a href="#98641" class="date">28-Jun-2010 12:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP actually supports invoking a new instance of a class using a variable class name since at least version 5.2<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; public function </span><span class="default">hello</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Hello world!'</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$my_foo </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">$my_foo</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">hello</span><span class="keyword">(); </span><span class="comment">//prints 'Hello world!'<br />
</span><span class="default">?&gt;<br />
</span><br />
Additionally, you can access static methods and properties using variable class names, but only since PHP 5.3<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; public static function </span><span class="default">hello</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">'Hello world!'</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$my_foo </span><span class="keyword">= </span><span class="string">'Foo'</span><span class="keyword">;<br />
</span><span class="default">$my_foo</span><span class="keyword">::</span><span class="default">hello</span><span class="keyword">(); </span><span class="comment">//prints 'Hello world!'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97222""></a>
  <div class="note">
   <strong class="user">userb at exampleb dot org</strong>
   <a href="#97222" class="date">08-Apr-2010 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
&nbsp; </span><span class="comment">//You can even add more Dollar Signs<br />
<br />
&nbsp; </span><span class="default">$Bar </span><span class="keyword">= </span><span class="string">"a"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Foo </span><span class="keyword">= </span><span class="string">"Bar"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$World </span><span class="keyword">= </span><span class="string">"Foo"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$Hello </span><span class="keyword">= </span><span class="string">"World"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="string">"Hello"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Hello<br />
&nbsp; </span><span class="keyword">$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns World<br />
&nbsp; </span><span class="keyword">$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Foo<br />
&nbsp; </span><span class="keyword">$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Bar<br />
&nbsp; </span><span class="keyword">$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns a<br />
<br />
&nbsp; </span><span class="keyword">$$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns Hello<br />
&nbsp; </span><span class="keyword">$$$$$$</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">//Returns World<br />
<br />
&nbsp; //... and so on ...//<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96225""></a>
  <div class="note">
   <strong class="user">dlorre at yahoo dot com</strong>
   <a href="#96225" class="date">16-Feb-2010 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Adding an element directly to an array using variables:<br />
<br />
<span class="default">&lt;?php<br />
$tab </span><span class="keyword">= array(</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">, </span><span class="string">"three"</span><span class="keyword">) ;<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">"tab" </span><span class="keyword">;<br />
$</span><span class="default">$a</span><span class="keyword">[] =</span><span class="string">"four" </span><span class="keyword">; </span><span class="comment">// &lt;==== fatal error<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">) ;<br />
</span><span class="default">?&gt;<br />
</span>will issue this error:<br />
<br />
Fatal error: Cannot use [] for reading<br />
<br />
This is not a bug, you need to use the {} syntax to remove the ambiguity.<br />
<br />
<span class="default">&lt;?php<br />
$tab </span><span class="keyword">= array(</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">, </span><span class="string">"three"</span><span class="keyword">) ;<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">"tab" </span><span class="keyword">;<br />
${</span><span class="default">$a</span><span class="keyword">}[] =&nbsp; </span><span class="string">"four" </span><span class="keyword">; </span><span class="comment">// &lt;==== this is the correct way to do it<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">) ;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91181""></a>
  <div class="note">
   <strong class="user">php at ianco dot co dot uk</strong>
   <a href="#91181" class="date">28-May-2009 02:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">// $variable-name = 'parse error';<br />
// You can't do that but you can do this:<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'variable-name'</span><span class="keyword">;<br />
$</span><span class="default">$a </span><span class="keyword">= </span><span class="string">'hello'</span><span class="keyword">;<br />
echo </span><span class="default">$variable</span><span class="keyword">-</span><span class="default">name </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. $</span><span class="default">$a</span><span class="keyword">; </span><span class="comment">// Gives&nbsp; &nbsp;&nbsp; 0 hello<br />
</span><span class="default">?&gt;<br />
</span><br />
For a particular reason I had been using some variable names with hyphens for ages. There was no problem because they were only referenced via a variable variable. I only saw a parse error much later, when I tried to reference one directly. It took a while to realise that illegal hyphens were the cause because the parse error only occurs on assignment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83658""></a>
  <div class="note">
   <strong class="user">nullhility at gmail dot com</strong>
   <a href="#83658" class="date">06-Jun-2008 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's also valuable to note the following:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">${</span><span class="default">date</span><span class="keyword">(</span><span class="string">"M"</span><span class="keyword">)} = </span><span class="string">"Worked"</span><span class="keyword">;<br />
echo ${</span><span class="default">date</span><span class="keyword">(</span><span class="string">"M"</span><span class="keyword">)};<br />
</span><span class="default">?&gt;<br />
</span><br />
This is perfectly legal, anything inside the braces is executed first, the return value then becomes the variable name. Echoing the same variable variable using the function that created it results in the same return and therefore the same variable name is used in the echo statement. Have fun ;).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81033""></a>
  <div class="note">
   <strong class="user">Nathan Hammond</strong>
   <a href="#81033" class="date">11-Feb-2008 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
These are the scenarios that you may run into trying to reference superglobals dynamically. Whether or not it works appears to be dependent upon the current scope.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$_POST</span><span class="keyword">[</span><span class="string">'asdf'</span><span class="keyword">] = </span><span class="string">'something'</span><span class="keyword">;<br />
<br />
function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// NULL -- not what initially expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">'_POST'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Works as expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="string">'_POST'</span><span class="keyword">});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Works as expected<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">global ${</span><span class="default">$string</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
}<br />
<br />
</span><span class="comment">// Works as expected<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">'_POST'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(${</span><span class="default">$string</span><span class="keyword">});<br />
<br />
</span><span class="default">test</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79460""></a>
  <div class="note">
   <strong class="user">correojulian33-php at yahoo dot es</strong>
   <a href="#79460" class="date">28-Nov-2007 06:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This example may help to overcome the limitation on $this.<br />
<br />
Populate automatically fields of an object form a $_GET variable.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">pp</span><span class="keyword">{<br />
&nbsp;&nbsp; var </span><span class="default">$prop1</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">,</span><span class="default">$prop2</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">,</span><span class="default">$prop3</span><span class="keyword">=array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; function </span><span class="default">fun1</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$vars</span><span class="keyword">=</span><span class="default">get_class_vars</span><span class="keyword">(</span><span class="string">'pp'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; while(list(</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ref</span><span class="keyword">=&amp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$var</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ref</span><span class="keyword">=</span><span class="default">$_GET</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; } </span><span class="comment">// while<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'prop1'</span><span class="keyword">]=</span><span class="string">"uno"</span><span class="keyword">;<br />
</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'prop2'</span><span class="keyword">]=</span><span class="string">"dos"</span><span class="keyword">;<br />
</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'prop3'</span><span class="keyword">]=array(</span><span class="string">'tres'</span><span class="keyword">,</span><span class="string">'cuatro'</span><span class="keyword">,</span><span class="string">'cinco'</span><span class="keyword">,</span><span class="string">'seis'</span><span class="keyword">);<br />
<br />
</span><span class="default">$p</span><span class="keyword">=new </span><span class="default">pp</span><span class="keyword">();<br />
</span><span class="default">$p</span><span class="keyword">-&gt;</span><span class="default">fun1</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
output is ...<br />
<br />
object(pp)#1 (3) {<br />
&nbsp; ["prop1"]=&gt;<br />
&nbsp; &amp;string(3) "uno"<br />
&nbsp; ["prop2"]=&gt;<br />
&nbsp; &amp;string(3) "dos"<br />
&nbsp; ["prop3"]=&gt;<br />
&nbsp; &amp;array(4) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(4) "tres"<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "cuatro"<br />
&nbsp;&nbsp;&nbsp; [2]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(5) "cinco"<br />
&nbsp;&nbsp;&nbsp; [3]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(4) "seis"<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78466""></a>
  <div class="note">
   <strong class="user">the_tevildo at yahoo dot com</strong>
   <a href="#78466" class="date">13-Oct-2007 06:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a handy function I put together to allow variable variables to be used with arrays.<br />
<br />
To use the function, when you want to reference an array, send it in the form 'array:key' rather than 'array[key]'.<br />
<br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">indirect </span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)&nbsp; &nbsp;&nbsp; </span><span class="comment">// Replaces $$var = $value<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; </span><span class="default">$var_data </span><span class="keyword">= </span><span class="default">$explode</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">);<br />
&nbsp;&nbsp; if (isset(</span><span class="default">$var_data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]))<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; ${</span><span class="default">$var_data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}[</span><span class="default">$var_data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; else<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; ${</span><span class="default">$var_data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]} = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$temp_array </span><span class="keyword">= </span><span class="default">array_fill</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$temp_var </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$int_var_list </span><span class="keyword">= array(</span><span class="string">'temp_array[2]'</span><span class="keyword">, </span><span class="string">'temp_var'</span><span class="keyword">);<br />
<br />
while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$var_name</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$int_var_list</span><span class="keyword">))<br />
{<br />
&nbsp;&nbsp; </span><span class="comment">//&nbsp; Doesn't work - creates scalar variable called "$temp_array[2]" <br />
&nbsp;&nbsp; </span><span class="keyword">$</span><span class="default">$var_name </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$temp_array</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$temp_var</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="comment">//&nbsp; Does work!<br />
<br />
</span><span class="default">$int_var_list </span><span class="keyword">= array(</span><span class="string">'temp_array:2'</span><span class="keyword">, </span><span class="string">'temp_var'</span><span class="keyword">);<br />
<br />
while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$var_name</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$int_var_list</span><span class="keyword">))<br />
{<br />
&nbsp;&nbsp; </span><span class="default">indirect</span><span class="keyword">(</span><span class="default">$var_name</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$temp_array</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$temp_var</span><span class="keyword">);<br />
echo </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75669""></a>
  <div class="note">
   <strong class="user">Sinured</strong>
   <a href="#75669" class="date">11-Jun-2007 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
One interesting thing I found out: You can concatenate variables and use spaces. Concatenating constants and function calls are also possible.
<br />

<br />
<span class="default">&lt;?php
<br />
define</span><span class="keyword">(</span><span class="string">'ONE'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);
<br />
function </span><span class="default">one</span><span class="keyword">() {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">1</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">$one </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br />

<br />
${</span><span class="string">"foo</span><span class="default">$one</span><span class="string">"</span><span class="keyword">} = </span><span class="string">'foo'</span><span class="keyword">;
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// foo
<br />
</span><span class="keyword">${</span><span class="string">'foo' </span><span class="keyword">. </span><span class="default">ONE</span><span class="keyword">} = </span><span class="string">'bar'</span><span class="keyword">; 
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// bar
<br />
</span><span class="keyword">${</span><span class="string">'foo' </span><span class="keyword">. </span><span class="default">one</span><span class="keyword">()} = </span><span class="string">'baz'</span><span class="keyword">;
<br />
echo </span><span class="default">$foo1</span><span class="keyword">; </span><span class="comment">// baz
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This syntax doesn't work for functions:
<br />

<br />
<span class="default">&lt;?php
<br />
$foo </span><span class="keyword">= </span><span class="string">'info'</span><span class="keyword">;
<br />
{</span><span class="string">"php</span><span class="default">$foo</span><span class="string">"</span><span class="keyword">}(); </span><span class="comment">// Parse error
<br />

<br />
// You'll have to do:
<br />
</span><span class="default">$func </span><span class="keyword">= </span><span class="string">"php</span><span class="default">$foo</span><span class="string">"</span><span class="keyword">;
<br />
</span><span class="default">$func</span><span class="keyword">();
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Note: Don't leave out the quotes on strings inside the curly braces, PHP won't handle that graciously.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50912""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#50912" class="date">13-Mar-2005 07:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It may be worth specifically noting, if variable names follow some kind of "template," they can be referenced like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Given these variables ...<br />
</span><span class="default">$nameTypes&nbsp; &nbsp; </span><span class="keyword">= array(</span><span class="string">"first"</span><span class="keyword">, </span><span class="string">"last"</span><span class="keyword">, </span><span class="string">"company"</span><span class="keyword">);<br />
</span><span class="default">$name_first&nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">"John"</span><span class="keyword">;<br />
</span><span class="default">$name_last&nbsp; &nbsp; </span><span class="keyword">= </span><span class="string">"Doe"</span><span class="keyword">;<br />
</span><span class="default">$name_company </span><span class="keyword">= </span><span class="string">"PHP.net"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Then this loop is ...<br />
</span><span class="keyword">foreach(</span><span class="default">$nameTypes </span><span class="keyword">as </span><span class="default">$type</span><span class="keyword">)<br />
&nbsp; print ${</span><span class="string">"name_</span><span class="default">$type</span><span class="string">"</span><span class="keyword">} . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// ... equivalent to this print statement.<br />
</span><span class="keyword">print </span><span class="string">"</span><span class="default">$name_first</span><span class="string">\n</span><span class="default">$name_last</span><span class="string">\n</span><span class="default">$name_company</span><span class="string">\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This is apparent from the notes others have left, but is not explicitly stated.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31857""></a>
  <div class="note">
   <strong class="user">sir_hmba AT yahoo DOT com</strong>
   <a href="#31857" class="date">06-May-2003 03:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is somewhat redundant, but I didn't see an example that combined dynamic reference of *both* object and attribute names.
<br />

<br />
Here's the code:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">foo
<br />
</span><span class="keyword">{
<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$bar</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$baz</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">foo</span><span class="keyword">()
<br />
&nbsp;&nbsp;&nbsp; {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">baz </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />

<br />
</span><span class="default">$f </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">();
<br />
echo </span><span class="string">"f-&gt;bar=</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="string">&nbsp; f-&gt;baz=</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">baz</span><span class="string">\n"</span><span class="keyword">;
<br />

<br />
</span><span class="default">$obj&nbsp; </span><span class="keyword">= </span><span class="string">'f'</span><span class="keyword">;
<br />
</span><span class="default">$attr </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;
<br />
</span><span class="default">$val&nbsp; </span><span class="keyword">= $</span><span class="default">$obj</span><span class="keyword">-&gt;{</span><span class="default">$attr</span><span class="keyword">};
<br />

<br />
echo </span><span class="string">"obj=</span><span class="default">$obj</span><span class="string">&nbsp; attr=</span><span class="default">$attr</span><span class="string">&nbsp; val=</span><span class="default">$val</span><span class="string">\n"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
And here's the output:
<br />

<br />
f-&gt;bar=3&nbsp; f-&gt;baz=6
<br />
$obj=f&nbsp; $attr=bar&nbsp; $val=3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25314""></a>
  <div class="note">
   <strong class="user">antony dot booth at nodomain dot here</strong>
   <a href="#25314" class="date">19-Sep-2002 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You may think of using variable variables to dynamically generate variables from an array, by doing something similar to: -<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) <br />
&nbsp;{<br />
&nbsp; $</span><span class="default">$key</span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This however would be reinventing the wheel when you can simply use: <br />
<br />
<span class="default">&lt;?php<br />
extract</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">EXTR_OVERWRITE</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that this will overwrite the contents of variables that already exist.<br />
<br />
Extract has useful functionality to prevent this, or you may group the variables by using prefixes too, so you could use: -<br />
<br />
EXTR_PREFIX_ALL<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">=array(</span><span class="string">"one" </span><span class="keyword">=&gt; </span><span class="string">"First Value"</span><span class="keyword">,<br />
</span><span class="string">"two" </span><span class="keyword">=&gt; </span><span class="string">"2nd Value"</span><span class="keyword">,<br />
</span><span class="string">"three" </span><span class="keyword">=&gt; </span><span class="string">"8"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">extract</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">EXTR_PREFIX_ALL</span><span class="keyword">, </span><span class="string">"my_prefix_"</span><span class="keyword">);<br />
&nbsp;&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
This would create variables: -<br />
$my_prefix_one <br />
$my_prefix_two<br />
$my_prefix_three<br />
<br />
containing: -<br />
"First Value", "2nd Value" and "8" respectively</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25023""></a>
  <div class="note">
   <strong class="user">jupp-mueller at t-online dot de</strong>
   <a href="#25023" class="date">08-Sep-2002 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found another undocumented/cool feature: variable member variables in classes. It's pretty easy:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{
<br />
&nbsp; function </span><span class="default">bar</span><span class="keyword">() {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bar1 </span><span class="keyword">= </span><span class="string">"var1"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bar2 </span><span class="keyword">= </span><span class="string">"var2"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$bar1</span><span class="keyword">}= </span><span class="string">"this "</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$bar2</span><span class="keyword">} = </span><span class="string">"works"</span><span class="keyword">;
<br />
&nbsp; }
<br />
}
<br />

<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">;
<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">();
<br />
echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">var1 </span><span class="keyword">. </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">var2</span><span class="keyword">;
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24296""></a>
  <div class="note">
   <strong class="user">J. Dyer</strong>
   <a href="#24296" class="date">12-Aug-2002 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another use for this feature in PHP is dynamic parsing..&nbsp; 
<br />

<br />
Due to the rather odd structure of an input string I am currently parsing, I must have a reference for each particular object instantiation in the order which they were created.&nbsp; In addition, because of the syntax of the input string, elements of the previous object creation are required for the current one.&nbsp; 
<br />

<br />
Normally, you won't need something this convolute.&nbsp; In this example, I needed to load an array with dynamically named objects - (yes, this has some basic Object Oriented programming, please bare with me..)
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp; </span><span class="keyword">include(</span><span class="string">"obj.class"</span><span class="keyword">);
<br />

<br />
&nbsp;&nbsp; </span><span class="comment">// this is only a skeletal example, of course.
<br />
&nbsp;&nbsp; </span><span class="default">$object_array </span><span class="keyword">= array();
<br />

<br />
&nbsp;&nbsp; </span><span class="comment">// assume the $input array has tokens for parsing.
<br />
&nbsp;&nbsp; </span><span class="keyword">foreach (</span><span class="default">$input_array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$value</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// test to ensure the $value is what we need.
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$obj </span><span class="keyword">= </span><span class="string">"obj"</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Obj</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$other_var</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">Array_Push</span><span class="keyword">(</span><span class="default">$object_array</span><span class="keyword">, $</span><span class="default">$obj</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// etc..
<br />
&nbsp;&nbsp; </span><span class="keyword">}
<br />

<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Now, we can use basic array manipulation to get these objects out in the particular order we need, and the objects no longer are dependant on the previous ones.
<br />

<br />
I haven't fully tested the implimentation of the objects.&nbsp; The&nbsp; scope of a variable-variable's object attributes (get all that?) is a little tough to crack.&nbsp; Regardless, this is another example of the manner in which the var-vars can be used with precision where tedious, extra hard-coding is the only alternative.
<br />

<br />
Then, we can easily pull everything back out again using a basic array function: foreach.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">//...
<br />
&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$object</span><span class="keyword">){
<br />

<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="default">$key</span><span class="keyword">.</span><span class="string">" -- "</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">print_fcn</span><span class="keyword">().</span><span class="string">" &lt;br/&gt;\n"</span><span class="keyword">;
<br />

<br />
&nbsp;&nbsp; } </span><span class="comment">// end foreach&nbsp;&nbsp; 
<br />

<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Through this, we can pull a dynamically named object out of the array it was stored in without actually knowing its name.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22037""></a>
  <div class="note">
   
   <a href="#22037" class="date">04-Jun-2002 11:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The 'dollar dereferencing' (to coin a phrase) doesn't seem to be limited to two layers, even without curly braces.&nbsp; Observe:
<br />

<br />
<span class="default">&lt;?php
<br />
$one </span><span class="keyword">= </span><span class="string">"two"</span><span class="keyword">;
<br />
</span><span class="default">$two </span><span class="keyword">= </span><span class="string">"three"</span><span class="keyword">;
<br />
</span><span class="default">$three </span><span class="keyword">= </span><span class="string">"four"</span><span class="keyword">;
<br />
</span><span class="default">$four </span><span class="keyword">= </span><span class="string">"five"</span><span class="keyword">;
<br />
echo $$$</span><span class="default">$one</span><span class="keyword">; </span><span class="comment">//prints 'five'.
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This works for L-values as well.&nbsp; So the below works the same way:
<br />

<br />
<span class="default">&lt;?php
<br />
$one </span><span class="keyword">= </span><span class="string">"two"</span><span class="keyword">;
<br />
$</span><span class="default">$one </span><span class="keyword">= </span><span class="string">"three"</span><span class="keyword">;
<br />
$$</span><span class="default">$one </span><span class="keyword">= </span><span class="string">"four"</span><span class="keyword">;
<br />
$$$</span><span class="default">$one </span><span class="keyword">= </span><span class="string">"five"</span><span class="keyword">;
<br />
echo $$$</span><span class="default">$one</span><span class="keyword">; </span><span class="comment">//still prints 'five'.
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
NOTE: Tested on PHP 4.2.1, Apache 2.0.36, Red Hat 7.2</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14664""></a>
  <div class="note">
   <strong class="user">chrisNOSPAM at kampmeier dot net</strong>
   <a href="#14664" class="date">08-Aug-2001 10:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that normal variable variables will not be parsed in double-quoted strings. You'll have to use the braces to make it work, to resolve the ambiguity. For example:
<br />

<br />
<span class="default">&lt;?php
<br />
$varname </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;
<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="string">"bar"</span><span class="keyword">;
<br />

<br />
print $</span><span class="default">$varname</span><span class="keyword">;&nbsp; </span><span class="comment">// Prints "bar"
<br />
</span><span class="keyword">print </span><span class="string">"$</span><span class="default">$varname</span><span class="string">"</span><span class="keyword">;&nbsp; </span><span class="comment">// Prints "$foo"
<br />
</span><span class="keyword">print </span><span class="string">"</span><span class="keyword">${</span><span class="default">$varname</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">; </span><span class="comment">// Prints "bar"
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12841""></a>
  <div class="note">
   <strong class="user">mstearne at entermix dot com</strong>
   <a href="#12841" class="date">10-May-2001 06:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Variable variables techniques do not work when one of the "variables" is a constant.&nbsp; The example below illustrates this.&nbsp; This is probably the desired behavior for constants, but was confusing for me when I was trying to figure it out.&nbsp; The alternative I used was to add the variables I needed to the $GLOBALS array instead of defining them as constants. 
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
define</span><span class="keyword">(</span><span class="string">"DB_X_NAME"</span><span class="keyword">,</span><span class="string">"database1"</span><span class="keyword">);
<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">"DB_Y_NAME"</span><span class="keyword">,</span><span class="string">"database2"</span><span class="keyword">);
<br />
</span><span class="default">$DB_Z_NAME</span><span class="keyword">=</span><span class="string">"database3"</span><span class="keyword">;
<br />

<br />

<br />
function </span><span class="default">connectTo</span><span class="keyword">(</span><span class="default">$databaseName</span><span class="keyword">){
<br />
global </span><span class="default">$DB_Z_NAME</span><span class="keyword">;
<br />

<br />
</span><span class="default">$fullDatabaseName</span><span class="keyword">=</span><span class="string">"DB_"</span><span class="keyword">.</span><span class="default">$databaseName</span><span class="keyword">.</span><span class="string">"_NAME"</span><span class="keyword">;
<br />
return ${</span><span class="default">$fullDatabaseName</span><span class="keyword">};
<br />

<br />
}
<br />

<br />
print </span><span class="string">"DB_X_NAME is "</span><span class="keyword">.</span><span class="default">connectTo</span><span class="keyword">(</span><span class="string">"X"</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br />
print </span><span class="string">"DB_Y_NAME is "</span><span class="keyword">.</span><span class="default">connectTo</span><span class="keyword">(</span><span class="string">"Y"</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br />
print </span><span class="string">"DB_Z_NAME is "</span><span class="keyword">.</span><span class="default">connectTo</span><span class="keyword">(</span><span class="string">"Z"</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br />

<br />
</span><span class="default">?&gt;
<br />
</span>[Editor Note: For variable constants, use constant() --Philip]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="10034""></a>
  <div class="note">
   <strong class="user">dnl at au dot ru</strong>
   <a href="#10034" class="date">08-Dec-2000 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
By the way...
<br />
Variable variables can be used as pointers to objects' properties:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">someclass </span><span class="keyword">{
<br />
&nbsp; var </span><span class="default">$a </span><span class="keyword">= </span><span class="string">"variable a"</span><span class="keyword">;
<br />
&nbsp; var </span><span class="default">$b </span><span class="keyword">= </span><span class="string">"another variable: b"</span><span class="keyword">;
<br />
&nbsp; }
<br />

<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">someclass</span><span class="keyword">;
<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="string">"b"</span><span class="keyword">;
<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$d</span><span class="keyword">};
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
outputs: another variable: b</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="9451""></a>
  <div class="note">
   <strong class="user">mccoyj at mail dot utexas dot edu</strong>
   <a href="#9451" class="date">03-Nov-2000 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is no need for the braces for variable object names...they are only needed by an ambiguity arises concerning which part of the reference is variable...usually with arrays.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">Schlemiel </span><span class="keyword">{
<br />
var </span><span class="default">$aVar </span><span class="keyword">= </span><span class="string">"foo"</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$schlemiel </span><span class="keyword">= new </span><span class="default">Schlemiel</span><span class="keyword">;
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">"schlemiel"</span><span class="keyword">;
<br />
echo $</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">aVar</span><span class="keyword">;
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
This code outputs "foo" using PHP 4.0.3.
<br />

<br />
Hope this helps...
<br />
- Jordan</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
