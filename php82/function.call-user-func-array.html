<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>调用回调函数，并把一个数组参数作为回调函数的参数</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ref.funchand.html">? 函数处理 函数</a></li>
      <li style="float: right;"><a href="function.call-user-func.html">call_user_func ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.funchand.html">函数处理 函数</a></li>
    <li>调用回调函数，并把一个数组参数作为回调函数的参数</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.call-user-func-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">call_user_func_array</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">call_user_func_array</span> &mdash; <span class="dc-title">调用回调函数，并把一个数组参数作为回调函数的参数</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.call-user-func-array-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>call_user_func_array</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$args</code></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   把第一个参数作为回调函数（<code class="parameter">callback</code>）调用，把参数数组作（<code class="parameter">args</code>）为回调函数的的参数传入。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.call-user-func-array-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <p class="para">
       被调用的回调函数。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">args</code></dt>

     <dd>

      <p class="para">
       要被传入回调函数的数组。
      </p>
      <p class="para">
       如果 <code class="parameter">args</code> 的 key 都是数字，则会忽略 key，并按顺序将每个元素作为位置参数传递给 <code class="parameter">callback</code> 。
      </p>
      <p class="para">
       如果 <code class="parameter">args</code> 的任一 key 是字符串，则这些元素将作为命名参数传递给 <code class="parameter">callback</code>，名称由 key 指定。
      </p>
      <p class="para">
       在 <code class="parameter">args</code> 中，如果数字 key 在 字符串 key 之后出现，或者字符串 key
       与 <code class="parameter">callback</code> 的任何参数名称不匹配，将会导致 fatal error。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.call-user-func-array-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回回调函数的结果。如果出错的话就返回 <strong><code>false</code></strong> 。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.call-user-func-array-changelog">
  <h3 class="title">更新日志</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>版本</th>
       <th>说明</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        <code class="parameter">args</code> 键现在将被解释为参数名称，而不是被默默地忽略。
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.call-user-func-array-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 <span class="function"><strong>call_user_func_array()</strong></span>例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">, </span><span style="color: #0000BB">$arg2</span><span style="color: #007700">) {<br />    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #DD0000">" got </span><span style="color: #0000BB">$arg</span><span style="color: #DD0000"> and </span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br />class </span><span style="color: #0000BB">foo </span><span style="color: #007700">{<br />    function </span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">, </span><span style="color: #0000BB">$arg2</span><span style="color: #007700">) {<br />        echo </span><span style="color: #0000BB">__METHOD__</span><span style="color: #007700">, </span><span style="color: #DD0000">" got </span><span style="color: #0000BB">$arg</span><span style="color: #DD0000"> and </span><span style="color: #0000BB">$arg2</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /><br /></span><span style="color: #FF8000">// Call the foobar() function with 2 arguments<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">"one"</span><span style="color: #007700">, </span><span style="color: #DD0000">"two"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Call the $foo-&gt;bar() method with 2 arguments<br /></span><span style="color: #0000BB">$foo </span><span style="color: #007700">= new </span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, </span><span style="color: #DD0000">"bar"</span><span style="color: #007700">), array(</span><span style="color: #DD0000">"three"</span><span style="color: #007700">, </span><span style="color: #DD0000">"four"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
foobar got one and two
foo::bar got three and four
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Example #2 <span class="function"><strong>call_user_func_array()</strong></span>使用命名空间的情况</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">namespace </span><span style="color: #0000BB">Foobar</span><span style="color: #007700">;<br /><br />class </span><span style="color: #0000BB">Foo </span><span style="color: #007700">{<br />    static public function </span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">) {<br />        print </span><span style="color: #DD0000">"Hello </span><span style="color: #007700">{</span><span style="color: #0000BB">$name</span><span style="color: #007700">}</span><span style="color: #DD0000">!\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #0000BB">__NAMESPACE__ </span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo::test'</span><span style="color: #007700">, array(</span><span style="color: #DD0000">'Hannes'</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(array(</span><span style="color: #0000BB">__NAMESPACE__ </span><span style="color: #007700">.</span><span style="color: #DD0000">'\Foo'</span><span style="color: #007700">, </span><span style="color: #DD0000">'test'</span><span style="color: #007700">), array(</span><span style="color: #DD0000">'Philip'</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Hello Hannes!
Hello Philip!
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Example #3 把完整的函数作为回调传入<span class="function"><strong>call_user_func_array()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$func </span><span style="color: #007700">= function(</span><span style="color: #0000BB">$arg1</span><span style="color: #007700">, </span><span style="color: #0000BB">$arg2</span><span style="color: #007700">) {<br />    return </span><span style="color: #0000BB">$arg1 </span><span style="color: #007700">* </span><span style="color: #0000BB">$arg2</span><span style="color: #007700">;<br />};<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">, array(</span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">)));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
int(8)
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Example #4 传引用</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function </span><span style="color: #0000BB">mega</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">){<br />    </span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">55</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"function mega \$a=</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$bar </span><span style="color: #007700">= </span><span style="color: #0000BB">77</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'mega'</span><span style="color: #007700">,array(&amp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">));<br />echo </span><span style="color: #DD0000">"global \$bar=</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
function mega $a=55
global $bar=55
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Example #5 <span class="function"><strong>call_user_func_array()</strong></span> 使用命名参数</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foobar</span><span style="color: #007700">(</span><span style="color: #0000BB">$first</span><span style="color: #007700">, </span><span style="color: #0000BB">$second</span><span style="color: #007700">) {<br />    echo </span><span style="color: #0000BB">__FUNCTION__</span><span style="color: #007700">, </span><span style="color: #DD0000">" got </span><span style="color: #0000BB">$first</span><span style="color: #DD0000"> and </span><span style="color: #0000BB">$second</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">// Call the foobar() function with named arguments in non-positional order<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">"second" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"two"</span><span style="color: #007700">, </span><span style="color: #DD0000">"first" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"one"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Call the foobar() function with one named argument<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">"foo"</span><span style="color: #007700">, </span><span style="color: #DD0000">"second" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"bar"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Fatal error: Cannot use positional argument after named argument<br /></span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #DD0000">"foobar"</span><span style="color: #007700">, array(</span><span style="color: #DD0000">"first" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"one"</span><span style="color: #007700">, </span><span style="color: #DD0000">"bar"</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例的输出类似于：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
foobar got one and two
foobar got foo and bar

Fatal error: Uncaught Error: Cannot use positional argument after named argument
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.call-user-func-array-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">在函数中注册有多个回调内容时(如使用
<span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> 与 <span class="function"><strong>call_user_func_array()</strong></span>)，如在前一个回调中有未捕获的异常，其后的将不再被调用。</p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.call-user-func-array-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.call-user-func.html" class="function" rel="rdfs-seeAlso">call_user_func()</a> - 把第一个参数作为回调函数调用</span></li>
    <li class="member"><span class="methodname"><a href="reflectionfunction.invokeargs.html" class="methodname" rel="rdfs-seeAlso">ReflectionFunction::invokeArgs()</a> - Invokes function args</span></li>
    <li class="member"><span class="methodname"><a href="reflectionmethod.invokeargs.html" class="methodname" rel="rdfs-seeAlso">ReflectionMethod::invokeArgs()</a> - 带参数执行</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="126138""></a>
  <div class="note">
   <strong class="user">qwe at hi2 dot in</strong>
   <a href="#126138" class="date">04-Jun-2021 06:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Or you can call a function like<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="string">" got </span><span class="default">$arg1</span><span class="string"> and </span><span class="default">$arg2</span><span class="string">\n"</span><span class="keyword">;<br />
}<br />
function </span><span class="default">bar</span><span class="keyword">(</span><span class="default">$arg1</span><span class="keyword">, </span><span class="default">$arg2</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="string">" got </span><span class="default">$arg</span><span class="string"> and </span><span class="default">$arg2</span><span class="string">\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$run</span><span class="keyword">=</span><span class="string">'foo'</span><span class="keyword">;<br />
<br />
</span><span class="default">$run</span><span class="keyword">(</span><span class="string">'one'</span><span class="keyword">, </span><span class="string">'two'</span><span class="keyword">);</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125953""></a>
  <div class="note">
   <strong class="user">sebastian dot rapetti at tim dot it</strong>
   <a href="#125953" class="date">23-Mar-2021 08:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using PHP 8, call_user_func_array call callback function using named arguments if an array with keys is passed to $args parameter, if the array used has only values, arguments are passed positionally.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">test</span><span class="keyword">(</span><span class="default">string $param1</span><span class="keyword">, </span><span class="default">string $param2</span><span class="keyword">): </span><span class="default">void<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$param1</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$param2</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$args </span><span class="keyword">= [</span><span class="string">'hello'</span><span class="keyword">, </span><span class="string">'world'</span><span class="keyword">];<br />
</span><span class="comment">//hello world<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
<br />
</span><span class="default">$args </span><span class="keyword">= [</span><span class="string">'param2' </span><span class="keyword">=&gt; </span><span class="string">'world'</span><span class="keyword">, </span><span class="string">'param1' </span><span class="keyword">=&gt; </span><span class="string">'hello'</span><span class="keyword">];<br />
</span><span class="comment">//hello world<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
<br />
</span><span class="default">$args </span><span class="keyword">= [</span><span class="string">'unknown_param' </span><span class="keyword">=&gt; </span><span class="string">'hello'</span><span class="keyword">, </span><span class="string">'param2' </span><span class="keyword">=&gt; </span><span class="string">'world'</span><span class="keyword">];<br />
</span><span class="comment">//Fatal error: Uncaught Error: Unknown named parameter $unknown_param<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125693""></a>
  <div class="note">
   <strong class="user">simopelle04 at gmail dot com</strong>
   <a href="#125693" class="date">18-Jan-2021 09:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since PHP 5.6 you can use the spread operator (argument unpacking) instead of call_user_func_array().<br />
<br />
&nbsp;&nbsp;&nbsp; public function __call($name, $arguments) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(method_exists($this-&gt;foo, $name))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return call_user_func_array(array($this-&gt;foo, $name), $arguments);&nbsp; &nbsp; //calls function from inside $this-&gt;foo<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new BadMethodCallException('Call to undefined method ' . static::class . "::$name()", 0);&nbsp; &nbsp; //the method does not exist on $this-&gt;foo<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
is the same as<br />
<br />
&nbsp;&nbsp;&nbsp; public function __call($name, $arguments) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(method_exists($this-&gt;foo, $name))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $this-&gt;foo-&gt;$name(...$arguments);&nbsp; &nbsp; //calls function from inside $this-&gt;foo<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new BadMethodCallException('Call to undefined method ' . static::class . "::$name()", 0);&nbsp; &nbsp; //the method does not exist on $this-&gt;foo<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124417""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#124417" class="date">21-Nov-2019 12:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">namespace </span><span class="default">Foobar</span><span class="keyword">;<br />
<br />
class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$email</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$age</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setEmail</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">email </span><span class="keyword">= </span><span class="default">$email</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setName</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setAge</span><span class="keyword">(</span><span class="default">$age</span><span class="keyword">) {&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">age </span><span class="keyword">= </span><span class="default">$age</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function </span><span class="default">getFields</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; return [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"age" </span><span class="keyword">=&gt; </span><span class="default">112</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"email" </span><span class="keyword">=&gt; </span><span class="string">"lol@lol.fr"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"lol"<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
<br />
</span><span class="default">$callables </span><span class="keyword">= [</span><span class="string">"email" </span><span class="keyword">=&gt; </span><span class="default">$email</span><span class="keyword">,</span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">,</span><span class="string">"age" </span><span class="keyword">=&gt; </span><span class="default">$age</span><span class="keyword">] = </span><span class="default">getFields</span><span class="keyword">();<br />
<br />
foreach (</span><span class="default">$callables </span><span class="keyword">as </span><span class="default">$func </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">call_user_func</span><span class="keyword">(array(</span><span class="default">$foo</span><span class="keyword">,</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"set%s"</span><span class="keyword">,</span><span class="default">ucfirst</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">))),</span><span class="default">$value</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124332""></a>
  <div class="note">
   <strong class="user">Aurelien Marchand</strong>
   <a href="#124332" class="date">24-Oct-2019 03:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to&nbsp; admin at torntech dot com and as shown on https://gist.github.com/nikic/6390366, there is no good reason to use argument unpacking anymore for PHP 7.0.17, 7.1.3, 7.2.7<br />
<br />
7.0.17<br />
cufa with 0 args took 0.081735849380493<br />
unpack with 0 args took 0.072259902954102<br />
cufa with 100 args took 0.39941906929016<br />
unpack with 100 args took 0.419842004776<br />
<br />
7.1.3<br />
cufa with 0 args took 0.074923992156982<br />
unpack with 0 args took 0.07165002822876<br />
cufa with 100 args took 0.37423300743103<br />
unpack with 100 args took 0.41387891769409<br />
<br />
7.2.7<br />
cufa with 0 args took 0.064092874526978<br />
unpack with 0 args took 0.048593997955322<br />
cufa with 100 args took 0.35412693023682<br />
unpack with 100 args took 0.36837601661682</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123386""></a>
  <div class="note">
   <strong class="user">ben at benhunt dot com</strong>
   <a href="#123386" class="date">29-Nov-2018 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're thinking call_user_func_array has changed the array of multiple parameters to a string, remember that it does not pass the array through to the called function as a single argument (array), but creates one argument for each element in the array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121292""></a>
  <div class="note">
   <strong class="user">zonkiie</strong>
   <a href="#121292" class="date">01-Jul-2017 04:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An implementation where parameters are submitted by their name.<br />
This function calls class functions, class methods, functions and anonymous functions.<br />
<br />
/**<br />
&nbsp;&nbsp;&nbsp; * Calls a method, function or closure. Parameters are supplied by their names instead of their position.<br />
&nbsp;&nbsp;&nbsp; * @param $call_arg like $callback in call_user_func_array()<br />
&nbsp;&nbsp;&nbsp; * Case1: {object, method}<br />
&nbsp;&nbsp;&nbsp; * Case2: {class, function}<br />
&nbsp;&nbsp;&nbsp; * Case3: "class::function"<br />
&nbsp;&nbsp;&nbsp; * Case4: "function"<br />
&nbsp;&nbsp;&nbsp; * Case5: closure<br />
&nbsp;&nbsp;&nbsp; * @param array $param_array A key-value array with the parameters<br />
&nbsp;&nbsp;&nbsp; * @return result of the method, function or closure<br />
&nbsp;&nbsp;&nbsp; * @throws \Exception when wrong arguments are given or required parameters are not given.<br />
&nbsp;&nbsp;&nbsp; */<br />
function call_user_function_named_param($call_arg, array $param_array)<br />
{<br />
&nbsp;&nbsp;&nbsp; $Func = null;<br />
&nbsp;&nbsp;&nbsp; $Method = null;<br />
&nbsp;&nbsp;&nbsp; $Object = null;<br />
&nbsp;&nbsp;&nbsp; $Class = null;<br />
&nbsp;&nbsp;&nbsp; // The cases. f means function name<br />
&nbsp;&nbsp;&nbsp; // Case1: f({object, method}, params)<br />
&nbsp;&nbsp;&nbsp; // Case2: f({class, function}, params)<br />
&nbsp;&nbsp;&nbsp; if(is_array($call_arg) &amp;&amp; count($call_arg) == 2)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_object($call_arg[0]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $Object = $call_arg[0];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $Class = get_class($Object);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if(is_string($call_arg[0]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $Class = $call_arg[0]; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_string($call_arg[1]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $Method = $call_arg[1];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Case3: f("class::function", params)<br />
&nbsp;&nbsp;&nbsp; else if(is_string($call_arg) &amp;&amp; strpos($call_arg, "::") !== FALSE)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; list($Class, $Method) = explode("::", $call_arg);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Case4: f("function", params)<br />
&nbsp;&nbsp;&nbsp; else if(is_string($call_arg) &amp;&amp; strpos($call_arg, "::") === FALSE)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $Method = $call_arg;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; // Case5: f(closure, params)<br />
&nbsp;&nbsp;&nbsp; else if(is_object($call_arg) &amp;&amp; $call_arg instanceof \Closure)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $Method = $call_arg;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else throw new \Exception("Case not allowed! Invalid Data supplied!");<br />
&nbsp;&nbsp;&nbsp; if($Class) $Func = new \ReflectionMethod($Class, $Method);<br />
&nbsp;&nbsp;&nbsp; else $Func = new \ReflectionFunction($Method);<br />
&nbsp;&nbsp;&nbsp; $params = array();<br />
&nbsp;&nbsp;&nbsp; foreach($Func-&gt;getParameters() as $Param)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($Param-&gt;isDefaultValueAvailable()) $params[$Param-&gt;getPosition()] = $Param-&gt;getDefaultValue();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(array_key_exists($Param-&gt;name, $param_array)) $params[$Param-&gt;getPosition()] = $param_array[$Param-&gt;name];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!$Param-&gt;isOptional() &amp;&amp; !isset($params[$Param-&gt;getPosition()])) die("No Defaultvalue available and no Value supplied!\r\n");<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if($Func instanceof \ReflectionFunction) return $Func-&gt;invokeArgs($params);<br />
&nbsp;&nbsp;&nbsp; if($Func-&gt;isStatic()) return $Func-&gt;invokeArgs(null, $params);<br />
&nbsp;&nbsp;&nbsp; else return $Func-&gt;invokeArgs($Object, $params);<br />
}<br />
<br />
//Test code:<br />
<br />
function func($arg1, $arg2 = "Jane")<br />
{<br />
&nbsp;&nbsp;&nbsp; return $arg1 . "," . $arg2;<br />
}<br />
<br />
class tc1<br />
{<br />
&nbsp;&nbsp;&nbsp; public static function func1($Arg1, $Arg2 = "HH")<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $Arg1 . " " . $Arg2;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
$func2 = function($a1, $a2)<br />
{<br />
&nbsp;&nbsp; return "a1:" . $a1 . ", a2:" . $a2;&nbsp; <br />
};<br />
<br />
$ret = call_user_function_named_param('func', array("arg1"=&gt;"Hello", "arg2"=&gt;"Joe"));<br />
echo "Call Return:" . print_r($ret, true) . PHP_EOL;<br />
$ret = call_user_function_named_param(array(new tc1(), 'func1'), array("Arg1"=&gt;"Hello", "Arg2"=&gt;"Joe"));<br />
echo "Call2 Return:" . print_r($ret, true) . PHP_EOL;<br />
$ret = call_user_function_named_param($func2, array("a1"=&gt;"Hello", "a2"=&gt;"Joe"));<br />
echo "Call3 Return:" . print_r($ret, true) . PHP_EOL;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120427""></a>
  <div class="note">
   <strong class="user">gmail@asmqb7</strong>
   <a href="#120427" class="date">08-Jan-2017 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that call_user_func() will completely trash debug_backtrace().<br />
<br />
Solution:<br />
<br />
<span class="default">&lt;?php<br />
<br />
your_function</span><span class="keyword">(...</span><span class="default">call_user_func</span><span class="keyword">())<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Note the 3 dots (array unpacking syntax).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120401""></a>
  <div class="note">
   <strong class="user">jim at commercebyte dot com</strong>
   <a href="#120401" class="date">02-Jan-2017 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Before PHP 7.1.0, if you call a function without passing required arguments, a warning was generated, and the missing arguments defaulted to NULL.<br />
In PHP 7.1.0, an ArgumentCountError is being thrown instead. (A little bit of nuisance IMHO, because it causes compatibility issues).<br />
When you use &lt;? call_user_func_array()&nbsp; ?&gt;, same behavior applies - the exception is thrown if you missed arguments.<br />
Here's a quick and dirty fix for it:<br />
&lt;?<br />
function call_user_func_array_i($callbk,$args) {<br />
&nbsp;&nbsp;&nbsp; while(true) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; try {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return call_user_func_array($callbk,$args);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } catch(ArgumentCountError $e) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $args[] = NULL;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
?&gt;<br />
Replace your calls to &lt;? call_user_func_array() ?&gt; with &lt;? call_user_func_array_i() ?&gt;, and the good old behavior is back (except that it doesn't issue a warning, but you probably didn't need it anyway).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119539""></a>
  <div class="note">
   <strong class="user">wriver4 at gmail dot com</strong>
   <a href="#119539" class="date">02-Jul-2016 03:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Kris dot Craig at gmail dot com dispatch table does not work currently, but this does.<br />
<span class="default">&lt;?php<br />
define</span><span class="keyword">(</span><span class="string">"YOUR_MOTHER"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">"YOUR_FATHER"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">"YOUR_BROTHER"</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">"YOUR_SISTER"</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br />
<br />
class </span><span class="default">MyFamily<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$dispatch </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; </span><span class="string">"mom"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; </span><span class="string">"getPrisonInmate"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; </span><span class="string">"replaceName"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; </span><span class="string">"lazyGirl"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$args </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; array(),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"55170-054"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">TRUE</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">3</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; array(),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; array());<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getDispatch</span><span class="keyword">(</span><span class="default">$fromwhere</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">get_class</span><span class="keyword">(),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$dispatch</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">]), </span><span class="default">self</span><span class="keyword">::</span><span class="default">$args</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">mom</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Mommy loves you!"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getPrisonInmate</span><span class="keyword">(</span><span class="default">$PrisonerID</span><span class="keyword">, </span><span class="default">$GoodBehavior</span><span class="keyword">, </span><span class="default">$remaining</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$notes </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Check prison records for his ID, then....<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$GoodBehavior</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"APPROVED"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"DENIED"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Your father (#</span><span class="default">$PrisonerID</span><span class="string">) has </span><span class="default">$remaining</span><span class="string"> years left in his sentence.&nbsp; His most recent parole application has been:&nbsp; </span><span class="default">$parole</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">replaceName</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Her name is Sally now."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">lazyGirl</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"Your sister needs to get out more...."</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//sleep(pow(60, 2) * 18);&nbsp; //You can sleep later!<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">die(</span><span class="string">"Nah, I'm too tired."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
print </span><span class="string">"Status on family member: "</span><span class="keyword">.</span><span class="default">MyFamily</span><span class="keyword">::</span><span class="default">GetDispatch</span><span class="keyword">(</span><span class="default">YOUR_FATHER</span><span class="keyword">).</span><span class="string">'&lt;br&gt;&lt;br&gt;'</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118147""></a>
  <div class="note">
   <strong class="user">james dot patrick at lifeshop dot vn</strong>
   <a href="#118147" class="date">14-Oct-2015 04:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found the solution to resolve my need while writing the str_replace function for processing the multi array as first two arguments of str_replace built-in function(although its pass each array of argument 1 &amp; 2)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// custom the str_replace function<br />
</span><span class="keyword">function </span><span class="default">p_str_replace</span><span class="keyword">(</span><span class="default">$argFind</span><span class="keyword">, </span><span class="default">$agrReplace</span><span class="keyword">, </span><span class="default">$theString</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$needle_replace </span><span class="keyword">= </span><span class="default">$theString</span><span class="keyword">; </span><span class="comment">// handle the string need to be replace<br />
&nbsp; </span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$argFind</span><span class="keyword">, function(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">) use(&amp;</span><span class="default">$needle_replace</span><span class="keyword">, </span><span class="default">$agrReplace</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$needle_replace </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'str_replace'</span><span class="keyword">, array(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$agrReplace</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$needle_replace</span><span class="keyword">));<br />
&nbsp; });<br />
&nbsp; return </span><span class="default">$needle_replace</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// test<br />
</span><span class="default">$the_str </span><span class="keyword">= array(<br />
&nbsp; </span><span class="string">'coa' </span><span class="keyword">=&gt; </span><span class="string">':col: :op1: :val: AND :col: :op2: :val:'<br />
</span><span class="keyword">);<br />
</span><span class="default">$ope </span><span class="keyword">= array(</span><span class="string">'&gt;='</span><span class="keyword">, </span><span class="string">'&lt;='</span><span class="keyword">);<br />
</span><span class="default">$colsdata </span><span class="keyword">= array(</span><span class="string">'date_start'</span><span class="keyword">, </span><span class="string">'2015-10-14'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">p_str_replace</span><span class="keyword">(array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">':col:'</span><span class="keyword">, </span><span class="string">':val:'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">':op1:'</span><span class="keyword">, </span><span class="string">':op2:'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ), array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$colsdata</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ope<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">), </span><span class="default">$the_str</span><span class="keyword">[</span><span class="string">'coa'</span><span class="keyword">]);<br />
<br />
echo </span><span class="string">'-------------------------------' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// more complexity<br />
</span><span class="default">$complex </span><span class="keyword">= </span><span class="string">'(:col: :op1: :val: AND :col: :op2: :val:) AND (:col2: :op1: :val2: AND :col2: :op1: :val2:)'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">p_str_replace</span><span class="keyword">(array(<br />
&nbsp; array(</span><span class="string">':col:'</span><span class="keyword">, </span><span class="string">':val:'</span><span class="keyword">),<br />
&nbsp; array(</span><span class="string">':col2:'</span><span class="keyword">, </span><span class="string">':val2:'</span><span class="keyword">),<br />
&nbsp; array(</span><span class="string">':op1:'</span><span class="keyword">, </span><span class="string">':op2:'</span><span class="keyword">)<br />
), array(<br />
&nbsp; array(</span><span class="string">'date_start'</span><span class="keyword">, </span><span class="string">'2015-10-01'</span><span class="keyword">),<br />
&nbsp; array(</span><span class="string">'date_end'</span><span class="keyword">, </span><span class="string">'2015-10-14'</span><span class="keyword">),<br />
&nbsp; array(</span><span class="string">'&gt;'</span><span class="keyword">, </span><span class="string">'&lt;'</span><span class="keyword">)<br />
), </span><span class="default">$complex</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Sorry about my bad English :)<br />
Hope this help someone.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117792""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#117792" class="date">11-Aug-2015 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$param_arr may be empty, though it can't be null.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">( </span><span class="default">$first </span><span class="keyword">= </span><span class="string">'default1'</span><span class="keyword">, </span><span class="default">$second </span><span class="keyword">= </span><span class="string">'default2' </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"first: '</span><span class="default">$first</span><span class="string">', second: '</span><span class="default">$second</span><span class="string">'\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="string">'foo'</span><span class="keyword">, array( </span><span class="string">'one'</span><span class="keyword">, </span><span class="string">'two' </span><span class="keyword">) );<br />
</span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="string">'foo'</span><span class="keyword">, array( </span><span class="string">'only one' </span><span class="keyword">) );<br />
</span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="string">'foo'</span><span class="keyword">, array() );<br />
</span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="string">'foo'</span><span class="keyword">, </span><span class="default">null </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
first: 'one', second: 'two'<br />
first: 'only one', second: 'default2'<br />
first: 'default1', second: 'default2'<br />
/* error message or nothing printed depending on version */</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117655""></a>
  <div class="note">
   <strong class="user">admin at torntech dot com</strong>
   <a href="#117655" class="date">15-Jul-2015 02:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP 5.6 you can utilize argument unpacking as an alternative to call_user_func_array, and is often 3 to 4 times faster.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo </span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$func </span><span class="keyword">= </span><span class="string">'foo'</span><span class="keyword">;<br />
</span><span class="default">$values </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">); <br />
</span><span class="comment">//returns 3<br />
<br />
</span><span class="default">$func</span><span class="keyword">(...</span><span class="default">$values</span><span class="keyword">);<br />
</span><span class="comment">//returns 3<br />
</span><span class="default">?&gt;<br />
</span><br />
Benchmarks from https://gist.github.com/nikic/6390366<br />
cufa&nbsp;&nbsp; with 0 args took 0.43453288078308<br />
switch with 0 args took 0.24134302139282<br />
unpack with 0 args took 0.12418699264526<br />
cufa&nbsp;&nbsp; with 5 args took 0.73408579826355<br />
switch with 5 args took 0.49595499038696<br />
unpack with 5 args took 0.18640494346619<br />
cufa&nbsp;&nbsp; with 100 args took 5.0327250957489<br />
switch with 100 args took 5.291127204895<br />
unpack with 100 args took 1.2362589836121</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115527""></a>
  <div class="note">
   <strong class="user">stanislav dot eckert at vizson dot de</strong>
   <a href="#115527" class="date">10-Aug-2014 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note, that when calling call_user_func_array() to redirect parameters between inherited classes, you should not use $this, because $this always refers to the class which has been instantiated. The following code even seems to crash PHP (PHP does not report error but the process simply terminates), because the the parameters are redirected only one level up (to class foo_bar2):<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">foo_bar1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">foo_bar2 </span><span class="keyword">extends </span><span class="default">foo_bar1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; class </span><span class="default">foo_bar3 </span><span class="keyword">extends </span><span class="default">foo_bar2<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$constructorArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$constructorArgs</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$f </span><span class="keyword">= new </span><span class="default">foo_bar3</span><span class="keyword">(</span><span class="string">"abc"</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Instead, use the direct name of the class as string or, better, the magic constant __CLASS__ in call_user_func_array(), like:<br />
<br />
&nbsp;&nbsp;&nbsp; call_user_func_array(array(__CLASS__, 'parent::__construct'), $constructorArgs);<br />
<br />
Then the parameters will be correctly redirected to the lowest base class.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109357""></a>
  <div class="note">
   <strong class="user">jaxxed</strong>
   <a href="#109357" class="date">10-Jul-2012 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For anyone looking for the means to test for the first parameter before passing to this function, look at the is_callable (<a href="http://php.net/manual/en/function.is-callable.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.is-callable.php</a>) variable handler.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$handler </span><span class="keyword">= array( </span><span class="string">'MyClass'</span><span class="keyword">, </span><span class="string">'MyMethod'</span><span class="keyword">);<br />
</span><span class="default">$params </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
<br />
if ( </span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$handler</span><span class="keyword">) ) { </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="default">$handler </span><span class="keyword">, </span><span class="default">$params </span><span class="keyword">); }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100794""></a>
  <div class="note">
   <strong class="user">Brad Proctor</strong>
   <a href="#100794" class="date">06-Nov-2010 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is relatively slow (as of PHP 5.3.3) and if you are calling a method with a known number of parameters it is much faster to call it this way:
<br />

<br />
$class-&gt;{$method}($param1, $param2);
<br />

<br />
vs
<br />

<br />
call_user_func_array (array($class, $method), array($param1, $param2));
<br />

<br />
But if you don't know how many parameters...
<br />

<br />
The wrapper function below is slightly faster, but the problem now is that you are making two function calls.&nbsp; One to the wrapper and one to the function.
<br />

<br />
However, If you are able to take this code out of the function and use it inline it is nearly twice as fast (in most cases) as calling call_user_func_array natively.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">wrap_call_user_func_array</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">)) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">0</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">4</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">5</span><span class="keyword">: </span><span class="default">$c</span><span class="keyword">-&gt;{</span><span class="default">$a</span><span class="keyword">}(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">], </span><span class="default">$p</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]); break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default: </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">), </span><span class="default">$p</span><span class="keyword">);&nbsp; break;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98458""></a>
  <div class="note">
   <strong class="user">Kris dot Craig at gmail dot com</strong>
   <a href="#98458" class="date">16-Jun-2010 03:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Many people have wondered how to effectively implement dispatch tables in PHP.&nbsp; Here's my answer to that (if you'll forgive my creative flair):<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* Using dispatch tables in PHP.<br />
&nbsp;* <br />
&nbsp;* --Kris Craig<br />
&nbsp;*/<br />
<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_MOTHER"</span><span class="keyword">,&nbsp; </span><span class="default">1 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_FATHER"</span><span class="keyword">,&nbsp; </span><span class="default">2 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_BROTHER"</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">);<br />
</span><span class="default">define</span><span class="keyword">( </span><span class="string">"YOUR_SISTER"</span><span class="keyword">,&nbsp; </span><span class="default">4 </span><span class="keyword">);<br />
<br />
class </span><span class="default">MyFamily<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$dispatch </span><span class="keyword">= array( </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; </span><span class="string">"Mom"</span><span class="keyword">, </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; </span><span class="string">"GetPrisonInmate"</span><span class="keyword">, </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; </span><span class="string">"ReplaceName"</span><span class="keyword">, </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; </span><span class="string">"LazyGirl" </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$args </span><span class="keyword">= array( </span><span class="default">YOUR_MOTHER </span><span class="keyword">=&gt; array(), </span><span class="default">YOUR_FATHER </span><span class="keyword">=&gt; array( </span><span class="string">"55170-054"</span><span class="keyword">, </span><span class="default">TRUE </span><span class="keyword">), </span><span class="default">YOUR_BROTHER </span><span class="keyword">=&gt; array(), </span><span class="default">YOUR_SISTER </span><span class="keyword">=&gt; array() );<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">GetDispatch</span><span class="keyword">( </span><span class="default">$fromwhere </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">( array( </span><span class="default">self</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$dispatch</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">] ), </span><span class="default">self</span><span class="keyword">::</span><span class="default">$args</span><span class="keyword">[</span><span class="default">$fromwhere</span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">Mom</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Mommy loves you!"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">GetPrisonInmate</span><span class="keyword">( </span><span class="default">$PrisonerID</span><span class="keyword">, </span><span class="default">$GoodBehavior </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Check prison records for his ID, then....<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if ( </span><span class="default">$GoodBehavior </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"APPROVED"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parole </span><span class="keyword">= </span><span class="string">"DENIED"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Your father (#</span><span class="default">$PrisonerID</span><span class="string">) has </span><span class="default">$remaining</span><span class="string"> years left in his sentence.&nbsp; His most recent parole application has been:&nbsp; </span><span class="default">$parole</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">ReplaceName</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Her name is Sally now."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">LazyGirl</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"Your sister needs to get out more...."</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//sleep( pow( 60, 2 ) * 18 );&nbsp; //You can sleep later!<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">die( </span><span class="string">"Nah, I'm too tired." </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
print </span><span class="string">"Status on family member: " </span><span class="keyword">. </span><span class="default">MyFamily</span><span class="keyword">::</span><span class="default">GetDispatch</span><span class="keyword">( </span><span class="default">YOUR_FATHER </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97473""></a>
  <div class="note">
   <strong class="user">noone at example dot com</strong>
   <a href="#97473" class="date">21-Apr-2010 03:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of you that have to consider performance: it takes about 3 times as long to call the function this way than via a straight statement, so whenever it is feasible to avoid this method it's a wise idea to do so.<br />
<br />
Note that eval() is about 10 times slower than a straight statement to call a function with arguments, so this is definitely a better option than using eval() even if you only consider performance.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95271""></a>
  <div class="note">
   <strong class="user">aj at ajbrown dot org</strong>
   <a href="#95271" class="date">22-Dec-2009 07:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a heads up, the second parameter MUST be an array if it's specified,&nbsp; but that doesn't seem to be enforced until ~5.3.<br />
<br />
I just pulled my hair out with an old installation of CakePHP because it was passing NULL instead of an empty array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94993""></a>
  <div class="note">
   <strong class="user">mrextreme at freemail dot hu</strong>
   <a href="#94993" class="date">07-Dec-2009 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using PHP &lt; 5.3 and want to call the parent class' __construct() with a variable parameter list, use this:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">()
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vArgs </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// you can't just put func_get_args() into a function as a parameter
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$vArgs</span><span class="keyword">);
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93744""></a>
  <div class="note">
   <strong class="user">dmitry dot revenko at businessmedia dot ru</strong>
   <a href="#93744" class="date">25-Sep-2009 05:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just hope this note helps someone (I killed the whole day on issue).
<br />

<br />
If you use something like this in PHP &lt; 5.3:
<br />
<span class="default">&lt;?php call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::func'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">); </span><span class="default">?&gt;
<br />
</span>Such a script will cause segmentation fault in your webserver.
<br />

<br />
In 5.3 you should write it:
<br />
<span class="default">&lt;?php call_user_func_array</span><span class="keyword">(</span><span class="string">'parent::func'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91503""></a>
  <div class="note">
   <strong class="user">Damin</strong>
   <a href="#91503" class="date">13-Jun-2009 12:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Those having the passing by reference issue can use this simple hack.
<br />
I′m really not sure WHY this works, but it does, and it does not make use of EVAL or other questionable functions.
<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">executeHook</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$type</span><span class="keyword">=</span><span class="string">'hooks'</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Rather stupid Hack for the call_user_func_array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$Args </span><span class="keyword">= array();
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; &amp;</span><span class="default">$arg</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$Args</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = &amp;</span><span class="default">$arg</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//End Hack
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hooks </span><span class="keyword">= &amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$type</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$hooks</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$hook </span><span class="keyword">= </span><span class="default">$hooks</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$hook</span><span class="keyword">, </span><span class="default">$Args</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
All it′s doing is copying the args ($args) into a new array ($Args) by reference, which i would think would be identical to the original array in every way (that matters).
<br />

<br />
Note the code here is an example of usage. The actual hack is denoted by comments.
<br />
If someone knows a better alternative, by all means, i would love to see it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90112""></a>
  <div class="note">
   <strong class="user">Freek (at) Gruntjes.net</strong>
   <a href="#90112" class="date">07-Apr-2009 01:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just noticed that when you use this function with parameters that need to be passed by reference it will not work.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">refFunc</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$var </span><span class="keyword">.= </span><span class="string">'bar'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="string">'foo'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
call_user_func_array('refFunc', array($var));<br />
echo $var;<br />
<br />
will output 'foo' and not&nbsp; 'foobar'. Witch is logical since you are declaring a new variable with array($var) however not so obvious.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84631""></a>
  <div class="note">
   <strong class="user">thiago dot henrique dot mata at gmail dot com</strong>
   <a href="#84631" class="date">22-Jul-2008 02:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">Class </span><span class="default">Delegate<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$arrInstances </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">addObject</span><span class="keyword">( </span><span class="default">$oElement </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// add one element on the end of the stack&nbsp; //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrInstances</span><span class="keyword">[] = </span><span class="default">$oElement</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">( </span><span class="default">$strMethod</span><span class="keyword">, </span><span class="default">$arrParams </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// for each element in instance //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arrInstances </span><span class="keyword">as </span><span class="default">$oElement </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get the class of the element //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$strClass </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$oElement </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get all methods of the class&nbsp; //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrMethods </span><span class="keyword">= </span><span class="default">get_class_methods</span><span class="keyword">( </span><span class="default">$strClass </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// case the method exists into this class&nbsp; //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( </span><span class="default">in_array</span><span class="keyword">( </span><span class="default">$strMethod </span><span class="keyword">, </span><span class="default">$arrMethods </span><span class="keyword">) ) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// prepare caller //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrCaller </span><span class="keyword">= Array( </span><span class="default">$strClass </span><span class="keyword">, </span><span class="default">$strMethod </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// return the result of the method into the object&nbsp; //<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="default">$arrCaller</span><span class="keyword">, </span><span class="default">$arrParams </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// any object has the method //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // throw a exception //<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">throw new </span><span class="default">Exception</span><span class="keyword">( </span><span class="string">" Method " </span><span class="keyword">. </span><span class="default">$strMethod </span><span class="keyword">. </span><span class="string">" not exist in this class " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">( </span><span class="default">$this </span><span class="keyword">) . </span><span class="string">"." </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Log<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sayHi</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"hi!" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sayMyName</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"log" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Other<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sayHello</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"hello there!" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">sayMyName</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"other" </span><span class="keyword">. </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Example </span><span class="keyword">extends </span><span class="default">Delegate<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addObject</span><span class="keyword">( new </span><span class="default">Log</span><span class="keyword">() );<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">addObject</span><span class="keyword">( new </span><span class="default">Other</span><span class="keyword">() );<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$oExample </span><span class="keyword">= new </span><span class="default">Example</span><span class="keyword">();<br />
</span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayHi</span><span class="keyword">();<br />
</span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayHello</span><span class="keyword">();<br />
</span><span class="default">$oExample</span><span class="keyword">-&gt;</span><span class="default">sayMyName</span><span class="keyword">();<br />
<br />
</span><span class="comment">/* <br />
&nbsp;&nbsp;&nbsp; hi!&lt;br/&gt;<br />
&nbsp;&nbsp;&nbsp; hello there!&lt;br/&gt;<br />
&nbsp;&nbsp;&nbsp; log&lt;br/&gt;<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83685""></a>
  <div class="note">
   <strong class="user">dnhuff at acm.org</strong>
   <a href="#83685" class="date">07-Jun-2008 11:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It appears that when PHP executes something like:<br />
<br />
$a = array(1,2,3);<br />
$b =&amp; $a[1];<br />
<br />
both $b and $a[1] are converted into references to a common value -- makes sense until you transfer that to a call_user_func:<br />
<br />
call_user_func_array('foo', $a);<br />
<br />
suddenly, inside foo, the second parameter is passed by reference!<br />
<br />
And you can't call this wrong, only another subtly of references.<br />
<br />
Note it appears that ksort($a) will remove the reference as well as put the elements in key order so you (probably) get what you expect. (see below on the use of a foreach ($a as &amp;v).)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83467""></a>
  <div class="note">
   <strong class="user">aeolianmeson at 8n54tvv dot blitzeclipse dot com</strong>
   <a href="#83467" class="date">27-May-2008 08:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's a possibility that call_user_func_array(), call_user_func(), and Exception::getTrace() will cause a trace entry to not have the 'file' or 'line' elements.<br />
<br />
Dustin Oprea</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74427""></a>
  <div class="note">
   <strong class="user">richard_harrison at rjharrison dot org</strong>
   <a href="#74427" class="date">11-Apr-2007 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are thinking of using call_user_func_array to instantiate an object (see comments below using Reflection) then since v5.1.3 you can use the Reflection::newInstanceArgs() method.
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
</span><span class="comment">// arguments you wish to pass to constructor of new object
<br />
</span><span class="default">$args </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// class name of new object
<br />
</span><span class="default">$className </span><span class="keyword">= </span><span class="string">'myCommand'</span><span class="keyword">;
<br />

<br />
</span><span class="comment">// make a reflection object
<br />
</span><span class="default">$reflectionObj </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// use Reflection to create a new instance, using the $args
<br />
</span><span class="default">$command </span><span class="keyword">= </span><span class="default">$reflectionObj</span><span class="keyword">-&gt;</span><span class="default">newInstanceArgs</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// this is the same as: new myCommand('a', 'b');
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73105""></a>
  <div class="note">
   <strong class="user">levi at alliancesoftware dot com dot au</strong>
   <a href="#73105" class="date">08-Feb-2007 02:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the comments below about calling parent constructors:
<br />

<br />
PHP5 with E_STRICT no longer allows calls as below:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Causes an error with E_STRICT
<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
It gives an error because you are trying to call a nonstatic function as if it was static. The correct syntax is
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Works fine
<br />
</span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'parent::__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66121""></a>
  <div class="note">
   
   <a href="#66121" class="date">15-May-2006 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those wishing to implement call-by-name functionality in PHP, such as implemented e.g. in DB apis, here's a quick-n-dirty version for PHP 5 and up<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Call a user function using named instead of positional parameters.<br />
&nbsp;* If some of the named parameters are not present in the original function, they<br />
&nbsp;* will be silently discarded.<br />
&nbsp;* Does no special processing for call-by-ref functions...<br />
&nbsp;* @param string $function name of function to be called<br />
&nbsp;* @param array $params array containing parameters to be passed to the function using their name (ie array key)<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">call_user_func_named</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// make sure we do not throw exception if function not found: raise error instead...<br />
&nbsp;&nbsp;&nbsp; // (oh boy, we do like php 4 better than 5, don't we...)<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'call to unexisting function '</span><span class="keyword">.</span><span class="default">$function</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$reflect </span><span class="keyword">= new </span><span class="default">ReflectionFunction</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$real_params </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$reflect</span><span class="keyword">-&gt;</span><span class="default">getParameters</span><span class="keyword">() as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$param</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pname </span><span class="keyword">= </span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">isPassedByReference</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/// @todo shall we raise some warning?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pname</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$real_params</span><span class="keyword">[] = </span><span class="default">$params</span><span class="keyword">[</span><span class="default">$pname</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if (</span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">isDefaultValueAvailable</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$real_params</span><span class="keyword">[] = </span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">getDefaultValue</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// missing required parameter: mark an error and exit<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //return new Exception('call to '.$function.' missing parameter nr. '.$i+1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'call to %s missing parameter nr. %d'</span><span class="keyword">, </span><span class="default">$function</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">), </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$function</span><span class="keyword">, </span><span class="default">$real_params</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60030""></a>
  <div class="note">
   <strong class="user">eugene at artprime dot ru</strong>
   <a href="#60030" class="date">23-Dec-2005 02:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; array(new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$className</span><span class="keyword">), </span><span class="string">'newInstance'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$functionParameters<br />
&nbsp; </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Look here: <a href="http://www.zend.com/zend/week/week182.php#Heading1" rel="nofollow" target="_blank">http://www.zend.com/zend/week/week182.php#Heading1</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59926""></a>
  <div class="note">
   <strong class="user">crocodile2u at yandex dot ru</strong>
   <a href="#59926" class="date">20-Dec-2005 05:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another version of createObjArray() function written here earlier by taylor.<br />
<br />
Believing that using 'eval()' is at least "dirty", I came to the following solution (with a help of panchous - at phpclub dot ru forums ). This solution utilizes the new Reflection API.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function &amp; </span><span class="default">createObjArray</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">= array()) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$reflection </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$output&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$reflection</span><span class="keyword">, </span><span class="string">'newInstance'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58791""></a>
  <div class="note">
   <strong class="user">Egor</strong>
   <a href="#58791" class="date">15-Nov-2005 09:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that, despite the name, this does work on builtin functions (and object methods with the array(&amp;$obj, $method) syntax), not just user-defined functions and methods.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58637""></a>
  <div class="note">
   <strong class="user">rrant (at) gmail (dot) com</strong>
   <a href="#58637" class="date">10-Nov-2005 03:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just an extra for the post of amer at o2 dot pl:<br />
<br />
If you need to call the PARENT method:<br />
call_user_func_array(array('parent', 'method'), $args);<br />
<br />
With that, if you need to call a constructor and/or add some extra code to the instantiation process:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Get the arguments<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Initialize parent with arguments<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="string">'parent'</span><span class="keyword">, </span><span class="string">'__construct'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// ... Your Code Here ...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that your constructor pass all the arguments to the parent constructor and it doesn't matter how many arguments you pass.<br />
<br />
This is pretty useful for constructors with a variable number of arguments.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53468""></a>
  <div class="note">
   <strong class="user">taylor</strong>
   <a href="#53468" class="date">02-Jun-2005 05:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I came up with a better solution to the problem that I solve below with createObjArray that maintains parameter type:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">createObjArray</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">,</span><span class="default">$args</span><span class="keyword">=array()) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$paramstr </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$paramstr </span><span class="keyword">.= </span><span class="string">'$args['</span><span class="keyword">.</span><span class="default">$i</span><span class="keyword">.</span><span class="string">'],'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$paramstr </span><span class="keyword">= </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$paramstr</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; return eval(</span><span class="string">"return new </span><span class="default">$type</span><span class="string">(</span><span class="default">$paramstr</span><span class="string">);"</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Would be good to add error checking, but it works.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49232""></a>
  <div class="note">
   <strong class="user">amer at o2 dot pl</strong>
   <a href="#49232" class="date">20-Jan-2005 02:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PLS notice that "patripaq at hotmail dot com" 's code will be valid if B EXTENDS A...<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A</span><span class="keyword">{<br />
...<br />
} <br />
</span><span class="default">?&gt;<br />
</span>there&gt;&gt;"What I wanted to do is create an object that can manage any number and any kind of parameters."<br />
<br />
BUT IT IS NOT A POINT AT ALL<br />
<br />
If you need to call just function with parameters:<br />
call_user_func_array('Foo',$args);<br />
<br />
If you need to call CLASS method (NOT object):<br />
call_user_func_array(array('class', 'Foo'),$args); <br />
<br />
If you need to call OBJECT method:<br />
call_user_func_array(array(&amp;$Object, 'Foo'),$args);<br />
<br />
If you need to call method of object of object:<br />
call_user_func_array(array(&amp;$Object-&gt;Object, 'Foo'),$args);<br />
<br />
If you need to call object method from within the very same object (NOT CLASS!):<br />
call_user_func_array(array(&amp;$this, 'Foo'),args);<br />
<br />
The call_user_func_array ITSELF can manage any number and any kind of parameters. It can handle ANY FUNCTION too as it is defined and that maybe partipaq wanted to manage. <br />
<br />
What You actually need is object composition not inheritance. Make an instance from arguments. <br />
<span class="default">&lt;?php<br />
</span><span class="keyword">...<br />
class </span><span class="default">B</span><span class="keyword">{<br />
&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">(); </span><span class="comment">// Get arguments<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">OBJ </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">OBJ</span><span class="keyword">, </span><span class="string">'A'</span><span class="keyword">), </span><span class="default">$args </span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span>Then there can be any number and any type of created object B parameters</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47578""></a>
  <div class="note">
   <strong class="user">james at gogo dot co dot nz</strong>
   <a href="#47578" class="date">21-Nov-2004 05:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware the call_user_func_array always returns by value, as demonstrated here...<br />
<br />
<span class="default">&lt;?php&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">foo</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">=&amp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'foo'</span><span class="keyword">, array(&amp;</span><span class="default">$b</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$b </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$c</span><span class="keyword">;&nbsp; &nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
outputs "2 3", rather than the expected "3 3".<br />
<br />
Here is a function you can use in place of call_user_func_array which returns a reference to the result of the function call. <br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">ref_call_user_func_array</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// $callable is the name of a function<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="default">$callable</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// $callable is an object and a method name<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="string">"\$callable[0]-&gt;</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// $callable is a class name and a static method<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$call </span><span class="keyword">= </span><span class="string">"</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">::</span><span class="keyword">{</span><span class="default">$callable</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Note because the keys in $args might be strings<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // we do this in a slightly round about way.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argumentString </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argumentKeys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$argumentKeys </span><span class="keyword">as </span><span class="default">$argK</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argumentString</span><span class="keyword">[] = </span><span class="string">"\$args[</span><span class="default">$argumentKeys</span><span class="keyword">[</span><span class="default">$argK</span><span class="keyword">]</span><span class="string">]"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argumentString </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$argumentString</span><span class="keyword">, </span><span class="string">', '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Note also that eval doesn't return references, so we <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // work around it in this way...&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">eval(</span><span class="string">"\$result =&amp; </span><span class="keyword">{</span><span class="default">$call</span><span class="keyword">}</span><span class="string">(</span><span class="keyword">{</span><span class="default">$argumentString</span><span class="keyword">}</span><span class="string">);"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41207""></a>
  <div class="note">
   <strong class="user">hong dot nguyen at k-edge dot com</strong>
   <a href="#41207" class="date">02-Apr-2004 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
call_user_func_array can pass parameters as reference:
<br />

<br />
<span class="default">&lt;?php
<br />
call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$obj</span><span class="keyword">,</span><span class="default">$method</span><span class="keyword">),array(&amp;</span><span class="default">$arg1</span><span class="keyword">,</span><span class="default">$arg2</span><span class="keyword">,</span><span class="default">$arg3</span><span class="keyword">))
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
Use it as work-around for "Call-time pass-by-reference has been deprecated".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="34594""></a>
  <div class="note">
   <strong class="user">adamh at densi dot com</strong>
   <a href="#34594" class="date">31-Jul-2003 11:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
call_user_func_array() is nifty for calling PHP functions which use variable argument length. For example:
<br />

<br />
<span class="default">&lt;?php
<br />
$array </span><span class="keyword">= array(
<br />
&nbsp;array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">),
<br />
&nbsp;array(</span><span class="string">"bat"</span><span class="keyword">, </span><span class="string">"rat"</span><span class="keyword">),
<br />
);
<br />

<br />
</span><span class="default">$values </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">"array_merge"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);
<br />

<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
/* output:
<br />
array(4) {
<br />
&nbsp; [0]=&gt;
<br />
&nbsp; string(3) "foo"
<br />
&nbsp; [1]=&gt;
<br />
&nbsp; string(3) "bar"
<br />
&nbsp; [2]=&gt;
<br />
&nbsp; string(3) "bat"
<br />
&nbsp; [3]=&gt;
<br />
&nbsp; string(3) "rat"
<br />
}
<br />
*/
<br />

<br />
The neat feature is that $array could have any number of arrays inside it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
