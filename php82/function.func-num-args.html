<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>返回传递给函数的参数数量</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.func-get-args.html">? func_get_args</a></li>
      <li style="float: right;"><a href="function.function-exists.html">function_exists ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.funchand.html">函数处理 函数</a></li>
    <li>返回传递给函数的参数数量</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.func-num-args" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">func_num_args</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">func_num_args</span> &mdash; <span class="dc-title">返回传递给函数的参数数量</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.func-num-args-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>func_num_args</strong></span>(): <span class="type">int</span></div>

  <p class="para rdfs-comment">
   获取传递给函数的参数数量。
  </p>
  <p class="para">
   此函数可以与 <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span> 和 <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span>
   结合使用，以便于允许用户定义的函数可以接受可变长度的参数列表。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.func-num-args-parameters">
  <h3 class="title">参数</h3>
  <p class="para">此函数没有参数。</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.func-num-args-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回传递给当前用户定义函数的参数数量。
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.func-num-args-errors">
  <h3 class="title">错误／异常</h3>
  <p class="para">
   如果从用户定义的函数外部调用，则生成警告。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.func-num-args-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 <span class="function"><strong>func_num_args()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />{<br />    echo </span><span style="color: #DD0000">"Number of arguments: "</span><span style="color: #007700">, </span><span style="color: #0000BB">func_num_args</span><span style="color: #007700">(), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">);   <br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Number of arguments: 3
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.func-num-args-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">As of PHP 8.0.0, the func_*() family of
functions is intended to be mostly transparent with regard to named arguments,
by treating the arguments as if they were all passed positionally,
and missing arguments are replaced with their defaults.
This function ignores the collection of unknown named variadic arguments.
Unknown named arguments which are collected can only be accessed through the variadic parameter.</p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.func-num-args-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="functions.arguments.html#functions.variable-arg-list" class="link"><code class="literal">...</code> 语法</a></li>
    <li class="member"><span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span></li>
    <li class="member"><span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span></li>
    <li class="member"><span class="methodname"><a href="reflectionfunctionabstract.getnumberofparameters.html" class="methodname">ReflectionFunctionAbstract::getNumberOfParameters()</a></span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="121253""></a>
  <div class="note">
   <strong class="user">tongcheong77 at gmail dot com</strong>
   <a href="#121253" class="date">20-Jun-2017 06:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using PHP 7 and func_num_args is in your base class which you extended, you can pass your arguments with the 'spat' operator.<br />
<br />
class Sql {<br />
<br />
public function doGetWhere(...$args) {<br />
<br />
$num_args = func_num_args();<br />
&nbsp;&nbsp; &nbsp;&nbsp; $args_list = func_get_args();<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo '&lt;pre&gt;';<br />
&nbsp;&nbsp; &nbsp;&nbsp; var_dump($args_list);<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo '&lt;pre&gt;';<br />
&nbsp; }<br />
}<br />
<br />
class Member extends Sql {<br />
<br />
public function getWhere(...$args) {<br />
<br />
&nbsp;&nbsp; $this-&gt;doGetWhere(...$args);<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
}<br />
<br />
$member = new Member();<br />
$member-&gt;getWhere('first_name','last_name','userlevel','email','where','email','=',$sub_email);<br />
<br />
However, take note that if you 'new up' the 'Sql' class in your 'Member' class above, instead of extending it, you will not need to pass your arguments as a variable. Just my two cents. -Bruce tong</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107883""></a>
  <div class="note">
   <strong class="user">luisguillermo dot quevedovelez at gmail dot com</strong>
   <a href="#107883" class="date">13-Mar-2012 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had defined a function function_name(){ ...} as a drupal callback.<br />
I try to get how many params where passed<br />
<br />
I got a Error and my Site falls down<br />
<br />
I've replaced func_get_args() instead func_num_args() and my Site was restored.<br />
<br />
I conclude you can not use&nbsp; func_num_args() in callbacks.<br />
<br />
Hope it helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91863""></a>
  <div class="note">
   <strong class="user">Dennis Robinson from basnetworks dot net</strong>
   <a href="#91863" class="date">29-Jun-2009 09:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function comes in handy, and I believe is the only solution, when you have an optional parameter that can take any type of data.<br />
<br />
For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// $data can be of any type, including null<br />
</span><span class="keyword">function </span><span class="default">my_function</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$data </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$data </span><span class="keyword">!== </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Do something with $data<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If you call my_function('something'), this WILL NOT be reached<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If you call my_function('something', null), this WILL NOT be reached<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The problem with the above function is that you will never be able to use null as the value for $data.&nbsp; To fix this, use func_num_args() like so:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// $data can be of any type, including null<br />
</span><span class="keyword">function </span><span class="default">my_function</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$data </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">func_num_args</span><span class="keyword">() &gt;= </span><span class="default">2</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Do something with $data<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If you call my_function('something'), this WILL NOT be reached<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // If you call my_function('something', null), this WILL be reached<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This solution works because func_num_args() reports exactly how many arguments were passed when the function was called.&nbsp; It does not take into account when default argument values are used.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56534""></a>
  <div class="note">
   <strong class="user">jared at ws-db dot com</strong>
   <a href="#56534" class="date">06-Sep-2005 09:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note for anyone wondering. This function doesn't include params that have a default value, unless you pass one in to overwrite the default param value. Not sure if that makes sense, so here's an example:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">helloWorld</span><span class="keyword">(</span><span class="default">$ArgA</span><span class="keyword">, </span><span class="default">$ArgB</span><span class="keyword">=</span><span class="string">"HelloWorld!"</span><span class="keyword">) {
<br />
&nbsp; return </span><span class="default">func_num_args</span><span class="keyword">();
<br />
}
<br />

<br />
</span><span class="comment">// The following will return 1
<br />
</span><span class="default">$Returns1 </span><span class="keyword">= </span><span class="default">helloWorld</span><span class="keyword">(</span><span class="string">"HelloWorld!"</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// The following will return 2
<br />
</span><span class="default">$Returns2 </span><span class="keyword">= </span><span class="default">helloWorld</span><span class="keyword">(</span><span class="string">"HelloWorld!"</span><span class="keyword">, </span><span class="string">"HowdyWorld!"</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52762""></a>
  <div class="note">
   <strong class="user">andy at arakka dot co dot th</strong>
   <a href="#52762" class="date">11-May-2005 07:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
func_num_args() can be used in conjunction with named arguments, also. For example:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">DebugShow</span><span class="keyword">( </span><span class="default">$label</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">) {
<br />
&nbsp; echo </span><span class="string">"# " </span><span class="keyword">. </span><span class="default">$label </span><span class="keyword">;
<br />
&nbsp; if ( </span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">1 </span><span class="keyword">) echo </span><span class="string">" = " </span><span class="keyword">. </span><span class="default">$value </span><span class="keyword">;
<br />
&nbsp; echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20815""></a>
  <div class="note">
   <strong class="user">ashley at dcs dot warwick dot ac dot uk</strong>
   <a href="#20815" class="date">17-Apr-2002 04:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to pass the parameters on intact to another function, use func_get_args and call_user_func_array (careful - this one is only available in recent PHP versions).&nbsp; For example:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/* Print an HTML tag.&nbsp; This accepts a variable number of arguments:
<br />
&nbsp;&nbsp; the first should be the name of the tag, followed by pairs of
<br />
&nbsp;&nbsp; arguments that describe keys and values.&nbsp; The values are printed
<br />
&nbsp;&nbsp; with surrounding double quote characters.&nbsp; */
<br />
</span><span class="keyword">function </span><span class="default">printTag</span><span class="keyword">() {
<br />
&nbsp; </span><span class="default">$numArgs </span><span class="keyword">= </span><span class="default">func_num_args</span><span class="keyword">();
<br />
&nbsp; if (</span><span class="default">$numArgs </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">) die(</span><span class="string">"printTag given no arguments"</span><span class="keyword">);
<br />
&nbsp; 
<br />
&nbsp; echo </span><span class="string">"&lt;" </span><span class="keyword">. </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);
<br />
&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$numArgs</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">" " </span><span class="keyword">. </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1 </span><span class="keyword">&lt; </span><span class="default">$numArgs</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">"=\"" </span><span class="keyword">. </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">) . </span><span class="string">"\""</span><span class="keyword">;
<br />
&nbsp; }
<br />
&nbsp; echo </span><span class="string">"&gt;"</span><span class="keyword">;
<br />
&nbsp; 
<br />
}
<br />

<br />
</span><span class="comment">/* Print an HTML tag with a newline on the end */
<br />
</span><span class="keyword">function </span><span class="default">printTagNL</span><span class="keyword">() {
<br />
&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br />
&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">"printTag"</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp; echo </span><span class="string">"\n"</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">printTagNL</span><span class="keyword">(</span><span class="string">"input"</span><span class="keyword">, </span><span class="string">"type"</span><span class="keyword">, </span><span class="string">"hidden"</span><span class="keyword">, </span><span class="string">"name"</span><span class="keyword">, </span><span class="string">"SORTORDER"</span><span class="keyword">, </span><span class="string">"value"</span><span class="keyword">, </span><span class="default">$columnNo</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20315""></a>
  <div class="note">
   <strong class="user">thalis at NOSPAMcs dot pitt dot edu</strong>
   <a href="#20315" class="date">29-Mar-2002 12:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The idea of func_get_args() is to construct functions of variable number of parameters like
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">var_param_func</span><span class="keyword">(){
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">func_num_args</span><span class="keyword">()==</span><span class="default">0</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//do one thing
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">func_num_args</span><span class="keyword">()==</span><span class="default">1</span><span class="keyword">)
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//do another thing
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //get the args with func_get_args()
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
