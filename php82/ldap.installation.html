<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>安装</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ldap.requirements.html">? 需求</a></li>
      <li style="float: right;"><a href="ldap.configuration.html">运行时配置 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ldap.setup.html">安装/配置</a></li>
    <li>安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="ldap.installation" class="section">
 <h2 class="title">安装</h2>
 <p class="para">
  LDAP support in PHP is not enabled by default. You will need to
  use the <strong class="option configure">--with-ldap[=DIR]</strong>
  configuration option when compiling PHP to enable LDAP support.
  DIR is the LDAP base install directory. To enable SASL support,
  be sure <strong class="option configure">--with-ldap-sasl[=DIR]</strong> is
  used, and that <var class="filename">sasl.h</var> exists on the system.
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>Note to Win32 Users</strong><br />
  <p class="para">
   为了使此扩展生效，
<abbr title="Dynamic Link Library">DLL</abbr> 文件必须能在 Windows 系统的
<var class="envar">PATH</var> 指示的路径下找到。如何操作的信息，请参见题为"<a href="faq.installation.html#faq.installation.addtopath" class="link">如何在 Windows 中将 PHP
目录加到 PATH 中</a>"的<abbr title="Frequently Asked Questions">FAQ</abbr>。虽然将
DLL 文件从 PHP 文件夹复制到 Windows 系统目录也行，但不建议这样做。
<em class="emphasis">此扩展需要下列文件在 <var class="envar">PATH</var> 路径中：</em>
   <var class="filename">libeay32.dll</var> and 
   <var class="filename">ssleay32.dll</var>, or, as of OpenSSL 1.1
   <var class="filename">libcrypto-*.dll</var> and <var class="filename">libssl-*.dll</var>
  </p>
 </p></blockquote>
 <p class="para">
  In order to use Oracle LDAP libraries, proper <a href="oci8.requirements.html" class="link">Oracle environment</a> has to be set.
 </p>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="123974""></a>
  <div class="note">
   <strong class="user">p38fln at msn dot com</strong>
   <a href="#123974" class="date">21-Jun-2019 05:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On newer versions of Windows and Windows Server, if you've installed PHP from the Microsoft Web Platform Installer (PI) then all you have to do is add extension=php_ldap.dll to the extensions section and restart IIS.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117569""></a>
  <div class="note">
   <strong class="user">chealer at gmail dot com</strong>
   <a href="#117569" class="date">30-Jun-2015 09:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Users of the "WAMP Server" software need to enter PHP's path... as the documentation says. Although apache\apache[...]\bin\ also contains the files mentioned, this does not suffice for some reason.<br />
For me, the path is C:\wamp\bin\php\php5.5.12</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117471""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#117471" class="date">15-Jun-2015 08:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
OCI client from Oracle distributes un ldap.h which may collision with the SO ldap.h.<br />
You can, remove the Oracle ldap.h and build or configure php without oci8 and then add OCI8 later as a shared extension.<br />
This latter step is easiest using PECL: pecl install oci8. You will then need to add 'extension=oci8.so' to your php.ini.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116575""></a>
  <div class="note">
   <strong class="user">Cojak</strong>
   <a href="#116575" class="date">23-Jan-2015 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Runing in IIS 8.5 on Server 2012 R2 I tried to install PHP Manager same as nesbittp needed to install Dot Net 3.5 and HTTP Activation first then installed without issue.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114712""></a>
  <div class="note">
   <strong class="user">silver dot alecs at yahoo dot com</strong>
   <a href="#114712" class="date">27-Mar-2014 01:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The easiest way to install ldap extension on Ubuntu 12.04 is:<br />
<br />
sudo apt-get install php5-ldap<br />
<br />
Also don't forget to laod the extension.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114572""></a>
  <div class="note">
   <strong class="user">nesbittp</strong>
   <a href="#114572" class="date">07-Mar-2014 12:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To enable PHP LDAP for IIS, I installed PHP Manager which integrates with IIS. Open this up and you can enable/disable extensions. Enable php_ldap.dll and it works straight away.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114490""></a>
  <div class="note">
   <strong class="user">tomasz() trejderowski!pl</strong>
   <a href="#114490" class="date">26-Feb-2014 01:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I can confirm Frank's note (made 1 year ago, see below) about requirement of "libsasl.dll" library. I have "PHP Version 5.4.7" and my Apache fails to restart with error saying, that "libsasl.dll" is missing, once I enable php_ldap.dll extension in PHP configuration.<br />
<br />
What is even more strange, I DO HAVE this library (along with required "ssleay32.dll" and "libeay32.dll" in my PHP's directory and my PHP's directory IS listed in Windows' PATH variable and even so, I'm facing the problem of Apache failing to start.<br />
<br />
The only workaround, I found is to copy "libsasl.dll" to "system32" system directory. Solution, that PHP documentation here discourages.<br />
<br />
So, to summarize, section "Note to Win32 users" is twice wrong. You DO have to have "libsasl.dll" directory and you have to place it in your system folder.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110875""></a>
  <div class="note">
   <strong class="user">Frank</strong>
   <a href="#110875" class="date">18-Dec-2012 07:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found not only "Versions before PHP 4.3.0 additionally require libsasl.dll.".<br />
<br />
If you use php-5.3.3-Win32-VC9-x86 or later Versions that<br />
It's require libsasl.dll.<br />
<br />
Running under Windows &amp; Apache 2.2.8<br />
PHP file is download from <a href="http://windows.php.net/downloads/releases/archives/" rel="nofollow" target="_blank">http://windows.php.net/downloads/releases/archives/</a><br />
<br />
When I use php-5.2.x-Win32-VC6-x86 and php-5.3.x-Win32-VC6-x86<br />
<br />
1.just uncomment extension=php_ldap.dll&nbsp; in php.ini<br />
2.Restart apache,it's ok<br />
<br />
When I use php-5.3.x-Win32-VC9-x86 and php-5.4.x-Win32-VC9-x86<br />
<br />
1.just uncomment extension=php_ldap.dll&nbsp; in php.ini<br />
2.Restart apache,always fail...<br />
(only php-5.3.1-Win32-VC9-x86 &amp; php-5.3.2-Win32-VC9-x86 is ok. )<br />
<br />
[php-5.3.3-Win32-VC9-x86 or later Versions]<br />
1.just uncomment extension=php_ldap.dll&nbsp; in php.ini<br />
2.copy&nbsp; libsasl.dll to [apache folder]\bin<br />
3.Restart apache,it's ok</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107328""></a>
  <div class="note">
   <strong class="user">msuzer</strong>
   <a href="#107328" class="date">31-Jan-2012 07:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If using a debian machine (debian or ubuntu variants) just do apt-get install php5-ldap, that's all to get ldap work on php. No need to get sources, try to compiling them and&nbsp; so on.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101767""></a>
  <div class="note">
   <strong class="user">kirk dot kerr at arcusfm dot com</strong>
   <a href="#101767" class="date">10-Jan-2011 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It seems that the php 5.3 windows installer does not install the ldap.dll to the hard drive as standard - during the install process i had to specifically request that it was installed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90542""></a>
  <div class="note">
   <strong class="user">tom at wheelercreek dot com</strong>
   <a href="#90542" class="date">27-Apr-2009 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorry - I was referring to "php_ldap.dll", not php_lamp.dll</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90496""></a>
  <div class="note">
   <strong class="user">tom at wheelercreek dot com</strong>
   <a href="#90496" class="date">24-Apr-2009 03:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're running on Windows XP with Apache, and you installed PHP 5 from the windows installer rather than the full zipped version - you may not have the php_ldap.dll file.&nbsp; 
<br />

<br />
I had to follow the steps above, making sure PHP was added to my Windows Path, adding the 2 dll files to the system32 directory, also making sure the php.ini extensions directory was set correctly (in my case: C:\Program Files\PHP\ext).&nbsp; 
<br />

<br />
Still was a getting a message about not being able to locate the "php_lamp.dll" file.&nbsp; I finally went back, downloaded the full .zip file of latest PHP version, and that missing dll file is included there - along with many others.&nbsp; 
<br />

<br />
Remember to restart Apache server after you do all this.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84941""></a>
  <div class="note">
   <strong class="user">Steve</strong>
   <a href="#84941" class="date">06-Aug-2008 11:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running under IIS, I found php_ldap would not load even though d:\php contained libeay32.dll and ssleay32.dll, and d:\php was in the PATH environment variable.<br />
<br />
I finally tracked this down to the position of d:\php in the PATH.&nbsp; If d:\php is near the head of the PATH, everything works fine.&nbsp; If d:\php is near the end of the PATH, apparently it gets ignored by IIS (even though it works fine from the command line, e.g., with php -m).&nbsp; Have no idea why this is.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83447""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#83447" class="date">26-May-2008 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running under IIS, I did not find the need to download and compile libraries.<br />
<br />
1. Edit PHP.INI (which should be in windows directory)<br />
2. Uncomment the line extension=php_ldap.dll<br />
3. Restart IIS</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
