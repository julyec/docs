<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Identifies an element's attributes</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="simplexmlelement.asxml.html">? SimpleXMLElement::asXML</a></li>
      <li style="float: right;"><a href="simplexmlelement.children.html">SimpleXMLElement::children ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.simplexmlelement.html">SimpleXMLElement</a></li>
    <li>Identifies an element's attributes</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="simplexmlelement.attributes" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SimpleXMLElement::attributes</h1>
  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SimpleXMLElement::attributes</span> &mdash; <span class="dc-title">Identifies an element&#039;s attributes</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-simplexmlelement.attributes-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SimpleXMLElement::attributes</strong></span>(<span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$namespaceOrPrefix</code><span class="initializer"> = <strong><code>null</code></strong></span></span>, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$isPrefix</code><span class="initializer"> = <strong><code>false</code></strong></span></span>): <span class="type"><span class="type">?</span><span class="type"><a href="class.simplexmlelement.html" class="type SimpleXMLElement">SimpleXMLElement</a></span></span></div>

  <p class="para rdfs-comment">
   This function provides the attributes and values defined within an xml tag.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">SimpleXML
建起了一个给大多数方法添加迭代属性的规则。不能通过使用
<span class="function"><a href="function.var-dump.html" class="function">var_dump()</a></span> 或任何可检查对象的其它东西来查看。</span></p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-simplexmlelement.attributes-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">namespaceOrPrefix</code></dt>

     <dd>

      <p class="para">
       An optional namespace for the retrieved attributes
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">isPrefix</code></dt>

     <dd>

      <p class="para">
       Default to <strong><code>false</code></strong>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-simplexmlelement.attributes-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns a <span class="classname"><a href="class.simplexmlelement.html" class="classname">SimpleXMLElement</a></span> object that can be
   iterated over to loop through the attributes on the tag.
  </p>
  <p class="para">
   Returns <strong><code>null</code></strong> if called on a <span class="classname"><a href="class.simplexmlelement.html" class="classname">SimpleXMLElement</a></span>
   object that already represents an attribute and not a tag.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-simplexmlelement.attributes-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 Interpret an XML string</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$string </span><span style="color: #007700">= &lt;&lt;&lt;XML<br /></span><span style="color: #DD0000">&lt;a&gt;<br /> &lt;foo name="one" game="lonely"&gt;1&lt;/foo&gt;<br />&lt;/a&gt;<br /></span><span style="color: #007700">XML;<br /><br /></span><span style="color: #0000BB">$xml </span><span style="color: #007700">= </span><span style="color: #0000BB">simplexml_load_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">);<br />foreach(</span><span style="color: #0000BB">$xml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">() as </span><span style="color: #0000BB">$a </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$b</span><span style="color: #007700">) {<br />    echo </span><span style="color: #0000BB">$a</span><span style="color: #007700">,</span><span style="color: #DD0000">'="'</span><span style="color: #007700">,</span><span style="color: #0000BB">$b</span><span style="color: #007700">,</span><span style="color: #DD0000">"\"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
name=&quot;one&quot;
game=&quot;lonely&quot;
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-simplexmlelement.attributes-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="simplexml.examples-basic.html" class="xref">Basic SimpleXML usage</a></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122758""></a>
  <div class="note">
   <strong class="user">jurchiks101 at gmail dot com</strong>
   <a href="#122758" class="date">23-May-2018 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An undocumented way - and, IMO, a hack - of getting an element's value OR attributes <br />
(but not both) without type-casting is to use the function `current()`:<br />
<br />
<span class="default">&lt;?php<br />
$xml </span><span class="keyword">= new </span><span class="default">SimpleXMLElement</span><span class="keyword">(&lt;&lt;&lt;'XML'<br />
</span><span class="string">&lt;foo&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;bar&gt;1&lt;/bar&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;baz name="baz" /&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;qux name="qux"&gt;3&lt;/qux&gt;<br />
&lt;/foo&gt;<br />
</span><span class="keyword">XML<br />
);<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">([<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'bar' </span><span class="keyword">=&gt; [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">current</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; ],<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'baz' </span><span class="keyword">=&gt; [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">baz</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">(),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">current</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">baz</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">()),<br />
&nbsp;&nbsp;&nbsp; ],<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'qux' </span><span class="keyword">=&gt; [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// won't work here correctly<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">qux</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">current</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">qux</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">qux</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">(),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">current</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">qux</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">()),<br />
&nbsp;&nbsp;&nbsp; ],<br />
]);<br />
</span><span class="default">?&gt;<br />
</span><br />
Results in the following output (re-formatted to shorten it):<br />
```<br />
array(3) {<br />
&nbsp; 'bar' =&gt; array(2) {<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; class SimpleXMLElement#2 (1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; public ${0} =&gt; string(1) "1"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; string(1) "1"<br />
&nbsp; }<br />
&nbsp; 'baz' =&gt; array(2) {<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; class SimpleXMLElement#5 (1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; public $@attributes =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; string(3) "baz"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; 'qux' =&gt; array(4) {<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; class SimpleXMLElement#6 (2) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; public $@attributes =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; public ${0} =&gt; string(1) "3"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; string(3) "qux"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; class SimpleXMLElement#7 (1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; public $@attributes =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; array(1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; 'name' =&gt; string(3) "qux"<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
}<br />
```<br />
<br />
This apparently reads the element as an array and just returns the value of the first property, whether it be the attributes or the value. As seen in the third example, this is unreliable, especially if you're parsing XML from an outside source that may or may not have attributes on an element that you want the value of.<br />
<br />
I certainly do NOT advise anyone to use this since it is undocumented and it is just a coincidence that it works, so it might break in the future without prior notice.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117822""></a>
  <div class="note">
   <strong class="user">andy dot locologic+101 at gmail dot com</strong>
   <a href="#117822" class="date">14-Aug-2015 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easiest and safest way to get attributes as an array is to use the iterator_to_array function (see <a href="http://php.net/manual/en/function.iterator-to-array.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.iterator-to-array.php</a>):<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; $x </span><span class="keyword">= new </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="string">'&lt;div class="myclass" id="myid"/&gt;'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$attributes </span><span class="keyword">= </span><span class="default">iterator_to_array</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">());<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116360""></a>
  <div class="note">
   <strong class="user">zevnikrok</strong>
   <a href="#116360" class="date">18-Dec-2014 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you wish to get attributes as an associative array of key value pairs, you don't need to iterate through them, you can get it with this one liner:<br />
<br />
&nbsp; reset($element-&gt;attributes())</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113164""></a>
  <div class="note">
   <strong class="user">webfelipemaia at gmail dot com</strong>
   <a href="#113164" class="date">07-Sep-2013 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use attributes to display when it meets certain condition defined attribute / value in xml tags.<br />
<br />
Use atributos para exibir quando atende determinada condi??o definida atributo / valor em tags XML.<br />
<br />
Consider the following example:<br />
Considere o seguinte exemplo:<br />
<br />
(file.xml)<br />
<br />
&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />
<br />
&lt;list&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;item type="Language"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;name&gt;PHP&lt;/name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;link&gt;www.php.net&lt;/link&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/item&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;item type="Database"&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;name&gt;Java&lt;/name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;link&gt;www.oracle.com/br/technologies/java/?&lt;/link&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/item&gt;<br />
&lt;/list&gt;<br />
<br />
Checks if the attribute value equals "Language", if equal prints everything that is related to "Language".<br />
<br />
Verifica se o valor do atributo é igual a "Language", se for, imprime tudo o que for relativo ao mesmo.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$xml </span><span class="keyword">= </span><span class="default">simplexml_load_file</span><span class="keyword">(</span><span class="string">"file.xml"</span><span class="keyword">);<br />
<br />
foreach(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">() as </span><span class="default">$child</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$role </span><span class="keyword">= </span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$child </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$role </span><span class="keyword">== </span><span class="string">"Language"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"["</span><span class="keyword">.</span><span class="default">$key </span><span class="keyword">.</span><span class="string">"] "</span><span class="keyword">.</span><span class="default">$value </span><span class="keyword">. </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
output:<br />
saída:<br />
<br />
[name] PHP<br />
[link] www.php.net</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112415""></a>
  <div class="note">
   <strong class="user">adrian at foeder dot de</strong>
   <a href="#112415" class="date">14-Jun-2013 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in order to get a possibly present xml:space attribute, use the following construct:<br />
<br />
<span class="default">&lt;?php<br />
$simpleXmlElement</span><span class="keyword">-&gt;</span><span class="default">element</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">(</span><span class="string">'<a href="http://www.w3.org/XML/1998/namespace" rel="nofollow" target="_blank">http://www.w3.org/XML/1998/namespace</a>'</span><span class="keyword">)-&gt;</span><span class="default">space</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This will, for example, return 'preserve' if set.<br />
<br />
Just passing by 'xml' as namespace argument of the attribute() method didn't work out for me. Passing by the complete namespace URI works also if it is not explicitly defined in the underlying XML document.<br />
<br />
Also, $simpleXmlElement-&gt;getNamespaces() does not return anything of use.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110574""></a>
  <div class="note">
   <strong class="user">totalwipeout at gmail dot com</strong>
   <a href="#110574" class="date">08-Nov-2012 05:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Tip to get a real array of all attributes of a node (not SimpleXML's object acting like an array)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//- $node is a SimpleXMLElement object<br />
<br />
</span><span class="default">$atts_object </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">(); </span><span class="comment">//- get all attributes, this is not a real array<br />
</span><span class="default">$atts_array </span><span class="keyword">= (array) </span><span class="default">$atts_object</span><span class="keyword">; </span><span class="comment">//- typecast to an array<br />
<br />
//- grab the value of '@attributes' key, which contains the array your after<br />
</span><span class="default">$atts_array </span><span class="keyword">= </span><span class="default">$atts_array</span><span class="keyword">[</span><span class="string">'@attributes'</span><span class="keyword">];<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$atts_object</span><span class="keyword">); </span><span class="comment">//- outputs object(SimpleXMLElement)[19]<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; public '@attributes' =&gt; ...<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$atts_array</span><span class="keyword">); </span><span class="comment">//- outputs array (size=11) ...<br />
<br />
</span><span class="default">?&gt;<br />
</span>Hope this helps!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="108029""></a>
  <div class="note">
   <strong class="user">chris at chlab dot ch</strong>
   <a href="#108029" class="date">23-Mar-2012 10:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that you must provide the namespace if you want to access an attribute of a non-default namespace:<br />
<br />
Consider the following example:<br />
<br />
<span class="default">&lt;?php<br />
$xml </span><span class="keyword">= &lt;&lt;&lt;XML<br />
</span><span class="string">&lt;?xml version="1.0"?&gt;<br />
&lt;Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"<br />
&nbsp;xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"&gt;<br />
&nbsp;&lt;Table Foo="Bar" ss:ExpandedColumnCount="7"&gt;<br />
&nbsp;&lt;/Table&gt;<br />
&lt;/Workbook&gt;<br />
</span><span class="keyword">XML;<br />
<br />
</span><span class="default">$sxml </span><span class="keyword">= new </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">);<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Access attribute of default namespace<br />
&nbsp;*/<br />
</span><span class="default">var_dump</span><span class="keyword">((string) </span><span class="default">$sxml</span><span class="keyword">-&gt;</span><span class="default">Table</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'Foo'</span><span class="keyword">]);<br />
</span><span class="comment">// outputs: 'Bar'<br />
<br />
/**<br />
&nbsp;* Access attribute of non-default namespace<br />
&nbsp;*/<br />
</span><span class="default">var_dump</span><span class="keyword">((int) </span><span class="default">$sxml</span><span class="keyword">-&gt;</span><span class="default">Table</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'ExpandedColumnCount'</span><span class="keyword">]);<br />
</span><span class="comment">// outputs: 0<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">((int) </span><span class="default">$sxml</span><span class="keyword">-&gt;</span><span class="default">Table</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">attributes</span><span class="keyword">(</span><span class="string">'ss'</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">)-&gt;</span><span class="default">ExpandedColumnCount</span><span class="keyword">);<br />
</span><span class="comment">// outputs: '7'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104002""></a>
  <div class="note">
   <strong class="user">Andrei</strong>
   <a href="#104002" class="date">16-May-2011 04:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Reading the attributes of the root element with name space prefixes as in an Atom feed<br />
<br />
&lt;feed xmlns="<a href="http://www.w3.org/2005/Atom" rel="nofollow" target="_blank">http://www.w3.org/2005/Atom</a>" xmlns:openSearch="<a href="http://a9.com/-/spec/opensearch/1.1/" rel="nofollow" target="_blank">http://a9.com/-/spec/opensearch/1.1/</a>" xmlns:gd="<a href="http://schemas.google.com/g/2005" rel="nofollow" target="_blank">http://schemas.google.com/g/2005</a>" gd:etag="W/&amp;quot;Ck4EQXYzeCp7ImA9WhZWFE4.&amp;quot;"&gt;<br />
<br />
<span class="default">&lt;?php<br />
$xml </span><span class="keyword">=&nbsp; @</span><span class="default">simplexml_load_file</span><span class="keyword">(</span><span class="default">$feed</span><span class="keyword">); <br />
</span><span class="default">$att_gd </span><span class="keyword">= </span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">(</span><span class="string">"gd"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$Etag </span><span class="keyword">= </span><span class="default">$att_gd</span><span class="keyword">[</span><span class="string">"etag"</span><span class="keyword">];<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103677""></a>
  <div class="note">
   <strong class="user">sarlak</strong>
   <a href="#103677" class="date">27-Apr-2011 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$att </span><span class="keyword">= </span><span class="string">'attribueName'</span><span class="keyword">;<br />
<br />
</span><span class="comment">// You can access an element's attribute just like this :<br />
</span><span class="default">$attribute </span><span class="keyword">= </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">()-&gt;</span><span class="default">$att</span><span class="keyword">;<br />
<br />
</span><span class="comment">// This will save the value of the attribute, and not the objet<br />
</span><span class="default">$attribute </span><span class="keyword">= (string)</span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">()-&gt;</span><span class="default">$att</span><span class="keyword">;<br />
<br />
</span><span class="comment">// You also can edit it this way :<br />
</span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">()-&gt;</span><span class="default">$att </span><span class="keyword">= </span><span class="string">'New value of the attribute'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103235""></a>
  <div class="note">
   <strong class="user">leap</strong>
   <a href="#103235" class="date">02-Apr-2011 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to save the value of an attribute into an array, typecast it to a string.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// stores an xml-element-object
<br />
</span><span class="default">$dataStore</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">] = </span><span class="default">$attributes</span><span class="keyword">-&gt;</span><span class="default">myValue
<br />

<br />
</span><span class="comment">// stores the value of the attribute
<br />
</span><span class="default">$dataStore</span><span class="keyword">[</span><span class="string">'value'</span><span class="keyword">] = (string)</span><span class="default">$attributes</span><span class="keyword">-&gt;</span><span class="default">myValue
<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98061""></a>
  <div class="note">
   <strong class="user">alan at performantsystems dot com</strong>
   <a href="#98061" class="date">23-May-2010 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So lets say you have database type data in an XML string called $xmlstring with the key or item ID as an XML Attribute and all content data as regular XML Elements, as above. SimpleXML processes the Attributes as an array, so we can play along and push the Attributes into an array. Then we can get the value of any specific Attribute we want by addressing it by name, such as "ID".<br />
<br />
Considering this data:<br />
<br />
&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />
&lt;data&gt;<br />
&nbsp;&nbsp; &lt;item ID="30001"&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;Company&gt;Navarro Corp.&lt;/Company&gt;<br />
&nbsp;&nbsp; &lt;/item&gt;<br />
&nbsp;&nbsp; &lt;item ID="30002"&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;Company&gt;Performant Systems&lt;/Company&gt;<br />
&nbsp;&nbsp; &lt;/item&gt;<br />
&nbsp;&nbsp; &lt;item ID="30003"&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;Company&gt;Digital Showcase&lt;/Company&gt;<br />
&nbsp;&nbsp; &lt;/item&gt;<br />
&lt;/data&gt;<br />
<br />
Example of listing both the ID Attribute and Company Element values:<br />
&nbsp;<br />
<span class="default">&lt;?php<br />
$xmlObject </span><span class="keyword">= new </span><span class="default">SimpleXMLElement</span><span class="keyword">(</span><span class="default">$xmlstring</span><span class="keyword">);<br />
foreach (</span><span class="default">$xmlObject</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">() as </span><span class="default">$node</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">();&nbsp;&nbsp; </span><span class="comment">// returns an array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">print (</span><span class="string">"ID="</span><span class="keyword">.</span><span class="default">$arr</span><span class="keyword">[</span><span class="string">"ID"</span><span class="keyword">]);&nbsp; &nbsp;&nbsp; </span><span class="comment">// get the value of this attribute<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">print (</span><span class="string">"&nbsp; Company="</span><span class="keyword">.</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">Company</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print (</span><span class="string">"&lt;p&gt;&lt;hr&gt;"</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97266""></a>
  <div class="note">
   <strong class="user">Xeoncross</strong>
   <a href="#97266" class="date">10-Apr-2010 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is really simple to access attributes using array form. However, you must convert them to strings or ints if you plan on passing the values to functions.<br />
<br />
<span class="default">&lt;?php<br />
SimpleXMLElement Object<br />
</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; [@</span><span class="default">attributes</span><span class="keyword">] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [</span><span class="default">id</span><span class="keyword">] =&gt; </span><span class="default">55555<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">)<br />
<br />
&nbsp;&nbsp;&nbsp; [</span><span class="default">text</span><span class="keyword">] =&gt; </span><span class="string">"hello world"<br />
</span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
Then using a function<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">xml_attribute</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$attribute</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(isset(</span><span class="default">$object</span><span class="keyword">[</span><span class="default">$attribute</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (string) </span><span class="default">$object</span><span class="keyword">[</span><span class="default">$attribute</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I can get the "id" like this<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="default">xml_attribute</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">, </span><span class="string">'id'</span><span class="keyword">); </span><span class="comment">//prints "55555"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94433""></a>
  <div class="note">
   <strong class="user">gillllberg at gmail dot com</strong>
   <a href="#94433" class="date">04-Nov-2009 02:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get an attribute in the node, use node-&gt;attributes()-&gt;attributeName</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48061""></a>
  <div class="note">
   <strong class="user">skerr at mojavi dot org</strong>
   <a href="#48061" class="date">09-Dec-2004 10:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can also access the node as an array to get attributes:
<br />

<br />
<span class="default">&lt;?php
<br />

<br />
$xml </span><span class="keyword">= </span><span class="default">simplexml_load_file</span><span class="keyword">(</span><span class="string">'file.xml'</span><span class="keyword">);
<br />

<br />
echo </span><span class="string">'Attribute: ' </span><span class="keyword">. </span><span class="default">$xml</span><span class="keyword">[</span><span class="string">'attribute'</span><span class="keyword">];
<br />

<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42692""></a>
  <div class="note">
   <strong class="user">inge at elektronaut dot no</strong>
   <a href="#42692" class="date">26-May-2004 10:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
here's a simple function to get an attribute by name, based on the example
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">findAttribute</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">, </span><span class="default">$attribute</span><span class="keyword">) {
<br />
&nbsp; foreach(</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">() as </span><span class="default">$a </span><span class="keyword">=&gt; </span><span class="default">$b</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$a </span><span class="keyword">== </span><span class="default">$attribute</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp; } 
<br />
&nbsp; if(</span><span class="default">$return</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;
<br />
&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
