<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>安装</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="curl.requirements.html">? 需求</a></li>
      <li style="float: right;"><a href="curl.configuration.html">运行时配置 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="curl.setup.html">安装/配置</a></li>
    <li>安装</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="curl.installation" class="section">
 <h2 class="title">安装</h2>
 <p class="para">
  要 PHP 支持 cURL，必须在编译 PHP 时加上
  <strong class="option configure">--with-curl[=DIR]</strong> 选项，DIR 为包含
  <var class="filename">lib</var> 和 <var class="filename">include</var> 的目录路径。在
  <var class="filename">include</var> 目录中必须有一个名为
  <var class="filename">curl</var>，包含了
  <var class="filename">easy.h</var> 和 <var class="filename">curl.h</var> 的文件夹。<var class="filename">lib</var> 文件夹里应该有一个名为
  <var class="filename">libcurl.a</var> 的文件。
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>Win32 用户注意</strong><br />
  <span class="simpara">
  要在 Windows 环境下使用这个模块，<var class="filename">libeay32.dll</var> 和 <var class="filename">ssleay32.dll</var> 库文件必须放到
  <var class="envar">PATH</var> 环境变量包含的目录下。OpenSSL 1.1 下则为 <var class="filename">libcrypto-*.dll</var> 和 <var class="filename">libssl-*.dll</var> 文件。同样的，<var class="filename">libssh2.dll</var>
  文件也需要放到 <var class="envar">PATH</var> 环境变量包含的目录下。
  </span>
  <span class="simpara">
  不需要用 cURL 网站上的 <var class="filename">libcurl.dll</var> 库。
  </span>
  </p></blockquote>
</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="126989""></a>
  <div class="note">
   <strong class="user">NV</strong>
   <a href="#126989" class="date">15-Apr-2022 12:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If trying to get installed on Windows (I was using Windows 10, Apache 2.4, PHP 8.1) and the curl module isn't loading and PHP is showing/logging the following error but &lt;phpPath&gt;\ext\php_curl.dll does exist:<br />
<br />
[14-Apr-2022 23:41:36 UTC] PHP Warning:&nbsp; PHP Startup: Unable to load dynamic library 'curl' (tried: &lt;phpPath&gt;\ext\curl (The specified module could not be found), &lt;phpPath&gt;\ext\php_curl.dll (The specified module could not be found)) in Unknown on line 0<br />
<br />
The problem is not that it can't find the module but that it can't find its dependencies (ie &lt;phpPath&gt;\libcrypto-1.1.dll and libssl-1.1.dll or similar).&nbsp; As described in other comments,&nbsp; you need to add &lt;phpPath&gt; to the Systerm Variables, PATH variable.&nbsp;&nbsp; <br />
<br />
But, if you are starting Apache as a service, the default is for the service to run under the Local System account. In that case, ****YOU NEED TO REBOOT**** for the change in the PATH variable to be updated for the Local System account (see the following for reference:<br />
https://stackoverflow.com/questions/32068893/how-to-change-path-value-for-local-system-account-in-ms-windows)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125770""></a>
  <div class="note">
   <strong class="user">sharif dot golang at gmail dot com</strong>
   <a href="#125770" class="date">04-Feb-2021 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I tried with that and it's properly works.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125294""></a>
  <div class="note">
   <strong class="user">dave at omgomg dot co dot uk</strong>
   <a href="#125294" class="date">21-Aug-2020 07:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To get curl working on win64 with apache 2.4 and php 7.4 i had to add to the path<br />
C:\Apache24\bin\<br />
C:\php\</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124896""></a>
  <div class="note">
   <strong class="user">Windows+</strong>
   <a href="#124896" class="date">10-Apr-2020 09:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you cant solve this "Fatal error: Uncaught Error: Call to undefined function curl_init()" on WINDOWS<br />
<br />
Try add to this strings to apache config (httpd.conf):<br />
<br />
LoadFile "C:\Program Files\Apache\php\libssh2.dll"<br />
LoadFile "C:\Program Files\Apache\php\libcrypto-1_1-x64.dll"<br />
LoadFile "C:\Program Files\Apache\php\libssl-1_1-x64.dll"<br />
<br />
and restart apache (dont forget to use your php folder name);<br />
<br />
Moving this files to apache or windows folder, dont work for me:<br />
<br />
libeay32.dll (libcrypto-*.dll)<br />
libssh2.dll <br />
ssleay32.dll (libssl-*.dll)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124549""></a>
  <div class="note">
   <strong class="user">Greg</strong>
   <a href="#124549" class="date">27-Dec-2019 06:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those who may be having WordPress issues relating to curl, the answer for me was that the curl.cainfo wasn't specified in the config.&nbsp; This resulted in a plugin giving some non-graceful errors for which I was finally able to track it down.<br />
<br />
curl.cainfo = "C:\php\extras\ssl\cacert.pem"<br />
<br />
You'll need a copy of the cacert.pem (doesn't come with PHP and does need to be updated every so often can be found at an official permalink of:<br />
https://curl.haxx.se/ca/cacert.pem<br />
<br />
They use a modified version of Mozilla's certificate store meant to work with libcurl.<br />
<br />
I'm not an expert, this is just what fixed the errors for me.<br />
<br />
(cacert.pem lists official root certificate providers so your computer knows which ones its safe to authenticate against is my lay interpretation.&nbsp; I'm sure it's not technically accurate but close enough for us lay people.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123978""></a>
  <div class="note">
   <strong class="user">Tovster</strong>
   <a href="#123978" class="date">23-Jun-2019 10:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had curl not working in Windows with Apache 2.4 and PHP 7.3 - Strangly phpinfo showed author but not curl section/panel.<br />
<br />
I changed the widows path to include the PHP directory and after a reboot it started working. <br />
<br />
You can change the windows path in Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Advanced -&gt; Environment Variables&nbsp; then edit the path variable in "System Variables"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122370""></a>
  <div class="note">
   <strong class="user">1004707812 at qq dot com</strong>
   <a href="#122370" class="date">08-Feb-2018 06:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Win10 64bit, php7 x64,apache x64<br />
It's important to set " extension_dir = "X:/WAMP/php/ext" " clearly in php.ini .<br />
Remember some names of dll has changed recently, specially in the&nbsp; x64 environment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122314""></a>
  <div class="note">
   <strong class="user">anonymous</strong>
   <a href="#122314" class="date">26-Jan-2018 10:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Upgrading to php 7.1.6 on Apache 2.4 32bit version Windows 7 x64<br />
<br />
this curl&nbsp; implementation works:<br />
<br />
1.&nbsp;&nbsp; C:/(path to php folder)/php.ini <br />
enable extension=php_curl.dll<br />
<br />
libeay32.dll, ssleay32.dll, libssh2.dll find directly in php7 folder<br />
<br />
2. add this to Apache/conf/httpd.conf<br />
# load curl and open ssl libraries<br />
LoadFile "C:/(path to php folder)/libeay32.dll"<br />
LoadFile "C:/(path to php folder)/ssleay32.dll"<br />
LoadFile "C:/(path to php folder)/libssh2.dll"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121922""></a>
  <div class="note">
   <strong class="user">epos_jk</strong>
   <a href="#121922" class="date">27-Nov-2017 04:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You dont need to copy files to use PHP CURL with Apache 2.4 - use the LoadFile directive in your apache config file instead:<br />
LoadFile "C:/php7/libssh2.dll"<br />
(that was all it took for me to get it work)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121921""></a>
  <div class="note">
   <strong class="user">epos_jk</strong>
   <a href="#121921" class="date">27-Nov-2017 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beginning with version 1.1.0 OpenSSL did change their libary names!<br />
libeay32.dll is now libcrypto-*.dll (e.g. libcrypto-1_1-x64.dll for OpenSSL 1.1.x on 64bit windows)<br />
ssleay32.dll is now libssl-*.dll (e.g. libssl-1_1-x64.dll for OpenSSL 1.1.x on 64bit windows)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118878""></a>
  <div class="note">
   <strong class="user">karliskavacis at gmail dot com</strong>
   <a href="#118878" class="date">22-Feb-2016 08:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In my case, while running Windows 10 and Apache Httpd 2.4, I had to add my PHP7 root directory to Windows PATH and it resolved issues with failing to load couple of PHP extensions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117729""></a>
  <div class="note">
   <strong class="user">lymer at ca dot ibm dot com</strong>
   <a href="#117729" class="date">29-Jul-2015 07:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For Windows 7 (64 bit), ensure you not only enable the curl extension (i.e. uncomment "extension=php_curl.dll" in php.ini) as described in this manual, but also set the extension directory for Windows (e.g. extension_dir = "ext") in the php.ini file.&nbsp; Adding / copying dll files or changing the system path were not necessary.&nbsp; (Versions used: Apache 2.4.1 (Win64) and PHP 5.5.15.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117372""></a>
  <div class="note">
   <strong class="user">Developtus.com</strong>
   <a href="#117372" class="date">29-May-2015 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Upgrading to php 5.6.9 on Windows 7 x64 curl no longer is recognised. No errors on server start package just not available and didn't show in phpinfo.php. deplister.exe was ok<br />
I fixed coping the following list files from php folder (in my case D:\xampp\php)<br />
libeay32.dll<br />
libssh2.dll<br />
ssleay32.dll<br />
to c:\xampp\apache\bin (or your apache\bin path), restart apache and works fine, apache's libraries were outdated</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114686""></a>
  <div class="note">
   <strong class="user">jorijnsmit at gmail dot com</strong>
   <a href="#114686" class="date">22-Mar-2014 06:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is not necessary to always (re)compile PHP. For me it was sufficient to install php5-curl and restart Apache:<br />
<br />
$ sudo apt-get install php5-curl<br />
$ sudo /etc/init.d/apache2 restart</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113895""></a>
  <div class="note">
   <strong class="user">TristanV</strong>
   <a href="#113895" class="date">13-Dec-2013 11:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are running on Windows with a Wampserver or alike preconfigured PHP, if you did everything that was advised (path is correct, dlls are in the System32 or the Wow64 folder, php_curl extension uncommented in the php.ini, rebooted your machine and restarted your services), and you still receive messages saying that curl is not installed :<br />
- maybe you are running a command line script (and not a curl instruction within a web application). If yes, remember that there are 2 distinct php.ini configuration files : one for the php-cli commands (run php at command line) and one for the php instructions (run from a page in your www folder).<br />
Wampserver's menuitem "php.ini" only opens the webserver's php.ini, not the php-cli one.<br />
So it will be great to check your php-cli's php.ini configuration file ! (you'll find it in the php.exe's installation folder)<br />
You need to uncomment the extension php_curl in this php.ini file for the command lines to work with curl.<br />
Also uncomment the php_openssl extention by the way (often used with curl).<br />
I hope this fixed issue will help someone else :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109066""></a>
  <div class="note">
   <strong class="user">jmichieli76 at yahoo dot ca</strong>
   <a href="#109066" class="date">18-Jun-2012 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted that on a standard installation of php 5.2.17 on windows has this functionality installed and enabled by default.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104399""></a>
  <div class="note">
   <strong class="user">Joseph Marlin</strong>
   <a href="#104399" class="date">13-Jun-2011 10:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Ubuntu 11.04<br />
<br />
I already had Apache and PHP5 setup, but simply adding php5-curl and curl did *not* work. I also had to get libcurl3 and libcurl3-dev. The full command:<br />
<br />
sudo apt-get install curl libcurl3 libcurl3-dev php5-curl<br />
<br />
You'll know if it works because phpinfo() will get a new section with Curl info.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95349""></a>
  <div class="note">
   <strong class="user">wixelbomb at yahoo dot com</strong>
   <a href="#95349" class="date">28-Dec-2009 11:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just an additional note for Windows XP installations ...<br />
<br />
The instructions others have courteously given still lack one small item for those who have the Windows/system32 directory as the repository for the .dll files concerned with php_curl.<br />
<br />
Go to the ext directory of your php installation and copy php_curl.dll&nbsp; to the Windows/system32 folder after you have followed the advise given elsewhere.<br />
<br />
So ...<br />
1) remove ';' from extension=php_curl.dll in php.ini<br />
2) ensure that&nbsp; ssleay32.dll and libeay32.dll are in Windows/system32. <br />
3) Copy php_curl.dll into Windows\System32 as well.<br />
<br />
G'day<br />
<br />
bearstate</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85893""></a>
  <div class="note">
   <strong class="user">regs at voidship dot net</strong>
   <a href="#85893" class="date">23-Sep-2008 09:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're dense like I am, spare yourself the trouble on an Ubuntu system (probably Debian too) and...
<br />

<br />
$ sudo apt-get install php5-curl
<br />

<br />
Then feel dumb, but not as dumb as me.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85098""></a>
  <div class="note">
   <strong class="user">cristianods at yahoo dot com</strong>
   <a href="#85098" class="date">14-Aug-2008 06:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Tip for Installing cURL with AppServ development server on Windows
<br />

<br />
If you are running AppServ as a WAMP development environment on a Windows machine, you may experience difficulty installing cURL. Here are some helpful steps:
<br />

<br />
First go to the PHP directory and copy the following libraries to the windows/system32 dir.
<br />
ssleay32.dll
<br />
libeay32.dll
<br />

<br />
Open the php ini file and remove the ; from extension=php_curl.dll
<br />

<br />
Reboot your machine to load [...]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84999""></a>
  <div class="note">
   <strong class="user">comments at adstation-systems dot com</strong>
   <a href="#84999" class="date">09-Aug-2008 08:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You may be confused, as I was, by the instructions for installing cURL in php.&nbsp; The instruction "To use PHP's cURL support you must also compile PHP --with-curl[=DIR]..." was murky to me, since I didn't compile php when I installed it.&nbsp; I just copied all of the necessary files to the correct folders as described very clearly in the php manual.<br />
<br />
I am using Windows XP and Apache with php 5.1.6. In this situation, and it may apply to php versions of 5.0 and later, all one needs to do is remove the ";" from the front of the directive extension=php_curl.dll.&nbsp; You should also check to make certain that libeay32.dll and ssleay32.dll are in your php directory with the other dll's.&nbsp; This directory should already be in you path, so the instruction to put them in you path is not critical.<br />
<br />
You can then run phpinfo() and you should see a heading for curl in the listing.<br />
<br />
Succinctly, my installation of cURL consisted of removing the semi-colon in front of the ;extension=php_curl.dll line in php.ini, saving php.ini and restarting Apache.&nbsp; You may wish to try this if you are using php 5.0 and later and are having difficulty understanding the instructions on the cURL installation page at php.net<br />
<br />
You might also find the information at <a href="http://curl.phptrack.com/forum/viewtopic.php?t=52 useful." rel="nofollow" target="_blank">http://curl.phptrack.com/forum/viewtopic.php?t=52 useful.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
