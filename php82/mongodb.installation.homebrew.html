<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Installing the MongoDB PHP Driver on macOS with Homebrew</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongodb.installation.pecl.html">? Installing the MongoDB PHP Driver with PECL</a></li>
      <li style="float: right;"><a href="mongodb.installation.windows.html">Installing the MongoDB PHP Driver on Windows ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mongodb.installation.html">安装</a></li>
    <li>Installing the MongoDB PHP Driver on macOS with Homebrew</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mongodb.installation.homebrew" class="section">
  <h2 class="title">Installing the MongoDB PHP Driver on macOS with Homebrew</h2>

  <p class="para">
   <a href="https://brew.sh/2018/01/19/homebrew-1.5.0/" class="link external" title="Link : https://brew.sh/2018/01/19/homebrew-1.5.0/">&raquo;&nbsp;Homebrew 1.5.0</a>
   deprecated the <a href="https://github.com/Homebrew/brew" class="link external" title="Link : https://github.com/Homebrew/brew">&raquo;&nbsp;Homebrew/php tap</a>
   and removed formulae for individual PHP extensions. Going forward, macOS
   users are advised to install the
   <a href="https://formulae.brew.sh/formula/php" class="link external" title="Link : https://formulae.brew.sh/formula/php">&raquo;&nbsp;php</a> formula
   and follow the standard
   <a href="mongodb.installation.pecl.html" class="link">PECL installation instructions</a>
   using the <a href="install.pecl.html" class="link">pecl</a> command provided by the
   Homebrew PHP installation.
  </p>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="123452""></a>
  <div class="note">
   <strong class="user">Luiz Eduardo</strong>
   <a href="#123452" class="date">18-Dec-2018 05:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to install on macOS Mojave<br />
<br />
Start with:<br />
<br />
sudo pecl install mongodb<br />
<br />
To check if mongodb package is installed, look for "mongodb" when you run:<br />
<br />
pecl list<br />
<br />
To get your installed mongodb.so path, run:<br />
<br />
pecl list-files mongodb | grep mongodb.so<br />
<br />
then remove (or comment out) on your php.ini file:<br />
<br />
extension="mongodb.so" <br />
<br />
(I could not found a line with extension="php_mongodb.so")<br />
<br />
now insert a line with:<br />
<br />
extension="{{the path to your installed mongodb.so}}"<br />
<br />
Run this command to get your ext-*.ini directory path:<br />
<br />
php -i | grep Scan<br />
<br />
Create your ext-mongodb.ini with:<br />
<br />
touch {{your conf.d path}}/ext-mongodb.ini<br />
<br />
like: <br />
touch /usr/local/etc/php/7.1/conf.d/ext-mongodb.ini<br />
<br />
Restart your apache to read the new configuration<br />
<br />
Sanity check with:<br />
<br />
php -i | grep mongodb <br />
<br />
Your're ready to go.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122604""></a>
  <div class="note">
   <strong class="user">lcalrissian at yahoo dot com</strong>
   <a href="#122604" class="date">08-Apr-2018 09:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The mongodb install has been removed from Homebrew. To install the mongodb extension you need to use pecl.<br />
<br />
sudo pecl install mongodb<br />
<br />
You may need to follow some additional configuration. Follow the inline instructions as they appear. Once the install is finished it will add two lines at the bottom of your php.ini file. Instead, remove these lines and add the and add a separate file to your conf.d directory in the same directory as you php.ini file.<br />
<br />
In php.ini remove<br />
<br />
extension="mongodb.so" // remove<br />
extension="php_mongodb.so // remove <br />
<br />
Then run:<br />
<br />
$ touch /usr/local/etc/php/5.6/conf.d/ext-mongodb.ini<br />
<br />
Finally add this line to the new file:<br />
<br />
// example<br />
extension="/usr/local/Cellar/php@5.6/5.6.35/pecl/20131226/mongodb.so"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122586""></a>
  <div class="note">
   <strong class="user">okanck at gmail dot com</strong>
   <a href="#122586" class="date">05-Apr-2018 07:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
All formulas in homebrew/php has been deleted or moved to homebrew/core.<br />
<br />
To avoid installation problem in homebrew, you can use the command below:<br />
<br />
brew tap kyslik/php<br />
brew install phpXX-mongodb</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="122585""></a>
  <div class="note">
   <strong class="user">tfe</strong>
   <a href="#122585" class="date">04-Apr-2018 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Then I try install <br />
<br />
brew install php72-mongodb<br />
<br />
I get error:<br />
<br />
Error: No available formula with the name "php72-mongodb" <br />
==&gt; Searching for a previously deleted formula (in the last month)...<br />
Error: No previously deleted formula found.<br />
==&gt; Searching for similarly named formulae...<br />
==&gt; Searching local taps...<br />
Error: No similarly named formulae found.<br />
==&gt; Searching taps...<br />
==&gt; Searching taps on GitHub...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121675""></a>
  <div class="note">
   <strong class="user">cristian dot carreno dot g at gmail dot com</strong>
   <a href="#121675" class="date">23-Sep-2017 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For OS Sierra 10.12.6 <br />
<br />
PHP 5.6 <br />
<br />
brew tap homebrew/php<br />
brew install php56-mongodb <br />
extension="/usr/local/opt/php56-mongodb/mongodb.so"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120972""></a>
  <div class="note">
   <strong class="user">simon at programujem dot eu</strong>
   <a href="#120972" class="date">12-Apr-2017 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The mongodb extension is also available for PHP 7.1, you can install it using similar command:<br />
<br />
brew install php71-mongodb</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120727""></a>
  <div class="note">
   <strong class="user">haxpor at gmail dot com</strong>
   <a href="#120727" class="date">02-Mar-2017 02:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
No only just you install it via brew for correct version of php installed on your machine.<br />
<br />
You have to set extension in php.ini too.<br />
<br />
In case of macOS and php 5.6 installed.<br />
I have to set <br />
<br />
extension="/usr/local/opt/php56-mongo/mongo.so"<br />
<br />
The correct path will show mongodb loaded on phpinfo.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120218""></a>
  <div class="note">
   <strong class="user">amit dot clavax at gmail dot com</strong>
   <a href="#120218" class="date">24-Nov-2016 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Below command work for me mac sierra os<br />
brew install php55-mongodb</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119839""></a>
  <div class="note">
   <strong class="user">givemeanthony at outlook dot com</strong>
   <a href="#119839" class="date">03-Sep-2016 09:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You must first tap the PHP formula repository from terminal like so<br />
<br />
&nbsp;&nbsp;&nbsp; brew tap homebrew/php<br />
<br />
in order to install PHP extensions like MongoDB via Homebrew.<br />
After tapping the formula repository, install the MongoDB extension<br />
<br />
&nbsp;&nbsp;&nbsp; brew install phpxx-mongodb<br />
<br />
where xx is the version number.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119833""></a>
  <div class="note">
   <strong class="user">avtrulzz at yahoo dot co dot in</strong>
   <a href="#119833" class="date">03-Sep-2016 10:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The correct command for installation is using homebrew is <br />
brew install homebrew/php/phpxx-mongodb<br />
<br />
For ex. to install the driver for php5.6 use :<br />
brew install homebrew/php/php55-mongodb</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
