<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>绘制多边形并填充</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imagefilledellipse.html">? imagefilledellipse</a></li>
      <li style="float: right;"><a href="function.imagefilledrectangle.html">imagefilledrectangle ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">GD 和图像处理 函数</a></li>
    <li>绘制多边形并填充</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagefilledpolygon" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagefilledpolygon</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imagefilledpolygon</span> &mdash; <span class="dc-title">绘制多边形并填充</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagefilledpolygon-description">
  <h3 class="title">说明</h3>
  <p class="simpara">自 PHP 8.0.0 起的签名（不支持命名参数）</p>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imagefilledpolygon</strong></span>(<span class="methodparam"><span class="type"><a href="class.gdimage.html" class="type GdImage">GdImage</a></span> <code class="parameter">$image</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$points</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span>): <span class="type">bool</span></div>

  <p class="simpara">替代签名（从 PHP 8.1.0 起弃用）</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>imagefilledpolygon</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="class.gdimage.html" class="type GdImage">GdImage</a></span> <code class="parameter">$image</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">array</span> <code class="parameter">$points</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$num_points</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span><br>): <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagefilledpolygon()</strong></span> 在指定 <code class="parameter">image</code> 中创建多边形并填充。
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagefilledpolygon-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">image</code></dt>
<dd>
<p class="para">由图象创建函数(例如<span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>)返回的 
<span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> 对象。</p></dd>

    
     <dt>
<code class="parameter">points</code></dt>

     <dd>

      <p class="para">
       包含连续多边形顶点的 <code class="literal">x</code> 和 <code class="literal">y</code> 坐标的数组。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">num_points</code></dt>

     <dd>

      <p class="para">
       点（顶点）的总数，必须最少为 3。
      </p>
      <span class="simpara">
       如果根据第二个签名省略此参数，则 <code class="parameter">points</code> 必须具有偶数个元素，并且假定
       <code class="parameter">num_points</code> 为 <code class="code">count($points)/2</code>。
      </span>
     </dd>

    
    
     <dt>
<code class="parameter">color</code></dt>

     <dd>

      <p class="para">
       颜色标识符使用 <span class="function"><a href="function.imagecolorallocate.html" class="function">imagecolorallocate()</a></span> 创建。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagefilledpolygon-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>true</code></strong>， 或者在失败时返回 <strong><code>false</code></strong>。
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.imagefilledpolygon-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.1.0</td>
      <td>
       弃用参数 <code class="parameter">num_points</code>。
      </td>
     </tr>

     <tr>
 <td>8.0.0</td>
 <td>
  <code class="parameter">image</code> 现在需要 <span class="classname"><a href="class.gdimage.html" class="classname">GdImage</a></span> 实例；之前需要有效的 <code class="literal">gd</code> <span class="type">resource</span>。
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.imagefilledpolygon-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="example-5480">
    <p><strong>Example #1 <span class="function"><strong>imagefilledpolygon()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// 为多边形设置点数组<br /></span><span style="color: #0000BB">$values </span><span style="color: #007700">= array(<br />            </span><span style="color: #0000BB">40</span><span style="color: #007700">,  </span><span style="color: #0000BB">50</span><span style="color: #007700">,  </span><span style="color: #FF8000">// Point 1 (x, y)<br />            </span><span style="color: #0000BB">20</span><span style="color: #007700">,  </span><span style="color: #0000BB">240</span><span style="color: #007700">, </span><span style="color: #FF8000">// Point 2 (x, y)<br />            </span><span style="color: #0000BB">60</span><span style="color: #007700">,  </span><span style="color: #0000BB">60</span><span style="color: #007700">,  </span><span style="color: #FF8000">// Point 3 (x, y)<br />            </span><span style="color: #0000BB">240</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">,  </span><span style="color: #FF8000">// Point 4 (x, y)<br />            </span><span style="color: #0000BB">50</span><span style="color: #007700">,  </span><span style="color: #0000BB">40</span><span style="color: #007700">,  </span><span style="color: #FF8000">// Point 5 (x, y)<br />            </span><span style="color: #0000BB">10</span><span style="color: #007700">,  </span><span style="color: #0000BB">10   </span><span style="color: #FF8000">// Point 6 (x, y)<br />            </span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 创建图像<br /></span><span style="color: #0000BB">$image </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">250</span><span style="color: #007700">, </span><span style="color: #0000BB">250</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 分配颜色<br /></span><span style="color: #0000BB">$bg   </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$blue </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 填充背景<br /></span><span style="color: #0000BB">imagefilledrectangle</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">249</span><span style="color: #007700">, </span><span style="color: #0000BB">249</span><span style="color: #007700">, </span><span style="color: #0000BB">$bg</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 绘制多边形<br /></span><span style="color: #0000BB">imagefilledpolygon</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">$values</span><span style="color: #007700">, </span><span style="color: #0000BB">6</span><span style="color: #007700">, </span><span style="color: #0000BB">$blue</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// 输出图像<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type: image/png'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例的输出类似于：</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagefilledpolygon.png" alt="示例输出：imagefilledpolygon()" width="250" height="250" />
     </div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.imagefilledpolygon-seealso">
  <h3 class="title">参见</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="function.imagepolygon.html" class="function" rel="rdfs-seeAlso">imagepolygon()</a> - 绘制多边形</span></li>
  </ul>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122669""></a>
  <div class="note">
   <strong class="user">martin at eksperimentrum dot dk</strong>
   <a href="#122669" class="date">26-Apr-2018 03:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to draw a simple 6-sided star img where x,y is center of the star and s is the size:<br />
<br />
function drawStar($img, $x, $y, $s, $color) {<br />
&nbsp;&nbsp;&nbsp; $x=$x-$s/2;<br />
&nbsp;&nbsp;&nbsp; $y=$y-$s/4;<br />
&nbsp;&nbsp;&nbsp; $points=array($x,$y, $x+$s/2,$y+$s, $x+$s,$y);<br />
&nbsp;&nbsp;&nbsp; imagefilledpolygon($img, $points, 3, $color);<br />
&nbsp;&nbsp;&nbsp; $points=array($x,2/3*$s+$y, $x+$s/2,$y-$s/3, $x+$s,2/3*$s+$y);<br />
&nbsp;&nbsp;&nbsp; imagefilledpolygon($img, $points, 3, $color);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121457""></a>
  <div class="note">
   <strong class="user">Steween</strong>
   <a href="#121457" class="date">29-Jul-2017 09:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My version of drawStar (with examples)<br />
<br />
<span class="default">&lt;?php<br />
header </span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br />
<br />
</span><span class="comment">/* drawStar or regular polygon<br />
&nbsp;&nbsp;&nbsp; $x, $y&nbsp; -&gt; Position in the image<br />
&nbsp;&nbsp;&nbsp; $radius -&gt; Radius of the star<br />
&nbsp;&nbsp;&nbsp; $spikes -&gt; Number of spikes (min 2)<br />
&nbsp;&nbsp;&nbsp; $ratio&nbsp; -&gt; Ratio between outer and inner points<br />
&nbsp;&nbsp;&nbsp; $dir&nbsp; &nbsp; -&gt; Rotation 270° for having an up spike( with ratio&lt;1)<br />
*/<br />
</span><span class="keyword">function </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">, </span><span class="default">$ratio</span><span class="keyword">=</span><span class="default">0.5</span><span class="keyword">, </span><span class="default">$dir</span><span class="keyword">=</span><span class="default">270</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$coordinates </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$angle </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">/ </span><span class="default">$spikes </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$spikes</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$x </span><span class="keyword">+ (&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">$angle</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$y </span><span class="keyword">+ (&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">$angle</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$x </span><span class="keyword">+ (</span><span class="default">$ratio</span><span class="keyword">*</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">$angle</span><span class="keyword">*</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$y </span><span class="keyword">+ (</span><span class="default">$ratio</span><span class="keyword">*</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">$angle</span><span class="keyword">*</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$coordinates </span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// 14*20+24*2 = 328 Examples<br />
</span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">800</span><span class="keyword">,</span><span class="default">600</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$w </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br />
</span><span class="default">$r </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">0</span><span class="keyword">);<br />
for (</span><span class="default">$spikes</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">; </span><span class="default">$spikes</span><span class="keyword">&lt;</span><span class="default">16</span><span class="keyword">; </span><span class="default">$spikes</span><span class="keyword">++) { </span><span class="comment">//[2-15] <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$ratio</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$ratio</span><span class="keyword">&lt;</span><span class="default">21</span><span class="keyword">; </span><span class="default">$ratio</span><span class="keyword">++) { </span><span class="comment">//[0.1-2.0]<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$values </span><span class="keyword">= </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">40</span><span class="keyword">*</span><span class="default">$ratio</span><span class="keyword">-</span><span class="default">20</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">*</span><span class="default">40</span><span class="keyword">-</span><span class="default">60</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">, </span><span class="default">$ratio</span><span class="keyword">/</span><span class="default">10</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">, (</span><span class="default">$ratio </span><span class="keyword">% </span><span class="default">5 </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">$r </span><span class="keyword">: </span><span class="default">$w</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
for (</span><span class="default">$dir</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$dir</span><span class="keyword">&lt;</span><span class="default">24</span><span class="keyword">; </span><span class="default">$dir</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$values </span><span class="keyword">= </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">30</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">20</span><span class="keyword">, </span><span class="default">580</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">1.5</span><span class="keyword">, </span><span class="default">$dir</span><span class="keyword">*</span><span class="default">15</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$values </span><span class="keyword">= </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">30</span><span class="keyword">*</span><span class="default">$dir</span><span class="keyword">+</span><span class="default">20</span><span class="keyword">, </span><span class="default">580</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">0.2</span><span class="keyword">, </span><span class="default">$dir</span><span class="keyword">*</span><span class="default">15</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">);<br />
}<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116633""></a>
  <div class="note">
   <strong class="user">rbenheidorn at gmail dot com</strong>
   <a href="#116633" class="date">01-Feb-2015 09:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Discovered while working on printing geographical boundaries to an image: if you provide floating point vertices, then the decimal value is automatically truncated. This can cause images drawn with floating point vertices to shift slightly towards the top-left corner. My personal resolution is to round all of the vertices to their nearest whole values, which eliminates this shift.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93366""></a>
  <div class="note">
   <strong class="user">austinoblouk at yahoo dot com</strong>
   <a href="#93366" class="date">05-Sep-2009 08:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Actually the minimum it allows is 3. It says "Total number of vertices, which must be bigger than 3." but it allows 3...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78816""></a>
  <div class="note">
   <strong class="user">Arnapou</strong>
   <a href="#78816" class="date">29-Oct-2007 06:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I discovered that the GD imagefilledpolygon function is incorrect for some drawing with transparent color (for example red 50% : RGBA = 255, 0, 0, 64).<br />
<br />
I tried to draw a complex form with lots of points really near (1 pixel of distance) and a transparent red.<br />
<br />
The problem was : some border pixels were not drawn by the imagefilledpolygon but were drawn with imagepolygon !?!?<br />
<br />
So I wrote my own imagefilledpolygon function which work very well in all case I tested.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// $points should be an array of coordinates like that :<br />
</span><span class="default">$points </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">100</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">90</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">50</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">70</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="default">10</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">),<br />
);<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myimagefilledpolygon</span><span class="keyword">(&amp; </span><span class="default">$img</span><span class="keyword">, </span><span class="default">$points</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$scanline </span><span class="keyword">= </span><span class="default">99999</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// compute edges<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$all_edges </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$points</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$p1 </span><span class="keyword">= </span><span class="default">$points</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i </span><span class="keyword">== </span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">) { </span><span class="default">$p2 </span><span class="keyword">= </span><span class="default">$points</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; } else { </span><span class="default">$p2 </span><span class="keyword">= </span><span class="default">$points</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x1 </span><span class="keyword">= </span><span class="default">$p1</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; </span><span class="default">$y1 </span><span class="keyword">= </span><span class="default">$p1</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$p2</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$p2</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$y1 </span><span class="keyword">!= </span><span class="default">$y2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$invslope </span><span class="keyword">= (</span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$x1</span><span class="keyword">)/(</span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$y1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$y1 </span><span class="keyword">&lt; </span><span class="default">$y2 </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ymin </span><span class="keyword">= </span><span class="default">$y1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xval </span><span class="keyword">= </span><span class="default">$x1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ymax </span><span class="keyword">= </span><span class="default">$y2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ymin </span><span class="keyword">= </span><span class="default">$y2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$xval </span><span class="keyword">= </span><span class="default">$x2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ymax </span><span class="keyword">= </span><span class="default">$y1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$all_edges</span><span class="keyword">[] = array(</span><span class="default">$ymin</span><span class="keyword">, </span><span class="default">$ymax</span><span class="keyword">, </span><span class="default">$xval</span><span class="keyword">, </span><span class="default">$invslope</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ymin </span><span class="keyword">&lt; </span><span class="default">$scanline</span><span class="keyword">) { </span><span class="default">$scanline </span><span class="keyword">= </span><span class="default">$ymin</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$y1 </span><span class="keyword">&lt; </span><span class="default">$scanline</span><span class="keyword">) { </span><span class="default">$scanline </span><span class="keyword">= </span><span class="default">$y1</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$y2 </span><span class="keyword">&lt; </span><span class="default">$scanline</span><span class="keyword">) { </span><span class="default">$scanline </span><span class="keyword">= </span><span class="default">$y2</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// draw<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$active </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; do {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// add edges to active array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$all_edges</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$all_edges</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] == </span><span class="default">$scanline</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$active</span><span class="keyword">[] = </span><span class="default">$all_edges</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp</span><span class="keyword">[] = </span><span class="default">$all_edges</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$all_edges </span><span class="keyword">= </span><span class="default">$tmp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// remove previous edges from active array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] &gt; </span><span class="default">$scanline</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp</span><span class="keyword">[] = </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$active </span><span class="keyword">= </span><span class="default">$tmp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// sort active tab<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$min </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$k</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$active</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">] &lt; </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$min</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]) { </span><span class="default">$min </span><span class="keyword">= </span><span class="default">$k</span><span class="keyword">; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i </span><span class="keyword">!= </span><span class="default">$min</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$min</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$min</span><span class="keyword">] = </span><span class="default">$tmp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// draw<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1 </span><span class="keyword">&lt; </span><span class="default">$n</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$tmp</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">] == </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">round</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]), </span><span class="default">$scanline</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">round</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]), </span><span class="default">$scanline</span><span class="keyword">, </span><span class="default">round</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">]), </span><span class="default">$scanline</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// increment x values<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) { </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">2</span><span class="keyword">] += </span><span class="default">$active</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">3</span><span class="keyword">]; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$scanline</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; } while (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$all_edges</span><span class="keyword">) + </span><span class="default">count</span><span class="keyword">(</span><span class="default">$active</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78673""></a>
  <div class="note">
   <strong class="user">webmaster at mywebsolution dot de</strong>
   <a href="#78673" class="date">22-Oct-2007 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just thought that 'tatlar at yahoo dot com's function has some redundant code in it, so I tried to "improve" it. Now you can choose a variable number of spikes.<br />
<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
function </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">=</span><span class="default">5</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// $x, $y -&gt; Position in the image<br />
&nbsp;&nbsp;&nbsp; // $radius -&gt; Radius of the star<br />
&nbsp;&nbsp;&nbsp; // $spikes -&gt; Number of spikes<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$coordinates </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$angel </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">/ </span><span class="default">$spikes </span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Get the coordinates of the outer shape of the star<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$outer_shape </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$spikes</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$outer_shape</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">270 </span><span class="keyword">- </span><span class="default">$angel</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$outer_shape</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">+ (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">270 </span><span class="keyword">- </span><span class="default">$angel</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Get the coordinates of the inner shape of the star<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$inner_shape </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$spikes</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ (</span><span class="default">0.5</span><span class="keyword">*</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">270</span><span class="keyword">-</span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angel</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">+ (</span><span class="default">0.5</span><span class="keyword">*</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">270</span><span class="keyword">-</span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angel</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Bring the coordinates in the right order<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$inner_shape </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$key </span><span class="keyword">== (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$spikes</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inner_shape</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Reset the keys<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$inner_shape </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// "Merge" outer and inner shape<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$outer_shape </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$outer_shape</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$outer_shape</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$coordinates</span><span class="keyword">[] = </span><span class="default">$inner_shape</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Return the coordinates<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$coordinates </span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Example<br />
</span><span class="default">$spikes </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
<br />
</span><span class="default">$values </span><span class="keyword">= </span><span class="default">drawStar</span><span class="keyword">(</span><span class="default">250</span><span class="keyword">, </span><span class="default">250</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">);<br />
</span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">500</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">);<br />
</span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">$w </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br />
</span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">, </span><span class="default">$spikes</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">);<br />
</span><span class="default">imageGIF</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70440""></a>
  <div class="note">
   <strong class="user">jylyn at hotmail dot com</strong>
   <a href="#70440" class="date">16-Oct-2006 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In spite of what it says about requiring more than 3 vertices, it is possible to draw a triangle with this function!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69586""></a>
  <div class="note">
   <strong class="user">tatlar at yahoo dot com</strong>
   <a href="#69586" class="date">11-Sep-2006 05:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php </span><span class="keyword">function </span><span class="default">_makeFiveSidedStar</span><span class="keyword">( </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$shape</span><span class="keyword">=</span><span class="string">'polygon'</span><span class="keyword">, </span><span class="default">$spiky</span><span class="keyword">=</span><span class="default">NULL </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// $x, $y co-ords of origin (in pixels), $radius (in pixels), $shape - 'polygon' or 'star', $spikiness - ratio between 0 and 1<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point </span><span class="keyword">= array() ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$angle </span><span class="keyword">= </span><span class="default">360 </span><span class="keyword">/ </span><span class="default">5 </span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- </span><span class="default">$radius </span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- ( </span><span class="default">$angle</span><span class="keyword">*</span><span class="default">2 </span><span class="keyword">) ) ) ) ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">+ ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- ( </span><span class="default">$angle</span><span class="keyword">*</span><span class="default">2 </span><span class="keyword">) ) ) ) ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">- ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- ( </span><span class="default">$angle</span><span class="keyword">*</span><span class="default">2 </span><span class="keyword">) ) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">+ ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- ( </span><span class="default">$angle</span><span class="keyword">*</span><span class="default">2 </span><span class="keyword">) ) ) ) ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">- ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">$shape </span><span class="keyword">== </span><span class="string">'star' </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">$spiky </span><span class="keyword">== </span><span class="default">NULL </span><span class="keyword">) </span><span class="default">$spiky </span><span class="keyword">= </span><span class="default">0.5 </span><span class="keyword">;&nbsp; </span><span class="comment">// default to 0.5<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$indent </span><span class="keyword">= </span><span class="default">$radius </span><span class="keyword">* </span><span class="default">$spiky </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">+ ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">5</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">+ ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">7</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">180 </span><span class="keyword">- </span><span class="default">$angle </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">][</span><span class="string">'x'</span><span class="keyword">] = </span><span class="default">$x </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">) ) ) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$point</span><span class="keyword">[</span><span class="default">9</span><span class="keyword">][</span><span class="string">'y'</span><span class="keyword">] = </span><span class="default">$y </span><span class="keyword">- ( </span><span class="default">$indent </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">( </span><span class="default">90 </span><span class="keyword">- </span><span class="default">$angle</span><span class="keyword">/</span><span class="default">2 </span><span class="keyword">) ) ) ;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ksort</span><span class="keyword">( </span><span class="default">$point </span><span class="keyword">) ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$coords </span><span class="keyword">= array() ;&nbsp; </span><span class="comment">// new array&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach( </span><span class="default">$point </span><span class="keyword">as </span><span class="default">$pKey</span><span class="keyword">=&gt;</span><span class="default">$pVal </span><span class="keyword">) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$pVal </span><span class="keyword">) ) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$pVal </span><span class="keyword">as </span><span class="default">$pSubKey</span><span class="keyword">=&gt;</span><span class="default">$pSubVal </span><span class="keyword">) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( !empty( </span><span class="default">$pSubVal </span><span class="keyword">) ) </span><span class="default">array_push</span><span class="keyword">( </span><span class="default">$coords</span><span class="keyword">, </span><span class="default">$pSubVal </span><span class="keyword">) ;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$coords </span><span class="keyword">;<br />
}<br />
</span><span class="default">$values </span><span class="keyword">= </span><span class="default">_makeFiveSidedStar</span><span class="keyword">( </span><span class="default">100</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">, </span><span class="string">'star' </span><span class="keyword">) ;<br />
</span><span class="comment">// Put values into imagepolygon function. You need to define the $image and $color, and flush it out to an image type.</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60989""></a>
  <div class="note">
   <strong class="user">etnekor at tar dot hu</strong>
   <a href="#60989" class="date">22-Jan-2006 01:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a simple function to draw a filled point with a chosen radius and color.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">drawPoint</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$origo_x</span><span class="keyword">, </span><span class="default">$origo_y</span><span class="keyword">, </span><span class="default">$pointColor</span><span class="keyword">)<br />
{<br />
&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">360</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pont</span><span class="keyword">[] = </span><span class="default">$origo_x </span><span class="keyword">+ (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pont</span><span class="keyword">[] = </span><span class="default">$origo_y </span><span class="keyword">- (</span><span class="default">$radius </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)));<br />
&nbsp; }<br />
&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$pont</span><span class="keyword">);<br />
&nbsp; </span><span class="default">ImageFilledPolygon </span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$pont</span><span class="keyword">, (</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$pont</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">), </span><span class="default">$pointColor</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
