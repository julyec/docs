<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>外部函数接口</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.user-error.html">? user_error</a></li>
      <li style="float: right;"><a href="intro.ffi.html">简介 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="refs.basic.php.html">影响 PHP 行为的扩展</a></li>
    <li>外部函数接口</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="book.ffi" class="book">
 
 <h1 class="title">外部函数接口</h1>
 

 

 






 






 






 





 




 




 




 




<ul class="chunklist chunklist_book"><li><a href="intro.ffi.html">简介</a></li><li><a href="ffi.setup.html">安装/配置</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="ffi.requirements.html">需求</a></li><li><a href="ffi.installation.html">安装</a></li><li><a href="ffi.configuration.html">运行时配置</a></li><li><a href="ffi.resources.html">资源类型</a></li></ul></li><li><a href="ffi.constants.html">预定义常量</a></li><li><a href="ffi.examples.html">示例</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="ffi.examples-basic.html">基础 FFI 用法</a></li><li><a href="ffi.examples-callback.html">PHP 回调</a></li><li><a href="ffi.examples-complete.html">完整 PHP/FFI/preloading 示例</a></li></ul></li><li><a href="class.ffi.html">FFI</a> &mdash; C 代码和数据的主接口<ul class="chunklist chunklist_book chunklist_children"><li><a href="ffi.addr.html">FFI::addr</a> &mdash; Creates an unmanaged pointer to C data</li><li><a href="ffi.alignof.html">FFI::alignof</a> &mdash; Gets the alignment</li><li><a href="ffi.arraytype.html">FFI::arrayType</a> &mdash; Dynamically constructs a new C array type</li><li><a href="ffi.cast.html">FFI::cast</a> &mdash; Performs a C type cast</li><li><a href="ffi.cdef.html">FFI::cdef</a> &mdash; Creates a new FFI object</li><li><a href="ffi.free.html">FFI::free</a> &mdash; Releases an unmanaged data structure</li><li><a href="ffi.isnull.html">FFI::isNull</a> &mdash; Checks whether a FFI\CData is a null pointer</li><li><a href="ffi.load.html">FFI::load</a> &mdash; Loads C declarations from a C header file</li><li><a href="ffi.memcmp.html">FFI::memcmp</a> &mdash; Compares memory areas</li><li><a href="ffi.memcpy.html">FFI::memcpy</a> &mdash; Copies one memory area to another</li><li><a href="ffi.memset.html">FFI::memset</a> &mdash; Fills a memory area</li><li><a href="ffi.new.html">FFI::new</a> &mdash; Creates a C data structure</li><li><a href="ffi.scope.html">FFI::scope</a> &mdash; Instantiates an FFI object with C declarations parsed during preloading</li><li><a href="ffi.sizeof.html">FFI::sizeof</a> &mdash; Gets the size of C data or types</li><li><a href="ffi.string.html">FFI::string</a> &mdash; Creates a PHP string from a memory area</li><li><a href="ffi.type.html">FFI::type</a> &mdash; Creates an FFI\CType object from a C declaration</li><li><a href="ffi.typeof.html">FFI::typeof</a> &mdash; Gets the FFI\CType of FFI\CData</li></ul></li><li><a href="class.ffi-cdata.html">FFI\CData</a> &mdash; C Data Handles</li><li><a href="class.ffi-ctype.html">FFI\CType</a> &mdash; C Type Handles<ul class="chunklist chunklist_book chunklist_children"><li><a href="ffi-ctype.getalignment.html">FFI\CType::getAlignment</a> &mdash; Description</li><li><a href="ffi-ctype.getarrayelementtype.html">FFI\CType::getArrayElementType</a> &mdash; Description</li><li><a href="ffi-ctype.getarraylength.html">FFI\CType::getArrayLength</a> &mdash; Description</li><li><a href="ffi-ctype.getattributes.html">FFI\CType::getAttributes</a> &mdash; Description</li><li><a href="ffi-ctype.getenumkind.html">FFI\CType::getEnumKind</a> &mdash; Description</li><li><a href="ffi-ctype.getfuncabi.html">FFI\CType::getFuncABI</a> &mdash; Description</li><li><a href="ffi-ctype.getfuncparametercount.html">FFI\CType::getFuncParameterCount</a> &mdash; Description</li><li><a href="ffi-ctype.getfuncparametertype.html">FFI\CType::getFuncParameterType</a> &mdash; Description</li><li><a href="ffi-ctype.getfuncreturntype.html">FFI\CType::getFuncReturnType</a> &mdash; Description</li><li><a href="ffi-ctype.getkind.html">FFI\CType::getKind</a> &mdash; Description</li><li><a href="ffi-ctype.getname.html">FFI\CType::getName</a> &mdash; Description</li><li><a href="ffi-ctype.getpointertype.html">FFI\CType::getPointerType</a> &mdash; Description</li><li><a href="ffi-ctype.getsize.html">FFI\CType::getSize</a> &mdash; Description</li><li><a href="ffi-ctype.getstructfieldnames.html">FFI\CType::getStructFieldNames</a> &mdash; Description</li><li><a href="ffi-ctype.getstructfieldoffset.html">FFI\CType::getStructFieldOffset</a> &mdash; Description</li><li><a href="ffi-ctype.getstructfieldtype.html">FFI\CType::getStructFieldType</a> &mdash; Description</li></ul></li><li><a href="class.ffi-exception.html">FFI\Exception</a> &mdash; FFI Exceptions</li><li><a href="class.ffi-parserexception.html">FFI\ParserException</a> &mdash; FFI Parser Exceptions</li></ul></div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128554""></a>
  <div class="note">
   <strong class="user">Nathaniel Sabanski</strong>
   <a href="#128554" class="date">18-May-2023 10:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quickstart from Rasmus Lerdorf's 25 years of PHP talk. <br />
<br />
<span class="default">&lt;?php<br />
$ffi </span><span class="keyword">= </span><span class="default">FFI</span><span class="keyword">::</span><span class="default">cdef</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"int printf(const char *format, ...);"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"libc.so.6"</span><span class="keyword">);<br />
</span><span class="default">$ffi</span><span class="keyword">-&gt;</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"Hello %s!\n"</span><span class="keyword">, </span><span class="string">"world"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Requires ffi.enable=1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
