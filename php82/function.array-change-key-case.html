<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>将数组中的所有键名修改为全大写或小写</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ref.array.html">? 数组 函数</a></li>
      <li style="float: right;"><a href="function.array-chunk.html">array_chunk ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>将数组中的所有键名修改为全大写或小写</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array-change-key-case" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">array_change_key_case</h1>
    <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">array_change_key_case</span> &mdash; <span class="dc-title">将数组中的所有键名修改为全大写或小写</span></p>

   </div>
 <div class="refsect1 description" id="refsect1-function.array-change-key-case-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array_change_key_case</strong></span>(<span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$case</code><span class="initializer"> = <strong><code>CASE_LOWER</code></strong></span></span>): <span class="type">array</span></div>

    <p class="para rdfs-comment">
     <span class="function"><strong>array_change_key_case()</strong></span> 将 <code class="parameter">array</code>
     数组中的所有键名改为全小写或大写。本函数不改变数字索引。
    </p>
   </div>


 <div class="refsect1 parameters" id="refsect1-function.array-change-key-case-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       需要操作的数组。
      </p>
     </dd>

    

    
     <dt>
<code class="parameter">case</code></dt>

     <dd>

      <p class="para">
       可以在这里用两个常量，<strong><code>CASE_UPPER</code></strong> 或
     <strong><code>CASE_LOWER</code></strong>（默认值）。
      </p>
     </dd>

    

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-change-key-case-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
    返回一个键全是小写或者全是大写的数组；如果输入值（<code class="parameter">array</code>）不是一个数组，则返回 <strong><code>null</code></strong>。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-change-key-case-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 <span class="function"><strong>array_change_key_case()</strong></span>例一</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$input_array </span><span style="color: #007700">= array(</span><span style="color: #DD0000">"FirSt" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #DD0000">"SecOnd" </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">4</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">array_change_key_case</span><span style="color: #007700">(</span><span style="color: #0000BB">$input_array</span><span style="color: #007700">, </span><span style="color: #0000BB">CASE_UPPER</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [FIRST] =&gt; 1
    [SECOND] =&gt; 4
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.array-change-key-case-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    如果一个数组中的多个键名经过本函数后变成一样的话（例如
     &quot;<code class="literal">keY</code>&quot; 和 &quot;<code class="literal">kEY</code>&quot;），最后一个值将覆盖其它的值。
   </p>
  </p></blockquote>
 </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="127715""></a>
  <div class="note">
   <strong class="user">wendri dot net at gmail dot com</strong>
   <a href="#127715" class="date">12-Oct-2022 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array of partitions with always the same number of sub-array indexes.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">partitionFixedSubArray</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">, </span><span class="default">$empty_space</span><span class="keyword">)<br />
{&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= [];<br />
<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">array_chunk</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last_array_count </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$last_array_count </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$last_array_count</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)], </span><span class="default">$empty_space</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$employees </span><span class="keyword">= [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Paidi"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Paijo"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Darno"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Kusnan"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Mukidi"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Sarno"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Nurdin"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Parmen"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Sukinah"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Sartini"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Sukijan"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Yono"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"Supoyo"<br />
</span><span class="keyword">];<br />
<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">partitionFixedSubArray</span><span class="keyword">(</span><span class="default">$employees</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="string">"empty space"</span><span class="keyword">));<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Paidi<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Paijo<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Darno<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; Kusnan<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] =&gt; Mukidi<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Sarno<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Nurdin<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Parmen<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; Sukinah<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] =&gt; Sartini<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Sukijan<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; Yono<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [2] =&gt; Supoyo<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [3] =&gt; empty space<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [4] =&gt; empty space<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125663""></a>
  <div class="note">
   <strong class="user">msegit post pl</strong>
   <a href="#125663" class="date">08-Jan-2021 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Improved multidimensional unicode func (after qeremy):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_change_key_case_unicode_recurs</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$c </span><span class="keyword">= </span><span class="default">CASE_LOWER</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">mb_convert_case</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, ((</span><span class="default">$c </span><span class="keyword">=== </span><span class="default">CASE_LOWER</span><span class="keyword">) ? </span><span class="default">MB_CASE_LOWER </span><span class="keyword">: </span><span class="default">MB_CASE_UPPER</span><span class="keyword">), </span><span class="string">"UTF-8"</span><span class="keyword">)] = (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) ? </span><span class="default">array_change_key_case_unicode_recurs</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">) : </span><span class="default">$v </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">"FirSt" </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">"Za?ó?? g??l? ja?ń" </span><span class="keyword">=&gt; array(</span><span class="string">"ya?" </span><span class="keyword">=&gt; </span><span class="string">"Oil"</span><span class="keyword">, </span><span class="string">"?ekER" </span><span class="keyword">=&gt; </span><span class="string">"sugar"</span><span class="keyword">) );<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_UPPER</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_change_key_case_unicode_recurs</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_UPPER</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [FIRST] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [ZA?ó?? G??L? JA?ń] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [ya?] =&gt; Oil<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [?ekER] =&gt; sugar<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [FIRST] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [ZA?ó?? G??L? JA??] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [YA?] =&gt; Oil<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [?EKER] =&gt; sugar<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124285""></a>
  <div class="note">
   <strong class="user">zhangxuejiang</strong>
   <a href="#124285" class="date">10-Oct-2019 03:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I improve the array_change_key_case_recursive function ,let it can lowercase or uppercase keys<br />
<br />
function array_change_key_case_recursive($arr, $case = CASE_LOWER)<br />
{<br />
&nbsp;&nbsp;&nbsp; return array_map(function($item) use($case) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($item))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $item = array_change_key_case_recursive($item, $case);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $item;<br />
&nbsp;&nbsp;&nbsp; },array_change_key_case($arr, $case));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124192""></a>
  <div class="note">
   <strong class="user">shaman_master at list dot ru</strong>
   <a href="#124192" class="date">12-Sep-2019 10:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Convert keys in an array.<br />
&nbsp;* <br />
&nbsp;* @param array $array Source data<br />
&nbsp;* @param callable $callback Function name (strtolower, strtoupper, ucfirst, lcfirst, ucwords)<br />
&nbsp;* @return array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_convert_key_case</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">, callable </span><span class="default">$callback </span><span class="keyword">= </span><span class="string">'strtolower'</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_combine</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">$callback</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)),<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; );<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120085""></a>
  <div class="note">
   <strong class="user">ahmadz</strong>
   <a href="#120085" class="date">25-Oct-2016 05:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
function convert_to_key_case($data, $case){<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $condition = ($case == 'lowercase')? 'lowercase' : 'uppercase';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $test = [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($data as&nbsp; $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($condition == 'lowercase') {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $test[strtolower($key)] = $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $test[strtoupper($key)] = $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $test;<br />
}<br />
<br />
$input = ['test1'=&gt;1, 'Test2' =&gt; 2, 'TeSt3' =&gt; 3];<br />
<br />
print_r(convert_to_key_case($input, 'uppercase'));<br />
print_r(convert_to_key_case($input, 'lowercase'));<br />
<br />
OUTPUT<br />
<br />
Array <br />
(<br />
&nbsp;[TEST1] =&gt; 1<br />
&nbsp;[TEST2] =&gt; 2 <br />
&nbsp;[TEST3] =&gt; 3 <br />
)<br />
<br />
Array ( <br />
&nbsp;[test1] =&gt; 1<br />
&nbsp;[test2] =&gt; 2<br />
&nbsp;[test3] =&gt; 3<br />
&nbsp;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118814""></a>
  <div class="note">
   <strong class="user">oulala at yandex dot com</strong>
   <a href="#118814" class="date">10-Feb-2016 02:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Recursive LowerCase First Letter in array key<br />
<br />
if(!function_exists("mb_lcfirstKeys")) {<br />
&nbsp;&nbsp;&nbsp; function mb_lcfirstKeys($data) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $res = [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($data as $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $newKey = mb_lcfirst($key);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $res[$newKey] = is_array($value) ? mb_lcfirstKeys($value) : $value;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $res;<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114914""></a>
  <div class="note">
   <strong class="user">xsaero00</strong>
   <a href="#114914" class="date">25-Apr-2014 05:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is the most compact way to lower case keys in a multidimensional array<br />
<br />
function array_change_key_case_recursive($arr)<br />
{<br />
&nbsp;&nbsp;&nbsp; return array_map(function($item){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_array($item))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $item = array_change_key_case_recursive($item);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $item;<br />
&nbsp;&nbsp;&nbsp; },array_change_key_case($arr));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110126""></a>
  <div class="note">
   <strong class="user">NetPanther</strong>
   <a href="#110126" class="date">22-Sep-2012 01:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use this to capitalize first letter of all array keys:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">ucfirstKeys</span><span class="keyword">(&amp;</span><span class="default">$data</span><span class="keyword">)<br />
{<br />
&nbsp; foreach (</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Convert key<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newKey </span><span class="keyword">= </span><span class="default">ucfirst</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Change key if needed<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$newKey </span><span class="keyword">!= </span><span class="default">$key</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; unset(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="default">$newKey</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Handle nested arrays<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">ucfirstKeys</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= array(</span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'moreFoo' </span><span class="keyword">=&gt; array(</span><span class="string">'more' </span><span class="keyword">=&gt; </span><span class="string">'foo'</span><span class="keyword">));<br />
</span><span class="default">ucfirstKeys</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Result:<br />
Array ( [MoreFoo] =&gt; Array ( [More] =&gt; foo ) [Foo] =&gt; bar )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107715""></a>
  <div class="note">
   <strong class="user">qeremy [atta] gmail [dotta] com</strong>
   <a href="#107715" class="date">28-Feb-2012 05:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Unicode example;<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_change_key_case_unicode</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$c </span><span class="keyword">= </span><span class="default">CASE_LOWER</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= (</span><span class="default">$c </span><span class="keyword">== </span><span class="default">CASE_LOWER</span><span class="keyword">) ? </span><span class="default">MB_CASE_LOWER </span><span class="keyword">: </span><span class="default">MB_CASE_UPPER</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">mb_convert_case</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="string">"UTF-8"</span><span class="keyword">)] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$ret</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">"FirSt" </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">"ya?" </span><span class="keyword">=&gt; </span><span class="string">"Oil"</span><span class="keyword">, </span><span class="string">"?ekER" </span><span class="keyword">=&gt; </span><span class="string">"sugar"</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_UPPER</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_change_key_case_unicode</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_UPPER</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [FIRST] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [YA?] =&gt; Oil<br />
&nbsp;&nbsp;&nbsp; [?EKER] =&gt; sugar<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [FIRST] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [YA?] =&gt; Oil<br />
&nbsp;&nbsp;&nbsp; [?EKER] =&gt; sugar<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106233""></a>
  <div class="note">
   <strong class="user">JOE</strong>
   <a href="#106233" class="date">19-Oct-2011 11:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Script to change case of sub-arrays keys to lower . It works well for me. hope it helps.<br />
<br />
<span class="default">&lt;?php<br />
$array</span><span class="keyword">=array(</span><span class="string">"First"</span><span class="keyword">=&gt;</span><span class="string">"val1"</span><span class="keyword">,</span><span class="string">"SecoNd"</span><span class="keyword">=&gt;</span><span class="string">"val2"</span><span class="keyword">,<br />
</span><span class="string">"third"</span><span class="keyword">=&gt;array(</span><span class="string">"third-INner1"</span><span class="keyword">=&gt;</span><span class="string">"val3.1"</span><span class="keyword">),<br />
</span><span class="string">"fourth"</span><span class="keyword">=&gt;array(</span><span class="string">"FouthINNer1"</span><span class="keyword">=&gt;</span><span class="string">"val4.1"</span><span class="keyword">,</span><span class="string">"FourthINNER2"</span><span class="keyword">=&gt;</span><span class="string">"val4.2"</span><span class="keyword">));<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">$key</span><span class="keyword">=</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
foreach(</span><span class="default">$key </span><span class="keyword">as </span><span class="default">$ki</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$klower</span><span class="keyword">=</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$ki</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">=</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$ki</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$val </span><span class="keyword">as </span><span class="default">$kinner</span><span class="keyword">=&gt;</span><span class="default">$vinner</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tl</span><span class="keyword">=</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$kinner</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$val</span><span class="keyword">[</span><span class="default">$kinner</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val</span><span class="keyword">[</span><span class="default">$tl</span><span class="keyword">]=</span><span class="default">$vinner</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$ki</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$klower</span><span class="keyword">]=</span><span class="default">$val</span><span class="keyword">; <br />
}<br />
echo </span><span class="string">"&lt;br&gt; After Changing Key to-LowerCase : &lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100095""></a>
  <div class="note">
   <strong class="user">Lus Henrique Pessoa</strong>
   <a href="#100095" class="date">24-Sep-2010 09:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// improving the previous script<br />
</span><span class="keyword">function </span><span class="default">ack_r3</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">=</span><span class="default">CASE_LOWER</span><span class="keyword">, </span><span class="default">$flag_rec</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( </span><span class="default">$flag_rec </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ack_r3</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$case</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="comment">// same of array_change_key_case<br />
</span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">'ID' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'NAME'</span><span class="keyword">=&gt; </span><span class="string">'Luis'</span><span class="keyword">, </span><span class="string">'Contact' </span><span class="keyword">=&gt; array(</span><span class="string">'PHONE' </span><span class="keyword">=&gt; </span><span class="string">'3010-7148'</span><span class="keyword">, </span><span class="string">'E-MAIL' </span><span class="keyword">=&gt; </span><span class="string">'luis@net.com'</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ack_r3</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_LOWER</span><span class="keyword">,</span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">'ID' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'NAME'</span><span class="keyword">=&gt; </span><span class="string">'Luis'</span><span class="keyword">, </span><span class="string">'Contact' </span><span class="keyword">=&gt; array(</span><span class="string">'PHONE' </span><span class="keyword">=&gt; </span><span class="string">'3010-7148'</span><span class="keyword">, </span><span class="string">'E-MAIL' </span><span class="keyword">=&gt; </span><span class="string">'luis@net.com'</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ack_r3</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">CASE_LOWER</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
outputs:<br />
<br />
array(3) {<br />
&nbsp; ["id"]=&gt;<br />
&nbsp; int(1)<br />
&nbsp; ["name"]=&gt;<br />
&nbsp; string(4) "Luis"<br />
&nbsp; ["contact"]=&gt;<br />
&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; ["PHONE"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(9) "3010-7148"<br />
&nbsp;&nbsp;&nbsp; ["E-MAIL"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(12) "luis@net.com"<br />
&nbsp; }<br />
}<br />
array(3) {<br />
&nbsp; ["id"]=&gt;<br />
&nbsp; int(1)<br />
&nbsp; ["name"]=&gt;<br />
&nbsp; string(4) "Luis"<br />
&nbsp; ["contact"]=&gt;<br />
&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; ["phone"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(9) "3010-7148"<br />
&nbsp;&nbsp;&nbsp; ["e-mail"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(12) "luis@net.com"<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100077""></a>
  <div class="note">
   <strong class="user">Luis Henrique Pessoa</strong>
   <a href="#100077" class="date">23-Sep-2010 09:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Script to change case of sub-arrays keys:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">arrKey2Lower</span><span class="keyword">(&amp;</span><span class="default">$arrVals</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$arrVals </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key2 </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$key2 </span><span class="keyword">!= </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$arrVals</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arrVals</span><span class="keyword">[</span><span class="default">$key2</span><span class="keyword">]=</span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key</span><span class="keyword">=</span><span class="default">$key2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">) ) { </span><span class="default">arrKey2Lower</span><span class="keyword">(</span><span class="default">$arrValores</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]); }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array(</span><span class="string">'ID' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'NAME'</span><span class="keyword">=&gt; </span><span class="string">'Luis'</span><span class="keyword">, </span><span class="string">'Contact' </span><span class="keyword">=&gt; array(</span><span class="string">'PHONE' </span><span class="keyword">=&gt; </span><span class="string">'3010-7148'</span><span class="keyword">, </span><span class="string">'E-MAIL' </span><span class="keyword">=&gt; </span><span class="string">'luis@net.com'</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">arrKey2Lower</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
outputs:<br />
<br />
array(3) {<br />
&nbsp; ["id"]=&gt;<br />
&nbsp; int(1)<br />
&nbsp; ["name"]=&gt;<br />
&nbsp; string(4) "Luis"<br />
&nbsp; ["contact"]=&gt;<br />
&nbsp; array(2) {<br />
&nbsp;&nbsp;&nbsp; ["phone"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(9) "3010-7148"<br />
&nbsp;&nbsp;&nbsp; ["e-mail"]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(12) "luis@net.com"<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94856""></a>
  <div class="note">
   <strong class="user">info at microweb dot lt</strong>
   <a href="#94856" class="date">29-Nov-2009 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple function to change multidimensional array's all values to uppercase. If you would like to change to lowercase then change "mb_strtoupper" to&nbsp; "mb_strtolower". It works perfect for me ;)
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">change_case_recursive</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">){
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$val</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">mb_strtoupper</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">change_case_recursive</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;&nbsp; &nbsp; 
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88648""></a>
  <div class="note">
   <strong class="user">david at ramaboo dot com</strong>
   <a href="#88648" class="date">02-Feb-2009 03:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Same as array_change_key_case only with the values. This should really be part of PHP!
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">/**
<br />
&nbsp;* @brief Returns an array with all values lowercased or uppercased.
<br />
&nbsp;* @return array Returns an array with all values lowercased or uppercased.
<br />
&nbsp;* @param object $input The array to work on 
<br />
&nbsp;* @param int $case [optional] Either \c CASE_UPPER or \c CASE_LOWER (default).
<br />
&nbsp;*/
<br />
</span><span class="keyword">function </span><span class="default">array_change_value_case</span><span class="keyword">(array </span><span class="default">$input</span><span class="keyword">, </span><span class="default">$case </span><span class="keyword">= </span><span class="default">CASE_LOWER</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; switch (</span><span class="default">$case</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">CASE_LOWER</span><span class="keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtolower'</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">CASE_UPPER</span><span class="keyword">:
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'strtoupper'</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Case is not valid, CASE_LOWER or CASE_UPPER only'</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
}
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88152""></a>
  <div class="note">
   <strong class="user">charles</strong>
   <a href="#88152" class="date">12-Jan-2009 11:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
$input_array </span><span class="keyword">= array(</span><span class="string">"FirSt" </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">"SecOnd" </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$input_array</span><span class="keyword">, </span><span class="default">CASE_UPPER</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87367""></a>
  <div class="note">
   <strong class="user">anon at ymous dot com</strong>
   <a href="#87367" class="date">02-Dec-2008 03:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Below is a recursive version of this function.
<br />

<br />
<span class="default">&lt;?php
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**
<br />
&nbsp;&nbsp; &nbsp; * A recursive array_change_key_case function.
<br />
&nbsp;&nbsp; &nbsp; * @param array $input
<br />
&nbsp;&nbsp; &nbsp; * @param integer $case
<br />
&nbsp;&nbsp; &nbsp; */
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_change_key_case_recursive</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$case </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Invalid input array '</span><span class="keyword">{</span><span class="default">$array</span><span class="keyword">}</span><span class="string">'"</span><span class="keyword">,</span><span class="default">E_USER_NOTICE</span><span class="keyword">); exit;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// CASE_UPPER|CASE_LOWER
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">null </span><span class="keyword">=== </span><span class="default">$case</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$case </span><span class="keyword">= </span><span class="default">CASE_LOWER</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$case</span><span class="keyword">, array(</span><span class="default">CASE_UPPER</span><span class="keyword">, </span><span class="default">CASE_LOWER</span><span class="keyword">))){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"Case parameter '</span><span class="keyword">{</span><span class="default">$case</span><span class="keyword">}</span><span class="string">' is invalid."</span><span class="keyword">, </span><span class="default">E_USER_NOTICE</span><span class="keyword">); exit;
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">array_change_key_case</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$input </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$array</span><span class="keyword">){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)){
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$input</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_change_key_case_recursive</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">);
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$input</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; }
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82522""></a>
  <div class="note">
   <strong class="user">andreas dot schuhmacher87 at googlemail dot com</strong>
   <a href="#82522" class="date">14-Apr-2008 06:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
multibyte and multi-dimensional-array support, have fun!<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; define</span><span class="keyword">(</span><span class="string">'ARRAY_KEY_FC_LOWERCASE'</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">); </span><span class="comment">//FOO =&gt; fOO<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'ARRAY_KEY_FC_UPPERCASE'</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">); </span><span class="comment">//foo =&gt; Foo<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'ARRAY_KEY_UPPERCASE'</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">); </span><span class="comment">//foo =&gt; FOO<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'ARRAY_KEY_LOWERCASE'</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">); </span><span class="comment">//FOO =&gt; foo<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">define</span><span class="keyword">(</span><span class="string">'ARRAY_KEY_USE_MULTIBYTE'</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">); </span><span class="comment">//use mutlibyte functions<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; /**<br />
&nbsp;&nbsp;&nbsp; * change the case of array-keys<br />
&nbsp;&nbsp;&nbsp; *<br />
&nbsp;&nbsp;&nbsp; * use: array_change_key_case_ext(array('foo' =&gt; 1, 'bar' =&gt; 2), ARRAY_KEY_UPPERCASE);<br />
&nbsp;&nbsp;&nbsp; * result: array('FOO' =&gt; 1, 'BAR' =&gt; 2)<br />
&nbsp;&nbsp;&nbsp; *<br />
&nbsp;&nbsp;&nbsp; * @param&nbsp; &nbsp; array<br />
&nbsp;&nbsp;&nbsp; * @param&nbsp; &nbsp; int<br />
&nbsp;&nbsp;&nbsp; * @return&nbsp; &nbsp;&nbsp; array<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_change_key_case_ext</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$case </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">, </span><span class="default">$useMB </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$mbEnc </span><span class="keyword">= </span><span class="string">'UTF-8'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//for more speed define the runtime created functions in the global namespace<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //get function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">$useMB </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="string">'strToUpper'</span><span class="keyword">; </span><span class="comment">//default<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">switch(</span><span class="default">$case</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//first-char-to-lowercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">25</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//maybee lcfirst is not callable<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'lcfirst'</span><span class="keyword">)) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$input'</span><span class="keyword">, </span><span class="string">'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return strToLower($input[0]) . substr($input, 1, (strLen($input) - 1));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$function </span><span class="keyword">= </span><span class="string">'lcfirst'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//first-char-to-uppercase&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">20</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="string">'ucfirst'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//lowercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">10</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="string">'strToLower'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//create functions for multibyte support<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">switch(</span><span class="default">$case</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//first-char-to-lowercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">25</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$input'</span><span class="keyword">, </span><span class="string">'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return mb_strToLower(mb_substr($input, 0, 1, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\')) . <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mb_substr($input, 1, (mb_strlen($input, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\') - 1), \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//first-char-to-uppercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">20</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$input'</span><span class="keyword">, </span><span class="string">'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return mb_strToUpper(mb_substr($input, 0, 1, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\')) . <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mb_substr($input, 1, (mb_strlen($input, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\') - 1), \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//uppercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">case </span><span class="default">15</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$input'</span><span class="keyword">, </span><span class="string">'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return mb_strToUpper($input, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//lowercase<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">default: </span><span class="comment">//case 10:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$function </span><span class="keyword">= </span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$input'</span><span class="keyword">, </span><span class="string">'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return mb_strToLower($input, \'' </span><span class="keyword">. </span><span class="default">$mbEnc </span><span class="keyword">. </span><span class="string">'\');<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; '</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//loop array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) </span><span class="comment">//$value is an array, handle keys too<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray</span><span class="keyword">[</span><span class="default">$function</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)] = </span><span class="default">array_change_key_case_ex</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">, </span><span class="default">$useMB</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newArray</span><span class="keyword">[</span><span class="default">$function</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$newArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">//$key is not a string<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">//end loop<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$newArray</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78056""></a>
  <div class="note">
   <strong class="user">john at doe dot com</strong>
   <a href="#78056" class="date">26-Sep-2007 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_change_value_case</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$case </span><span class="keyword">= </span><span class="default">CASE_LOWER</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aRet </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$aRet</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$input </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRet</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_change_value_case</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$case</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$aRet</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = (</span><span class="default">$case </span><span class="keyword">== </span><span class="default">CASE_UPPER </span><span class="keyword">? </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) : </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$aRet</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77016""></a>
  <div class="note">
   <strong class="user">cm at gameswelt dot de</strong>
   <a href="#77016" class="date">10-Aug-2007 04:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I just changed the code a little bit so you havent got a code that repeats itself.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">array_change_key_case_secure</span><span class="keyword">(</span><span class="default">$array </span><span class="keyword">= array(), </span><span class="default">$case </span><span class="keyword">= </span><span class="default">CASE_UPPER</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$secure </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$functionWrap </span><span class="keyword">= array(</span><span class="default">CASE_UPPER </span><span class="keyword">=&gt; </span><span class="string">'strtoupper'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">CASE_LOWER </span><span class="keyword">=&gt; </span><span class="string">'strtolower'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$functionWrap</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">$functionWrap</span><span class="keyword">[</span><span class="default">$case</span><span class="keyword">](</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$secure</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="string">'Not a known Type'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$secure </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$secure</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) == </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$secure</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$secure</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$myArray </span><span class="keyword">= array(</span><span class="string">'A' </span><span class="keyword">=&gt; </span><span class="string">'Hello'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'B' </span><span class="keyword">=&gt; </span><span class="string">'World'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'how are you?'</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
</span><span class="default">$myArray </span><span class="keyword">= </span><span class="default">array_change_key_case_secure</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
<br />
</span><span class="comment">/*<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [A] =&gt; Hello<br />
&nbsp;&nbsp;&nbsp; [B] =&gt; World<br />
&nbsp;&nbsp;&nbsp; [a] =&gt; how are you?<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [A] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; Hello<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; how are you?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp;&nbsp; [B] =&gt; World<br />
)<br />
*/</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
