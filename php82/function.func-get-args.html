<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>返回一个包含函数参数列表的数组</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.func-get-arg.html">? func_get_arg</a></li>
      <li style="float: right;"><a href="function.func-num-args.html">func_num_args ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.funchand.html">函数处理 函数</a></li>
    <li>返回一个包含函数参数列表的数组</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.func-get-args" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">func_get_args</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">func_get_args</span> &mdash; <span class="dc-title">返回一个包含函数参数列表的数组</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.func-get-args-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>func_get_args</strong></span>(): <span class="type">array</span></div>

  <p class="para rdfs-comment">
   获取函数参数列表的数组。
  </p>
  <p class="para">
   该函数可以配合
   <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span> 和 <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>
   一起使用，从而使得用户自定义函数可以接受自定义个数的参数列表。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.func-get-args-parameters">
  <h3 class="title">参数</h3>
  <p class="para">此函数没有参数。</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.func-get-args-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回一个数组，其中每个元素都是目前用户自定义函数的参数列表的相应元素的副本。
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.func-get-args-errors">
  <h3 class="title">错误／异常</h3>
  <p class="para">
   在用户自定义函数外调用则会出现错误警告。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.func-get-args-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 <span class="function"><strong>func_get_args()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />{<br />    </span><span style="color: #0000BB">$numargs </span><span style="color: #007700">= </span><span style="color: #0000BB">func_num_args</span><span style="color: #007700">();<br />    echo </span><span style="color: #DD0000">"Number of arguments: </span><span style="color: #0000BB">$numargs</span><span style="color: #DD0000"> \n"</span><span style="color: #007700">;<br />    if (</span><span style="color: #0000BB">$numargs </span><span style="color: #007700">&gt;= </span><span style="color: #0000BB">2</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"Second argument is: " </span><span style="color: #007700">. </span><span style="color: #0000BB">func_get_arg</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">) . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />    </span><span style="color: #0000BB">$arg_list </span><span style="color: #007700">= </span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">();<br />    for (</span><span style="color: #0000BB">$i </span><span style="color: #007700">= </span><span style="color: #0000BB">0</span><span style="color: #007700">; </span><span style="color: #0000BB">$i </span><span style="color: #007700">&lt; </span><span style="color: #0000BB">$numargs</span><span style="color: #007700">; </span><span style="color: #0000BB">$i</span><span style="color: #007700">++) {<br />        echo </span><span style="color: #DD0000">"Argument </span><span style="color: #0000BB">$i</span><span style="color: #DD0000"> is: " </span><span style="color: #007700">. </span><span style="color: #0000BB">$arg_list</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">] . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Number of arguments: 3 
Second argument is: 2
Argument 0 is: 1
Argument 1 is: 2
Argument 2 is: 3
</pre></div>
    </div>
   </div>
  </p>

  <p class="para">
   <div class="example" id="">
    <p><strong>Example #2 byRef 和 byVal 参数的 <span class="function"><strong>func_get_args()</strong></span> 示例</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">byVal</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'As passed     : '</span><span style="color: #007700">, </span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">()), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />    </span><span style="color: #0000BB">$arg </span><span style="color: #007700">= </span><span style="color: #DD0000">'baz'</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">'After change  : '</span><span style="color: #007700">, </span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">()), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br />function </span><span style="color: #0000BB">byRef</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$arg</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'As passed     : '</span><span style="color: #007700">, </span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">()), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />    </span><span style="color: #0000BB">$arg </span><span style="color: #007700">= </span><span style="color: #DD0000">'baz'</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">'After change  : '</span><span style="color: #007700">, </span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">func_get_args</span><span style="color: #007700">()), </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$arg </span><span style="color: #007700">= </span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">byVal</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">byRef</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>以上示例会输出：</p></div>
    <div class="example-contents screen"><br />
As passed     : array (<br />
  0 =&gt; &#039;bar&#039;,<br />
)<br />
After change  : array (<br />
  0 =&gt; &#039;baz&#039;,<br />
)<br />
As passed     : array (<br />
  0 =&gt; &#039;bar&#039;,<br />
)<br />
After change  : array (<br />
  0 =&gt; &#039;baz&#039;,<br />
)<br />
    </div>
   </div>
  </p>

 </div>


 <div class="refsect1 notes" id="refsect1-function.func-get-args-notes">
  <h3 class="title">注释</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">As of PHP 8.0.0, the func_*() family of
functions is intended to be mostly transparent with regard to named arguments,
by treating the arguments as if they were all passed positionally,
and missing arguments are replaced with their defaults.
This function ignores the collection of unknown named variadic arguments.
Unknown named arguments which are collected can only be accessed through the variadic parameter.</p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <p class="para">如果参数以引用方式传递，函数对该参数的任何改变将在函数返回后保留。As of PHP 7
the current values will also be returned if the arguments are passed by value.</p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    该函数仅仅是返回传递参数的一个副本，并且不包含没有传入的默认参数。
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.func-get-args-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="functions.arguments.html#functions.variable-arg-list" class="link"><code class="literal">...</code> 语法</a></li>
    <li class="member"><span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span></li>
    <li class="member"><span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span></li>
    <li class="member"><span class="methodname"><a href="reflectionfunctionabstract.getparameters.html" class="methodname">ReflectionFunctionAbstract::getParameters()</a></span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128342""></a>
  <div class="note">
   <strong class="user">art at geigel dot com</strong>
   <a href="#128342" class="date">28-Mar-2023 03:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The size of the array resulting from func_get_args(), for instance using count(), does not take into account parameters that have been assigned default values in the function definition.<br />
<br />
Example:<br />
<br />
function foo($bar=true) {<br />
&nbsp;&nbsp; &nbsp; echo count(func_get_args());<br />
}<br />
<br />
foo(); <br />
// echoes 0<br />
<br />
foo("bar"); <br />
// echoes 1<br />
<br />
A useful condition to test for when a function needs to return default behavior (whatever that might be) when no value is present and the value of $bar could be true, false, null, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124416""></a>
  <div class="note">
   <strong class="user">cobrattila at gmail dot com</strong>
   <a href="#124416" class="date">20-Nov-2019 04:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to get the arguments by reference, instead of func_get_args() you can simply use<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">args_byref</span><span class="keyword">(&amp;...</span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Modify the $args array here<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
Credits should go to Markus Malkusch for pointing this out on Stackoverflow.<br />
https://stackoverflow.com/a/29181826/1426064</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119021""></a>
  <div class="note">
   <strong class="user">foxkeys at gmail dot com</strong>
   <a href="#119021" class="date">17-Mar-2016 06:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Merge func_get_args() with function defaults<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">utils </span><span class="keyword">{<br />
&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; * @param mixed[] $args<br />
&nbsp;&nbsp; * @param ReflectionMethod $reflectionMethod<br />
&nbsp;&nbsp; *<br />
&nbsp;&nbsp; * @return array<br />
&nbsp;&nbsp; */<br />
&nbsp; </span><span class="keyword">public static function </span><span class="default">mergeArgsWithDefaults</span><span class="keyword">( </span><span class="default">$args</span><span class="keyword">, </span><span class="default">\ReflectionMethod $reflectionMethod </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; foreach ( </span><span class="default">array_slice</span><span class="keyword">( </span><span class="default">$reflectionMethod</span><span class="keyword">-&gt;</span><span class="default">getParameters</span><span class="keyword">(), </span><span class="default">count</span><span class="keyword">( </span><span class="default">$args </span><span class="keyword">) ) as </span><span class="default">$param </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; &nbsp; * @var ReflectionParameter $param<br />
&nbsp;&nbsp; &nbsp; &nbsp; */<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="default">$param</span><span class="keyword">-&gt;</span><span class="default">getDefaultValue</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$args</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
class&nbsp; </span><span class="default">sampleParent </span><span class="keyword">{<br />
&nbsp; const </span><span class="default">USER_FILE_TYPE_FILE </span><span class="keyword">= </span><span class="string">'FILE'</span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">select</span><span class="keyword">( </span><span class="default">$idUserFile </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$idUserFileType </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">USER_FILE_TYPE_FILE </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'[$idUserFile=&gt;' </span><span class="keyword">. </span><span class="default">$idUserFile </span><span class="keyword">. </span><span class="string">', $idUserFileType=&gt;' </span><span class="keyword">. </span><span class="default">$idUserFileType</span><span class="keyword">, </span><span class="string">']&lt;br/&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
class </span><span class="default">sample </span><span class="keyword">extends </span><span class="default">sampleParent </span><span class="keyword">{<br />
&nbsp; const </span><span class="default">USER_FILE_TYPE_IMG </span><span class="keyword">= </span><span class="string">'IMG'</span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">select</span><span class="keyword">( </span><span class="default">$idUserFile </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$idUserFileType </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">USER_FILE_TYPE_IMG </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">( </span><span class="string">'parent::select'</span><span class="keyword">, </span><span class="default">\utils</span><span class="keyword">::</span><span class="default">mergeArgsWithDefaults</span><span class="keyword">( </span><span class="default">func_get_args</span><span class="keyword">(), new </span><span class="default">ReflectionMethod</span><span class="keyword">( </span><span class="default">__CLASS__</span><span class="keyword">, </span><span class="default">__FUNCTION__ </span><span class="keyword">) ) );<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$sample1 </span><span class="keyword">= new </span><span class="default">sampleParent</span><span class="keyword">();<br />
</span><span class="default">$sample1</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">();</span><span class="comment">//Prints "" / self::USER_FILE_TYPE_FILE<br />
</span><span class="default">$sample1</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);</span><span class="comment">//Prints 1 / self::USER_FILE_TYPE_FILE<br />
</span><span class="default">$sample1</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="string">'test 1'</span><span class="keyword">);</span><span class="comment">//Prints 2 / "test 1"<br />
</span><span class="keyword">echo </span><span class="string">'&lt;br/&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
</span><span class="default">$sample2 </span><span class="keyword">= new </span><span class="default">sample</span><span class="keyword">();<br />
</span><span class="default">$sample2</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">();</span><span class="comment">//Prints "" / self::USER_FILE_TYPE_IMG<br />
</span><span class="default">$sample2</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">);</span><span class="comment">//Prints 3 / self::USER_FILE_TYPE_IMG<br />
</span><span class="default">$sample2</span><span class="keyword">-&gt;</span><span class="default">select</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">, </span><span class="string">'test 2'</span><span class="keyword">);</span><span class="comment">//Prints 4 / "test 2"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110030""></a>
  <div class="note">
   <strong class="user">maarten at ba dot be</strong>
   <a href="#110030" class="date">13-Sep-2012 11:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
it seems that this function only returns a copy and loses it's byref information, use this dirty non-efficient workaround instead:<br />
<br />
at the moment of writing it currently returns all of them as references, instead of only the ones who are passed that way...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">func_get_args_byref</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$trace </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$trace</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'args'</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="107040""></a>
  <div class="note">
   <strong class="user">OpenTechnologist</strong>
   <a href="#107040" class="date">30-Dec-2011 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
please note that optional parameters are not seen/passed by func_get_args(), as well as func_get_arg().
<br />

<br />
ex:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">testfunc</span><span class="keyword">(</span><span class="default">$optional </span><span class="keyword">= </span><span class="string">'this argument is optional..'</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$optional</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
test case #1:
<br />
testfunc('argument no longer optional..');
<br />

<br />
result for #1:
<br />
array(1) {
<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;&nbsp; string(20) "argument no longer optional.."
<br />
}
<br />
argument no longer optional..
<br />

<br />
test case #2:
<br />
testfunc('argument no longer optional..','this is an extra argument');
<br />

<br />
result for #2:
<br />
array(2) {
<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;&nbsp; string(29) "argument no longer optional.."
<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;&nbsp; string(25) "this is an extra argument"
<br />
}
<br />
argument no longer optional..
<br />

<br />
test case #3: -- RESULTS IN AN EMPTY ARRAY
<br />
testfunc();
<br />

<br />
result for #3:
<br />
array(0) {
<br />
}
<br />
this argument is optional..</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90095""></a>
  <div class="note">
   <strong class="user">mitko at edabg dot com</strong>
   <a href="#90095" class="date">06-Apr-2009 03:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
This example demonstrate how to use unknown variable arguments by reference.<br />
func_get_args() don't return arguments by reference, but <br />
debug_backtrace() "args" is by reference.<br />
In PHP 5 this have no particular sense, because calling with arguments by reference<br />
is depreciated and produce warning.<br />
*/<br />
<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$bar </span><span class="keyword">= </span><span class="string">"default bar"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">foo</span><span class="keyword">(</span><span class="comment">/*variable arguments*/</span><span class="keyword">) {<br />
</span><span class="comment">// func_get_args returns copy of arguments<br />
//&nbsp; &nbsp; &nbsp; &nbsp; $args = func_get_args();<br />
// debug_backtrace returns arguments by reference&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stack </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$stack</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"args"</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"args"</span><span class="keyword">]); </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = &amp; </span><span class="default">$stack</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">"args"</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="string">'bar'</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">bar</span><span class="keyword">(</span><span class="default">$bar </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$bar</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= &amp; </span><span class="default">$bar</span><span class="keyword">; <br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$global_bar </span><span class="keyword">= </span><span class="string">"bar global"</span><span class="keyword">;<br />
</span><span class="default">$foo </span><span class="keyword">= &amp; new </span><span class="default">foo</span><span class="keyword">();<br />
echo </span><span class="string">"foo-&gt;bar:&nbsp; &nbsp; "</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">.</span><span class="string">"&lt;/br&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="string">"new bar"</span><span class="keyword">;<br />
echo </span><span class="string">"global_bar:&nbsp; "</span><span class="keyword">.</span><span class="default">$global_bar</span><span class="keyword">.</span><span class="string">"&lt;/br&gt;\n"</span><span class="keyword">;<br />
</span><span class="comment">/*<br />
Result:<br />
foo-&gt;bar:&nbsp; &nbsp; default bar&lt;/br&gt;<br />
global_bar:&nbsp; bar global&lt;/br&gt;<br />
*/<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= &amp; new </span><span class="default">foo</span><span class="keyword">(&amp;</span><span class="default">$global_bar</span><span class="keyword">);<br />
echo </span><span class="string">"foo-&gt;bar:&nbsp; &nbsp; "</span><span class="keyword">.</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">.</span><span class="string">"&lt;/br&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="string">"new bar"</span><span class="keyword">;<br />
echo </span><span class="string">"global_bar:&nbsp; "</span><span class="keyword">.</span><span class="default">$global_bar</span><span class="keyword">.</span><span class="string">"&lt;/br&gt;\n"</span><span class="keyword">;<br />
</span><span class="comment">/*<br />
Result:<br />
foo-&gt;bar:&nbsp; &nbsp; bar global&lt;/br&gt;<br />
global_bar:&nbsp; new bar&lt;/br&gt;<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85354""></a>
  <div class="note">
   <strong class="user">anderson at francotecnologia dot com</strong>
   <a href="#85354" class="date">26-Aug-2008 11:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to create a polymorphic/"overloaded" function<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">select</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$args </span><span class="keyword">as &amp;</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">.= </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">'|'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">mysql_real_escape_string</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$t </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, - </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; switch (</span><span class="default">$t</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'integer'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// search by ID<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"id = </span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'string'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// search by name<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"name LIKE '%</span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">%'"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'string|integer'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// search by name AND status<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"name LIKE '%</span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">%' AND status = </span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'string|integer|integer'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// search by name with limit<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"name LIKE '%</span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">%' LIMIT </span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]}</span><span class="string">,</span><span class="keyword">{</span><span class="default">$args</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// :P<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">'1 = 2'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">'SELECT * FROM table WHERE ' </span><span class="keyword">. </span><span class="default">$sql</span><span class="keyword">);<br />
}<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">select</span><span class="keyword">(</span><span class="default">29</span><span class="keyword">); </span><span class="comment">// by ID<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">select</span><span class="keyword">(</span><span class="string">'Anderson'</span><span class="keyword">); </span><span class="comment">// by name<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">select</span><span class="keyword">(</span><span class="string">'Anderson'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">); </span><span class="comment">// by name and status<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">select</span><span class="keyword">(</span><span class="string">'Anderson'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">); </span><span class="comment">// by name with limit<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74994""></a>
  <div class="note">
   <strong class="user">ario [a] mail [dot] utexas [dot] edu</strong>
   <a href="#74994" class="date">07-May-2007 02:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"Because this function depends on the current scope to determine parameter details, it cannot be used as a function parameter. If you must pass this value, assign the results to a variable, and pass the variable."<br />
<br />
This means that the following code generates an error:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">)<br />
{<br />
&nbsp; echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">foo2</span><span class="keyword">()<br />
{<br />
&nbsp; </span><span class="default">foo</span><span class="keyword">(</span><span class="default">func_get_args</span><span class="keyword">());<br />
}<br />
<br />
</span><span class="default">foo2</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
However, you can easily get around this by doing the following:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">)<br />
{<br />
&nbsp; echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">foo2</span><span class="keyword">()<br />
{<br />
&nbsp; </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">());<br />
}<br />
<br />
</span><span class="default">foo2</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This captures the context from foo2(), making this legal.&nbsp; You get the expected output:<br />
<br />
"1, 2, 3"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47152""></a>
  <div class="note">
   <strong class="user">T.M.</strong>
   <a href="#47152" class="date">04-Nov-2004 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Simple function to calculate average value using dynamic arguments:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">average</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">func_get_args</span><span class="keyword">())/</span><span class="default">func_num_args</span><span class="keyword">();<br />
}<br />
print </span><span class="default">average</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">25</span><span class="keyword">); </span><span class="comment">// 17.5<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15567""></a>
  <div class="note">
   <strong class="user">daveNO at ovumSPAMdesign dot com</strong>
   <a href="#15567" class="date">17-Sep-2001 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php
<br />
</span><span class="comment">// How to simulate named parameters in PHP.
<br />
// By Dave Benjamin &lt;dave@ovumdesign.com&gt;
<br />

<br />
// Turns the array returned by func_get_args() into an array of name/value
<br />
// pairs that can be processed by extract().
<br />
</span><span class="keyword">function </span><span class="default">varargs</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$count</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">) {
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$args</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] = </span><span class="default">$args</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">];
<br />
&nbsp;&nbsp;&nbsp; }
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="comment">// Example
<br />
</span><span class="keyword">function </span><span class="default">test</span><span class="keyword">(&amp;</span><span class="default">$ref1</span><span class="keyword">, &amp;</span><span class="default">$ref2</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Default arguments go here.
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$foo </span><span class="keyword">= </span><span class="string">"oof"</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Do some magic.
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">extract</span><span class="keyword">(</span><span class="default">varargs</span><span class="keyword">(</span><span class="default">func_get_args</span><span class="keyword">()));
<br />

<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"\n\$var1 = </span><span class="default">$var1</span><span class="string">"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"\n\$var2 = </span><span class="default">$var2</span><span class="string">"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"\n\$foo = </span><span class="default">$foo</span><span class="string">\n\n"</span><span class="keyword">);
<br />
&nbsp;&nbsp;&nbsp; 
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Modify some variables that were passed by reference.
<br />
&nbsp;&nbsp;&nbsp; // Note that func_get_args() doesn't pass references, so they
<br />
&nbsp;&nbsp;&nbsp; // need to be explicitly declared in the function definition.
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ref1 </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">;
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ref2 </span><span class="keyword">= </span><span class="default">84</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;
<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">;
<br />

<br />
echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"Before calling test(): \$a = </span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">);
<br />
echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"Before calling test(): \$b = </span><span class="default">$b</span><span class="string">\n"</span><span class="keyword">);
<br />

<br />
</span><span class="comment">// Try removing the 'foo, "bar"' from the following line.
<br />
</span><span class="default">test</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">var1</span><span class="keyword">, </span><span class="string">"abc"</span><span class="keyword">, </span><span class="default">var2</span><span class="keyword">, </span><span class="string">"def"</span><span class="keyword">, </span><span class="default">foo</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">);
<br />

<br />
echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"After calling test(): \$a = </span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">);
<br />
echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="string">"After calling test(): \$b = </span><span class="default">$b</span><span class="string">\n"</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="13222""></a>
  <div class="note">
   
   <a href="#13222" class="date">04-Jun-2001 07:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can pass a variable number of arguments to a function whilst keeping references intact by using an array. The disadvantage of course, is that the called function needs to be aware that it's arguments are in an array.
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="comment">// Prints "hello mutated world"
<br />
</span><span class="keyword">function </span><span class="default">mutator</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {
<br />
</span><span class="default">$n</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);
<br />
while(</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">) </span><span class="default">$args</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">++] = </span><span class="string">"mutated"</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">"hello"</span><span class="keyword">;
<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="string">"strange"</span><span class="keyword">;
<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="string">"world"</span><span class="keyword">;
<br />
</span><span class="default">mutator</span><span class="keyword">(array(</span><span class="default">$a</span><span class="keyword">, &amp;</span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">));
<br />
echo </span><span class="string">"</span><span class="default">$a</span><span class="string"> </span><span class="default">$b</span><span class="string"> </span><span class="default">$c</span><span class="string">"</span><span class="keyword">;
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
