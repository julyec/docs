<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Update timestamp</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="class.sessionupdatetimestamphandlerinterface.html">? SessionUpdateTimestampHandlerInterface</a></li>
      <li style="float: right;"><a href="sessionupdatetimestamphandlerinterface.validateid.html">SessionUpdateTimestampHandlerInterface::validateId ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.sessionupdatetimestamphandlerinterface.html">SessionUpdateTimestampHandlerInterface</a></li>
    <li>Update timestamp</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="sessionupdatetimestamphandlerinterface.updatetimestamp" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SessionUpdateTimestampHandlerInterface::updateTimestamp</h1>
  <p class="verinfo">(PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">SessionUpdateTimestampHandlerInterface::updateTimestamp</span> &mdash; <span class="dc-title">Update timestamp</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SessionUpdateTimestampHandlerInterface::updateTimestamp</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$id</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>): <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Updates the last modification timestamp of the session.
   This function is automatically executed when a session is updated.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-parameters">
  <h3 class="title">参数</h3>
  <dl>
   
    <dt>
<code class="parameter">id</code></dt>

    <dd>

     <p class="para">
      The session ID.
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">data</code></dt>

    <dd>

     <p class="para">
      The session data.
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-sessionupdatetimestamphandlerinterface.updatetimestamp-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns <strong><code>true</code></strong> if the timestamp was updated, <strong><code>false</code></strong> otherwise.
   Note that this value is returned internally to PHP for processing.
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128099""></a>
  <div class="note">
   <strong class="user">tuncdan dot ozdemir dot peng at gmail dot com</strong>
   <a href="#128099" class="date">08-Jan-2023 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am not sure why the data is needed for this method if it only updated the timestamp only.&nbsp; Otherwise wouldn't his be the same the 'write' method? I think it is confusing and the manual unfortunately doesn't give much information about the whole session mechanics.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="125060""></a>
  <div class="note">
   <strong class="user">ohcc at 163 dot com</strong>
   <a href="#125060" class="date">31-May-2020 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When session.lazy_write is enabled, which is the default behaviour, session data will NOT be UPDATED if it remains unchanged, in this way the WRITE method of the session handler will not be called at all.<br />
<br />
If your session handler storages session data into files, UpdateTimestamp is used to update the "last modified time" of the session file, if your session handler storages session data into a database, UpdateTimestamp is used to update the table field that storages the last modified time of the session registry.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124842""></a>
  <div class="note">
   <strong class="user">ohcc at 163 dot com</strong>
   <a href="#124842" class="date">23-Mar-2020 10:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
'validateId' is called after 'open' and before 'read' to validate the session id provided by the client, as 'open' -&gt; 'validateId' -&gt; 'read' -&gt; 'write' -&gt; 'close' are called in sequence.<br />
<br />
If 'validateId' returns false, a new session id will be generated, the session cookie will also be updated afterwards.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
