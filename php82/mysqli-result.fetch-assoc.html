<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Fetch the next row of a result set as an associative array</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli-result.fetch-array.html">? mysqli_result::fetch_array</a></li>
      <li style="float: right;"><a href="mysqli-result.fetch-column.html">mysqli_result::fetch_column ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mysqli-result.html">mysqli_result</a></li>
    <li>Fetch the next row of a result set as an associative array</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqli-result.fetch-assoc" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqli_result::fetch_assoc</h1>
  <h1 class="refname">mysqli_fetch_assoc</h1>
  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mysqli_result::fetch_assoc</span> -- <span class="refname">mysqli_fetch_assoc</span> &mdash; <span class="dc-title">Fetch the next row of a result set as an associative array</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mysqli-result.fetch-assoc-description">
  <h3 class="title">说明</h3>
  <p class="para">面向对象风格</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>mysqli_result::fetch_assoc</strong></span>(): <span class="type"><span class="type">array</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">过程化风格</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>mysqli_fetch_assoc</strong></span>(<span class="methodparam"><span class="type"><a href="class.mysqli-result.html" class="type mysqli_result">mysqli_result</a></span> <code class="parameter">$result</code></span>): <span class="type"><span class="type">array</span>|<span class="type">null</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Fetches one row of data from the result set and returns it as an associative
   array.
   Each subsequent call to this function will return the next row within the
   result set, or <strong><code>null</code></strong> if there are no more rows.
  </p>
  <p class="para">
   If two or more columns of the result have the same name, the last
   column will take precedence and overwrite any previous data. To
   access multiple columns with the same name,
   <span class="function"><a href="mysqli-result.fetch-row.html" class="function">mysqli_fetch_row()</a></span> may be used to fetch the numerically
   indexed array, or aliases may be used in the SQL query select list to give
   columns different names.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">此函数返回的字段名<em class="emphasis">大小写敏感</em>。</span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">此函数将 NULL 字段设置为 PHP <strong><code>null</code></strong> 值。</span></p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-mysqli-result.fetch-assoc-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">result</code></dt>
<dd>
<p class="para">仅以过程化样式：由
<span class="function"><a href="mysqli.query.html" class="function">mysqli_query()</a></span>、<span class="function"><a href="mysqli.store-result.html" class="function">mysqli_store_result()</a></span>、
<span class="function"><a href="mysqli.use-result.html" class="function">mysqli_use_result()</a></span>、<span class="function"><a href="mysqli-stmt.get-result.html" class="function">mysqli_stmt_get_result()</a></span> 返回的 <span class="classname"><a href="class.mysqli-result.html" class="classname">mysqli_result</a></span> 对象。</p></dd>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mysqli-result.fetch-assoc-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns an associative array representing the fetched row,
   where each key in the array represents the name of one of the result
   set&#039;s columns, <strong><code>null</code></strong> if there
   are no more rows in the result set,  或者在失败时返回 <strong><code>false</code></strong>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-mysqli-result.fetch-assoc-examples">
  <h3 class="title">示例</h3>
  <div class="example" id="example-3064">
   <p><strong>Example #1 <span class="methodname"><strong>mysqli_result::fetch_assoc()</strong></span> example</strong></p>
   <div class="example-contents"><p>面向对象风格</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />mysqli_report</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_REPORT_ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">MYSQLI_REPORT_STRICT</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$mysqli </span><span style="color: #007700">= new </span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT Name, CountryCode FROM City ORDER BY ID DESC"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* fetch associative array */<br /></span><span style="color: #007700">while (</span><span style="color: #0000BB">$row </span><span style="color: #007700">= </span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_assoc</span><span style="color: #007700">()) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s (%s)\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">], </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br />}</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>过程化风格</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />mysqli_report</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_REPORT_ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">MYSQLI_REPORT_STRICT</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$mysqli </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT Name, CountryCode FROM City ORDER BY ID DESC"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">, </span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* fetch associative array */<br /></span><span style="color: #007700">while (</span><span style="color: #0000BB">$row </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_fetch_assoc</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">)) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s (%s)\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">], </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br />}</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>以上示例的输出类似于：</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Pueblo (USA)
Arvada (USA)
Cape Coral (USA)
Green Bay (USA)
Santa Clara (USA)
</pre></div>
   </div>
  </div>
  <div class="example" id="example-3066">
   <p><strong>Example #2 Comparison of <span class="classname"><a href="class.mysqli-result.html" class="classname">mysqli_result</a></span> <span class="classname"><a href="class.iterator.html" class="classname">iterator</a></span> and <span class="methodname"><strong>mysqli_result::fetch_assoc()</strong></span> usage</strong></p>
   <div class="example-contents"><p>
    <span class="classname"><a href="class.mysqli-result.html" class="classname">mysqli_result</a></span> can be iterated using <a href="control-structures.foreach.html" class="link">foreach</a>.
    The result set will always be iterated from the first row, regardless of the current position.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />mysqli_report</span><span style="color: #007700">(</span><span style="color: #0000BB">MYSQLI_REPORT_ERROR </span><span style="color: #007700">| </span><span style="color: #0000BB">MYSQLI_REPORT_STRICT</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$mysqli </span><span style="color: #007700">= new </span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"world"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #DD0000">'SELECT Name, CountryCode FROM City ORDER BY ID DESC'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Using iterators<br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br />foreach (</span><span style="color: #0000BB">$result </span><span style="color: #007700">as </span><span style="color: #0000BB">$row</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s (%s)\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">], </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br />}<br /><br />echo </span><span style="color: #DD0000">"\n==================\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Not using iterators<br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br />while (</span><span style="color: #0000BB">$row </span><span style="color: #007700">= </span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_assoc</span><span style="color: #007700">()) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s (%s)\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"Name"</span><span style="color: #007700">], </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"CountryCode"</span><span style="color: #007700">]);<br />}</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>以上示例的输出类似于：</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Pueblo (USA)
Arvada (USA)
Cape Coral (USA)
Green Bay (USA)
Santa Clara (USA)

==================
Pueblo (USA)
Arvada (USA)
Cape Coral (USA)
Green Bay (USA)
Santa Clara (USA)

</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-mysqli-result.fetch-assoc-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="mysqli-result.fetch-array.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_array()</a> - Fetch the next row of a result set as an associative, a numeric array, or both</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-column.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_column()</a> - Fetch a single column from the next row of a result set</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-row.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_row()</a> - Fetch the next row of a result set as an enumerated array</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-object.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_object()</a> - Fetch the next row of a result set as an object</span></li>
    <li class="member"><span class="function"><a href="mysqli.query.html" class="function" rel="rdfs-seeAlso">mysqli_query()</a> - 对数据库执行查询</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.data-seek.html" class="function" rel="rdfs-seeAlso">mysqli_data_seek()</a> - Adjusts the result pointer to an arbitrary row in the result</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128432""></a>
  <div class="note">
   <strong class="user">Enrique Garcia</strong>
   <a href="#128432" class="date">26-Apr-2023 08:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a difference between MariaDB and MySQL(&gt;5.4) whether the input parameter (mysqli object) has data or is empty (it comes from a previus query).<br />
-MariaDB:&nbsp; you get an exception:<br />
Fatal error: Uncaught TypeError: mysqli_fetch_assoc(): Argument #1 ($result) must be of type mysqli_result<br />
-MySQL: you can continue, in spite of not having data in the mysqli object.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="121997""></a>
  <div class="note">
   <strong class="user">gilles dot falquet at unige dot ch</strong>
   <a href="#121997" class="date">07-Dec-2017 08:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using fetch_assoc instead of fetch_row. If two columns of the result have the same column name, even if they are prefixed with different table names in the query, only one of them will be retained in the result. This is because the prefix is dropped (either by mysql or by this function)<br />
<br />
For example if the query is <br />
<br />
&nbsp;&nbsp; &nbsp; select p1.name, p2.name <br />
&nbsp;&nbsp; &nbsp; from person p1, friend, person p2<br />
&nbsp;&nbsp; &nbsp; where p1.id = friend.person1 and p2.id = friend.person2<br />
<br />
the arrays returned by fetch_assoc will be of the form<br />
<br />
{'name' =&gt; 'bob'}<br />
{'name' =&gt; 'anna'}<br />
<br />
and not (as expected)<br />
<br />
{'p1.name' =&gt; 'bob', 'p2.name' =&gt; 'alice'}<br />
{'p1.name' =&gt; 'anna', 'p2.name' =&gt; 'irla'}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120997""></a>
  <div class="note">
   <strong class="user">paul dot allsopp at inseego dot com</strong>
   <a href="#120997" class="date">20-Apr-2017 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The official example given here breaks a cardinal rule, and should be rectified.<br />
<br />
while ($row = $result-&gt;fetch_assoc())...<br />
<br />
...breaks the rule of "assignment in condition".<br />
<br />
while (($x = $y-&gt;getZ()) !== false) or<br />
while (($x = $y-&gt;getZ()) !== null)<br />
<br />
...is the correct syntax.<br />
<br />
Conditional statements should always check for a boolean</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="117161""></a>
  <div class="note">
   <strong class="user">Hesham Mohamed Sediek</strong>
   <a href="#117161" class="date">24-Apr-2015 02:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
when you fetch the data from the query variable <br />
and try to fetch it again in another part of the script<br />
from the same query variable , <br />
when you try to echo all data you have fetched,<br />
it will not echo the data you have used in the first fetch <br />
(it will exceed the results you have used in the first fetch).......<br />
<br />
Example :<br />
<span class="default">&lt;?php<br />
$connect </span><span class="keyword">= new </span><span class="default">mysqli</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">,</span><span class="string">"root"</span><span class="keyword">,</span><span class="string">"root"</span><span class="keyword">,</span><span class="string">"elshamy"</span><span class="keyword">)<br />
&nbsp;or die (</span><span class="default">mysqli_error</span><span class="keyword">());<br />
<br />
</span><span class="default">$query</span><span class="keyword">=</span><span class="default">$connect</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT * FROM users ORDER BY id ASC"</span><span class="keyword">);<br />
<br />
</span><span class="default">$first_fetch</span><span class="keyword">=</span><span class="default">$query</span><span class="keyword">-&gt;</span><span class="default">fetch_array</span><span class="keyword">(</span><span class="default">MYSQLI_ASSOC</span><span class="keyword">);<br />
echo </span><span class="default">$first_fetch</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">].</span><span class="string">"===&gt;"</span><span class="keyword">.</span><span class="default">$first_fetch</span><span class="keyword">[</span><span class="string">'user_name'</span><span class="keyword">].</span><span class="string">"\n--------------------\n"</span><span class="keyword">;<br />
<br />
while(</span><span class="default">$row</span><span class="keyword">=</span><span class="default">$query</span><span class="keyword">-&gt;</span><span class="default">fetch_array</span><span class="keyword">(</span><span class="default">MYSQLI_ASSOC</span><span class="keyword">)){<br />
<br />
</span><span class="comment">/*it will exceed the first <br />
id&amp;user_name value that <br />
you have use in the first fetch*/<br />
<br />
</span><span class="keyword">echo </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">].</span><span class="string">"&nbsp; "</span><span class="keyword">.</span><span class="default">$row</span><span class="keyword">[</span><span class="string">'user_name'</span><span class="keyword">].</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
above example will echo :<br />
1===&gt;userA <br />
------------------------<br />
2===&gt;userB<br />
3===&gt;userC<br />
4===&gt;userD</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="112924""></a>
  <div class="note">
   <strong class="user">Miller</strong>
   <a href="#112924" class="date">07-Aug-2013 05:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I often like to have my results sent elsewhere in the format of an array (although keep in mind that if you just plan on traversing through the array in another part of the script, this extra step is just a waste of time).<br />
<br />
This is my one-liner for transforming a mysqli_result set into an array.<br />
<span class="default">&lt;?php<br />
$sql </span><span class="keyword">= new </span><span class="default">MySQLi</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">, </span><span class="default">$database</span><span class="keyword">);<br />
<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">$sql</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT * FROM `</span><span class="default">$table</span><span class="string">`;"</span><span class="keyword">);<br />
for (</span><span class="default">$set </span><span class="keyword">= array (); </span><span class="default">$row </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">fetch_assoc</span><span class="keyword">(); </span><span class="default">$set</span><span class="keyword">[] = </span><span class="default">$row</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$set</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field2] =&gt; a<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field3] =&gt; b<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [id] =&gt; 2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field2] =&gt; c<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field3] =&gt; d<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)<br />
<br />
I use other variations to adapt to the situation, i.e. if I am selecting only one field:<br />
<span class="default">&lt;?php<br />
$sql </span><span class="keyword">= new </span><span class="default">MySQLi</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">, </span><span class="default">$database</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">$sql</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT `field2` FROM `</span><span class="default">$table</span><span class="string">`;"</span><span class="keyword">);<br />
for (</span><span class="default">$set </span><span class="keyword">= array (); </span><span class="default">$row </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">fetch_assoc</span><span class="keyword">(); </span><span class="default">$set</span><span class="keyword">[] = </span><span class="default">$row</span><span class="keyword">[</span><span class="string">'field2'</span><span class="keyword">]);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$set</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Outputs:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; a<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; c<br />
)<br />
<br />
Or, to make the array associative with the primary index (code assumes primary index is the first field in the table):<br />
<span class="default">&lt;?php<br />
$sql </span><span class="keyword">= new </span><span class="default">MySQLi</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">, </span><span class="default">$database</span><span class="keyword">);<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">$sql</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">"SELECT * FROM `</span><span class="default">$table</span><span class="string">`;"</span><span class="keyword">);<br />
for (</span><span class="default">$set </span><span class="keyword">= array (); </span><span class="default">$row </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">fetch_assoc</span><span class="keyword">(); </span><span class="default">$set</span><span class="keyword">[</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">)] = </span><span class="default">$row</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$set</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>Outputs:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field2] =&gt; a<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field3] =&gt; b<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field2] =&gt; c<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [field3] =&gt; d<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105365""></a>
  <div class="note">
   <strong class="user">james dot phx at gmail dot com</strong>
   <a href="#105365" class="date">11-Aug-2011 05:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
IMPORTANT NOTE:
<br />

<br />
If you were used to using code like this:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">while(</span><span class="default">false </span><span class="keyword">!== (</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)))
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//...
<br />
</span><span class="keyword">}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
You must change it to this for mysqli:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">while(</span><span class="default">null </span><span class="keyword">!== (</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysqli_fetch_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)))
<br />
{
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//...
<br />
</span><span class="keyword">}
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
The former will cause your script to run until max_execution_time is reached.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
