<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>引用返回</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.references.pass.html">? 引用传递</a></li>
      <li style="float: right;"><a href="language.references.unset.html">取消引用 ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.references.html">引用的解释</a></li>
    <li>引用返回</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.references.return" class="sect1">
  <h2 class="title">引用返回</h2>
  <p class="para">
   引用返回用在当想用函数找到引用应该被绑定在哪一个变量上面时。
    <em class="emphasis">不要</em>用返回引用来增加性能，引擎足够聪明来自己进行优化。
    仅在有合理的技术原因时才返回引用！
    使用此语法返回引用：
   <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">foo </span><span style="color: #007700">{<br />    public </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">42</span><span style="color: #007700">;<br /><br />    public function &amp;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">() {<br />        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$obj </span><span style="color: #007700">= new </span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$myValue </span><span style="color: #007700">= &amp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(); </span><span style="color: #FF8000">// $myValue 是对 $obj-&gt;value 的引用，即 42。<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value </span><span style="color: #007700">= </span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$myValue</span><span style="color: #007700">;                </span><span style="color: #FF8000">// 打印 $obj-&gt;value 的新值，即 2。<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

   </div>
   本例中 <var class="varname">getValue</var> 函数所返回的对象的属性将被赋值，
    而不是拷贝，就和没有用引用语法一样。
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    和参数传递不同，这里必须在两个地方都用 <code class="literal">&amp;</code>
    符号&mdash;&mdash;指出返回的是一个引用，而不是通常的一个拷贝，同样也指出 <var class="varname">$myValue</var>
    是作为引用的绑定，而不是通常的赋值。
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    如果试图这样从函数返回引用：<code class="literal">return
    ($this-&gt;value);</code>，这将<em class="emphasis">不会</em>起作用，
     因为在试图返回一个<em class="emphasis">表达式</em>的结果而不是一个引用的变量。
     只能从函数返回引用变量&mdash;&mdash;没别的方法。
   </span>
  </p></blockquote>
   <p class="para">
     要使用返回的引用，必须使用引用赋值：
     <div class="informalexample">
       <div class="example-contents">
         <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function &amp;</span><span style="color: #0000BB">collector</span><span style="color: #007700">() {<br />  static </span><span style="color: #0000BB">$collection </span><span style="color: #007700">= array();<br />  return </span><span style="color: #0000BB">$collection</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$collection </span><span style="color: #007700">= &amp;</span><span style="color: #0000BB">collector</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">[] = </span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

     </div>
     要将返回的引用传递给另外一个需要引用的函数，可以使用如下语法：
     <div class="informalexample">
       <div class="example-contents">
         <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function &amp;</span><span style="color: #0000BB">collector</span><span style="color: #007700">() {<br />  static </span><span style="color: #0000BB">$collection </span><span style="color: #007700">= array();<br />  return </span><span style="color: #0000BB">$collection</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">array_push</span><span style="color: #007700">(</span><span style="color: #0000BB">collector</span><span style="color: #007700">(), </span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

     </div>
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
       注意 <code class="literal">array_push(&amp;collector(), &#039;foo&#039;);</code> 将 
       <em class="emphasis">不</em> 起作用，它会导致 Fatal 错误。
     </span>
   </p></blockquote>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="126878""></a>
  <div class="note">
   <strong class="user">anisgazig at gmail dot com</strong>
   <a href="#126878" class="date">25-Feb-2022 02:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
$a </span><span class="keyword">= </span><span class="default">9</span><span class="keyword">;<br />
function &amp;</span><span class="default">myF</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//before modified the value<br />
</span><span class="default">$func </span><span class="keyword">=&amp; </span><span class="default">myF</span><span class="keyword">();<br />
echo </span><span class="string">"</span><span class="default">$a</span><span class="string"> and </span><span class="default">$func</span><span class="string">"</span><span class="keyword">;<br />
echo </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">//after modified the value<br />
</span><span class="default">$func</span><span class="keyword">++;<br />
echo </span><span class="string">"</span><span class="default">$a</span><span class="string"> and </span><span class="default">$func</span><span class="string">"</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124820""></a>
  <div class="note">
   <strong class="user">jpenna</strong>
   <a href="#124820" class="date">12-Mar-2020 11:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can set the value of the variable returned by reference, be it a `static` function variable or a `private` property of an object (which is quite dangerous o.o).<br />
<br />
Static function variable:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">func</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$static </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$static</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var1 </span><span class="keyword">=&amp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"var1:"</span><span class="keyword">, </span><span class="default">$var1</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 0<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var1 </span><span class="keyword">= </span><span class="default">90</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"var1:"</span><span class="keyword">, </span><span class="default">$var1</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 90<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"static:"</span><span class="keyword">, </span><span class="default">func</span><span class="keyword">(), </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 90<br />
</span><span class="default">?&gt;<br />
</span><br />
Private property<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$value </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function &amp;</span><span class="default">getValue</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setValue</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">;<br />
</span><span class="default">$myValue </span><span class="keyword">= &amp;</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">(); </span><span class="comment">// $myValue is a reference to $obj-&gt;value, which is 1.<br />
</span><span class="keyword">echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">();&nbsp; </span><span class="comment">// 1<br />
</span><span class="keyword">echo </span><span class="default">$myValue</span><span class="keyword">; </span><span class="comment">// 1<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">setValue</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">);<br />
echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">();&nbsp; </span><span class="comment">// 5<br />
</span><span class="keyword">echo </span><span class="default">$myValue</span><span class="keyword">; </span><span class="comment">// 5<br />
</span><span class="default">$myValue </span><span class="keyword">= </span><span class="default">1000</span><span class="keyword">;<br />
echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">();&nbsp; </span><span class="comment">// 1000<br />
</span><span class="keyword">echo </span><span class="default">$myValue</span><span class="keyword">; </span><span class="comment">// 1000<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="123032""></a>
  <div class="note">
   <strong class="user">fabian dot picone at gmail dot com</strong>
   <a href="#123032" class="date">14-Aug-2018 09:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This note seems not to apply with PHP 7:<br />
<br />
"Note: If you try to return a reference from a function with the syntax: return ($this-&gt;value); this will not work as you are attempting to return the result of an expression, and not a variable, by reference. You can only return variables by reference from a function - nothing else. Since PHP 5.1.0, an E_NOTICE error is issued if the code tries to return a dynamic expression or a result of the new operator."<br />
<br />
Bug following code works without error output. Same result as i would not have braces around $this-value.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$value </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function &amp;</span><span class="default">getValue</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">;<br />
</span><span class="default">$myValue </span><span class="keyword">= &amp;</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">();<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">value </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
echo </span><span class="default">$myValue</span><span class="keyword">;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115745""></a>
  <div class="note">
   <strong class="user">civilization28 at gmail dot com</strong>
   <a href="#115745" class="date">17-Sep-2014 01:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Zayfod's example above is useful, but I feel that it needs more explanation. The point that should be made is that a parameter passed in by reference can be changed to reference something else, resulting in later changes to the local variable not affecting the passed in variable:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function&nbsp; &nbsp; &amp; </span><span class="default">func_b </span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$some_var </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$some_var</span><span class="keyword">;<br />
}<br />
<br />
function&nbsp; &nbsp; </span><span class="default">func_a </span><span class="keyword">(&amp; </span><span class="default">$param</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $param is 1 here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$param </span><span class="keyword">= &amp; </span><span class="default">func_b</span><span class="keyword">();&nbsp; &nbsp; </span><span class="comment"># Here the reference is changed and<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # the "&amp;" in "func_a (&amp; $param)"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # is no longer in effect at all.<br />
&nbsp;&nbsp;&nbsp; # $param is 2 here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$param</span><span class="keyword">++;&nbsp; &nbsp; </span><span class="comment"># Has no effect on $var.<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">func_a</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
</span><span class="comment"># $var is still 1 here!!!&nbsp; &nbsp; Because the reference was changed.<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114541""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#114541" class="date">05-Mar-2014 04:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I learned a painful lesson working with a class method that would pass by reference.&nbsp;&nbsp; <br />
<br />
In short, if you have a method in a class that is initialed with ampersand during declaration, do not use another ampersand when using the method as in &amp;$this-&gt;method();<br />
<br />
For example<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function &amp;</span><span class="default">hello</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$a</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">bello</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">=&amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">hello</span><span class="keyword">();&nbsp; </span><span class="comment">// incorrect. Do not use ampersand.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b</span><span class="keyword">=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">hello</span><span class="keyword">();&nbsp; </span><span class="comment">// $b is a reference&nbsp; to the static variable.<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102593""></a>
  <div class="note">
   <strong class="user">benjamin dot delespierre at gmail dot com</strong>
   <a href="#102593" class="date">23-Feb-2011 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Keep in mind that returning by reference doesn't work with __callStatic:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">class </span><span class="default">Test </span><span class="keyword">{
<br />
&nbsp; private static </span><span class="default">$_inst</span><span class="keyword">;
<br />
&nbsp; public static function &amp; </span><span class="default">__callStatic </span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; if (!isset(static::</span><span class="default">$_inst</span><span class="keyword">)){ 
<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">"create"</span><span class="keyword">;
<br />
&nbsp;&nbsp; &nbsp;&nbsp; static::</span><span class="default">$_inst </span><span class="keyword">= (object)</span><span class="string">"test"</span><span class="keyword">;
<br />
&nbsp;&nbsp; }
<br />
&nbsp;&nbsp; return static::</span><span class="default">$_inst</span><span class="keyword">;
<br />
}
<br />

<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">= &amp;</span><span class="default">Test</span><span class="keyword">::</span><span class="default">abc</span><span class="keyword">()); </span><span class="comment">// prints 'create'
<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">Test</span><span class="keyword">::</span><span class="default">abc</span><span class="keyword">()); </span><span class="comment">// doesn't prints and the instance still exists in Test::$_inst
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102139""></a>
  <div class="note">
   <strong class="user">szymoncofalik at gmail dot com</strong>
   <a href="#102139" class="date">28-Jan-2011 12:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, you would like to return NULL with a function returning reference, to indicate the end of chain of elements. However this generates E_NOTICE. Here is little tip, how to prevent that:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp; const </span><span class="default">$nullGuard </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="comment">// ... some declarations and definitions<br />
&nbsp;&nbsp; </span><span class="keyword">public function &amp;</span><span class="default">next</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// ...<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">$end</span><span class="keyword">) return </span><span class="default">$bar</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; else return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">nullGuard</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
by doing this you can do smth like this without notices:<br />
<br />
<span class="default">&lt;?php<br />
$f </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
</span><span class="comment">// ...<br />
</span><span class="keyword">while ((</span><span class="default">$item </span><span class="keyword">= </span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">next</span><span class="keyword">()) != </span><span class="default">NULL</span><span class="keyword">) {<br />
</span><span class="comment">// ...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
you may also use global variable:<br />
global $nullGuard;<br />
return $nullGuard;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96860""></a>
  <div class="note">
   <strong class="user">spidgorny at gmail dot com</strong>
   <a href="#96860" class="date">19-Mar-2010 06:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When returning reference to the object member which is instantiated inside the function, the object is destructed upon returning (which is a problem). It's easier to see the code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">MemcacheArray </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$data</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; ...<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Super-clever one line cache reading AND WRITING!<br />
&nbsp;&nbsp; &nbsp; * Usage $data = &amp;MemcacheArray::getData(__METHOD__);<br />
&nbsp;&nbsp; &nbsp; * Hopefully PHP will know that $this-&gt;data is still used <br />
&nbsp;&nbsp; &nbsp; * and will call destructor after data changes.<br />
&nbsp;&nbsp; &nbsp; * Ooops, it's not the case.&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @return unknown<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">getData</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$expire </span><span class="keyword">= </span><span class="default">3600</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">= new </span><span class="default">MemcacheArray</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$expire</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Here, destructor is called upon return() and the reference becomes a normal variable.<br />
<br />
My solution is to store objects in a pool until the final exit(), but I don't like it. Any other ideas?<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected static </span><span class="default">$instances </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; function &amp;</span><span class="default">getData</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$expire </span><span class="keyword">= </span><span class="default">3600</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$o </span><span class="keyword">= new </span><span class="default">MemcacheArray</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$expire</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$file</span><span class="keyword">] = </span><span class="default">$o</span><span class="keyword">; </span><span class="comment">// keep object from destructing too early<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86761""></a>
  <div class="note">
   <strong class="user">sandaimespaceman at gmail dot com</strong>
   <a href="#86761" class="date">02-Nov-2008 08:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The &amp;b() function returns a reference of $a in the global scope.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
function &amp;</span><span class="default">b</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
</span><span class="default">$c </span><span class="keyword">= &amp;</span><span class="default">b</span><span class="keyword">();<br />
</span><span class="default">$c</span><span class="keyword">++;<br />
echo<br />
</span><span class="string">"<br />
\$a: </span><span class="default">$a</span><span class="string"><br />
\$b: </span><span class="default">$c</span><span class="string"><br />
"<br />
</span><span class="default">?&gt;<br />
</span><br />
It outputs:<br />
<br />
$a: 1 $b: 1</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80776""></a>
  <div class="note">
   <strong class="user">Spad-XIII</strong>
   <a href="#80776" class="date">31-Jan-2008 05:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a little addition to the example of pixel at minikomp dot com here below<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">func</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$static </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$static</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$static</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var1 </span><span class="keyword">=&amp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"var1:"</span><span class="keyword">, </span><span class="default">$var1</span><span class="keyword">; </span><span class="comment">// 1<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"var1:"</span><span class="keyword">, </span><span class="default">$var1</span><span class="keyword">; </span><span class="comment">// 3<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var2 </span><span class="keyword">= </span><span class="default">func</span><span class="keyword">(); </span><span class="comment">// assignment without the &amp;<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"var2:"</span><span class="keyword">, </span><span class="default">$var2</span><span class="keyword">; </span><span class="comment">// 4<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"var1:"</span><span class="keyword">, </span><span class="default">$var1</span><span class="keyword">; </span><span class="comment">// 6<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">"var2:"</span><span class="keyword">, </span><span class="default">$var2</span><span class="keyword">; </span><span class="comment">// still 4<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80132""></a>
  <div class="note">
   <strong class="user">pixel at minikomp dot com</strong>
   <a href="#80132" class="date">30-Dec-2007 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function &amp;</span><span class="default">func</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$static </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$static</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$static</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$var </span><span class="keyword">=&amp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$var</span><span class="keyword">; </span><span class="comment">// 1<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">func</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$var</span><span class="keyword">; </span><span class="comment">// 5<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78123""></a>
  <div class="note">
   <strong class="user">stanlemon at mac dot com</strong>
   <a href="#78123" class="date">28-Sep-2007 10:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I haven't seen anyone note method chaining in PHP5.&nbsp; When an object is returned by a method in PHP5 it is returned by default as a reference, and the new Zend Engine 2 allows you to chain method calls from those returned objects.&nbsp; For example consider this code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$bar</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"Foo\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">getBar</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">Bar </span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"Bar\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">helloWorld</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"Hello World\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; return new </span><span class="default">Foo</span><span class="keyword">();<br />
}<br />
<br />
</span><span class="default">test</span><span class="keyword">()-&gt;</span><span class="default">getBar</span><span class="keyword">()-&gt;</span><span class="default">helloWorld</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Notice how we called test() which was not on an object, but returned an instance of Foo, followed by a method on Foo, getBar() which returned an instance of Bar and finally called one of its methods helloWorld().&nbsp; Those familiar with other interpretive languages (Java to name one) will recognize this functionality.&nbsp; For whatever reason this change doesn't seem to be documented very well, so hopefully someone will find this helpful.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72824""></a>
  <div class="note">
   <strong class="user">php at thunder-2000 dot com</strong>
   <a href="#72824" class="date">02-Feb-2007 02:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to get a part of an array to manipulate, you can use this function<br />
<br />
function &amp;getArrayField(&amp;$array,$path) {<br />
&nbsp; if (!empty($path)) {<br />
&nbsp;&nbsp;&nbsp; if (empty($array[$path[0]])) return NULL;<br />
&nbsp;&nbsp;&nbsp; else return getArrayField($array[$path[0]], array_slice($path, 1));<br />
&nbsp; } else {<br />
&nbsp;&nbsp;&nbsp; return $array;<br />
&nbsp; }<br />
}<br />
<br />
Use it like this:<br />
<br />
$partArray =&amp; getArrayField($GLOBALS,array("config","modul1"));<br />
<br />
You can manipulate $partArray and the changes are also made with $GLOBALS.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62391""></a>
  <div class="note">
   <strong class="user">rwruck</strong>
   <a href="#62391" class="date">27-Feb-2006 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The note about using parentheses when returning references is only true if the variable you try to return does not already contain a reference.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Will return a reference<br />
</span><span class="keyword">function&amp; </span><span class="default">getref1</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp; </span><span class="default">$ref </span><span class="keyword">=&amp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'somevar'</span><span class="keyword">];<br />
&nbsp; return (</span><span class="default">$ref</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
</span><span class="comment">// Will return a value (and emit a notice)<br />
</span><span class="keyword">function&amp; </span><span class="default">getref2</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp; </span><span class="default">$ref </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">;<br />
&nbsp; return (</span><span class="default">$ref</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
</span><span class="comment">// Will return a reference<br />
</span><span class="keyword">function&amp; </span><span class="default">getref3</span><span class="keyword">()<br />
&nbsp; {<br />
&nbsp; static </span><span class="default">$ref </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">;<br />
&nbsp; return (</span><span class="default">$ref</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57632""></a>
  <div class="note">
   <strong class="user">willem at designhulp dot nl</strong>
   <a href="#57632" class="date">09-Oct-2005 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is an important difference between php5 and php4 with references.<br />
<br />
Lets say you have a class with a method called 'get_instance' to get a reference to an exsisting class and it's properties.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">mysql </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">get_instance</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check if object exsists<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(empty(</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">'instances'</span><span class="keyword">][</span><span class="string">'mysql'</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// no object yet, create an object<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">'instances'</span><span class="keyword">][</span><span class="string">'mysql'</span><span class="keyword">] = new </span><span class="default">mysql</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// return reference to object<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ref </span><span class="keyword">= &amp;</span><span class="default">$_ENV</span><span class="keyword">[</span><span class="string">'instances'</span><span class="keyword">][</span><span class="string">'mysql'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$ref</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now to get the exsisting object you can use<br />
mysql::get_instance();<br />
<br />
Though this works in php4 and in php5, but in php4 all data will be lost as if it is a new object while in php5 all properties in the object remain.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48468""></a>
  <div class="note">
   <strong class="user">obscvresovl at NOSPAM dot hotmail dot com</strong>
   <a href="#48468" class="date">24-Dec-2004 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An example of returning references:<br />
<br />
&lt;?<br />
<br />
$var = 1;<br />
$num = NULL;<br />
<br />
function &amp;blah()<br />
{<br />
&nbsp;&nbsp;&nbsp; $var =&amp; $GLOBALS["var"]; # the same as global $var;<br />
&nbsp;&nbsp;&nbsp; $var++;<br />
&nbsp;&nbsp;&nbsp; return $var;<br />
}<br />
<br />
$num = &amp;blah();<br />
<br />
echo $num; # 2<br />
<br />
blah();<br />
<br />
echo $num; # 3<br />
<br />
?&gt;<br />
<br />
Note: if you take the &amp; off from the function, the second echo will be 2, because without &amp; the var $num contains its returning value and not its returning reference.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40846""></a>
  <div class="note">
   <strong class="user">hawcue at yahoo dot com</strong>
   <a href="#40846" class="date">16-Mar-2004 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using tinary operation condition?value1:value2<br />
<br />
See the following code:<br />
<br />
$a=1;<br />
function &amp;foo()<br />
{<br />
&nbsp; global $a;<br />
&nbsp; return isset($a)?$a:null;<br />
}<br />
$b=&amp;foo();<br />
echo $b;&nbsp;&nbsp; // shows 1<br />
$b=2;<br />
echo $a;&nbsp;&nbsp; // shows 1 (not 2! because $b got a copy of $a)<br />
<br />
To let $b be a reference to $a, use "if..then.." in the function.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39841""></a>
  <div class="note">
   <strong class="user">contact at infopol dot fr</strong>
   <a href="#39841" class="date">12-Feb-2004 09:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A note about returning references embedded in non-reference arrays :<br />
<br />
&lt;?<br />
$foo;<br />
<br />
function bar () {<br />
&nbsp;&nbsp;&nbsp; global $foo;<br />
&nbsp;&nbsp;&nbsp; $return = array();<br />
&nbsp;&nbsp;&nbsp; $return[] =&amp; $foo;<br />
&nbsp;&nbsp;&nbsp; return $return;<br />
}<br />
<br />
$foo = 1;<br />
$foobar = bar();<br />
$foobar[0] = 2;<br />
echo $foo;<br />
?&gt;<br />
<br />
results in "2" because the reference is copied (pretty neat).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37961""></a>
  <div class="note">
   <strong class="user">zayfod at yahoo dot com</strong>
   <a href="#37961" class="date">03-Dec-2003 09:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There is a small exception to the note on this page of the documentation. You do not have to use &amp; to indicate that reference binding should be done when you assign to a value passed by reference the result of a function which returns by reference.<br />
<br />
Consider the following two exaples:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function&nbsp; &nbsp; &amp; </span><span class="default">func_b </span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$some_var </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$some_var</span><span class="keyword">;<br />
}<br />
<br />
function&nbsp; &nbsp; </span><span class="default">func_a </span><span class="keyword">(&amp; </span><span class="default">$param</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $param is 1 here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$param </span><span class="keyword">= &amp; </span><span class="default">func_b</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $param is 2 here<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">func_a</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
</span><span class="comment"># $var is still 1 here!!!<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The second example works as intended:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function&nbsp; &nbsp; &amp; </span><span class="default">func_b </span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$some_var </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$some_var</span><span class="keyword">;<br />
}<br />
<br />
function&nbsp; &nbsp; </span><span class="default">func_a </span><span class="keyword">(&amp; </span><span class="default">$param</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $param is 1 here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$param </span><span class="keyword">= </span><span class="default">func_b</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># $param is 2 here<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">func_a</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
</span><span class="comment"># $var is 2 here as intended<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
(Experienced with PHP 4.3.0)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
