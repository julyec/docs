<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Add a key for encryption</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.gnupg-adddecryptkey.html">? gnupg_adddecryptkey</a></li>
      <li style="float: right;"><a href="function.gnupg-addsignkey.html">gnupg_addsignkey ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.gnupg.html">GnuPG 函数</a></li>
    <li>Add a key for encryption</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.gnupg-addencryptkey" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">gnupg_addencryptkey</h1>
  <p class="verinfo">(PECL gnupg &gt;= 0.5)</p><p class="refpurpose"><span class="refname">gnupg_addencryptkey</span> &mdash; <span class="dc-title">Add a key for encryption</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.gnupg-addencryptkey-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>gnupg_addencryptkey</strong></span>(<span class="methodparam"><span class="type">resource</span> <code class="parameter">$identifier</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$fingerprint</code></span>): <span class="type">bool</span></div>

 </div>


 <div class="refsect1 parameters" id="refsect1-function.gnupg-addencryptkey-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">identifier</code></dt>

     <dd>

      <p class="para">gnupg 标识符，由对
<span class="function"><a href="function.gnupg-init.html" class="function">gnupg_init()</a></span> 或 <span class="classname"><strong class="classname">gnupg</strong></span> 的调用生成。</p>
     </dd>

    
    
     <dt>
<code class="parameter">fingerprint</code></dt>

     <dd>

      <p class="para">指纹键名。</p> 
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.gnupg-addencryptkey-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   成功时返回 <strong><code>true</code></strong>， 或者在失败时返回 <strong><code>false</code></strong>。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.gnupg-addencryptkey-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 Procedural <span class="function"><strong>gnupg_addencryptkey()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$res </span><span style="color: #007700">= </span><span style="color: #0000BB">gnupg_init</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">gnupg_addencryptkey</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">,</span><span style="color: #DD0000">"8660281B6051D071D94B5B230549F9DC851566DC"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="">
    <p><strong>Example #2 OO <span class="function"><strong>gnupg_addencryptkey()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$gpg </span><span style="color: #007700">= new </span><span style="color: #0000BB">gnupg</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$gpg</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addencryptkey</span><span style="color: #007700">(</span><span style="color: #DD0000">"8660281B6051D071D94B5B230549F9DC851566DC"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="112979""></a>
  <div class="note">
   <strong class="user">su at aboynamedsu dot net</strong>
   <a href="#112979" class="date">14-Aug-2013 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you've successfully installed gnupg, you should define the GNUPGHOME environment variable and make sure the directory is writeable by the Apache user.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; putenv</span><span class="keyword">(</span><span class="string">"GNUPGHOME=/var/www/example.com/.gnupg"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79538""></a>
  <div class="note">
   <strong class="user">php at cdauth dot de</strong>
   <a href="#79538" class="date">02-Dec-2007 06:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In this case, $fingerprint is the fingerprint of the public key whose private key shall be able to decrypt the text. The private key that you want to encrypt the text with has to be loaded via gnupg_addsignkey().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
