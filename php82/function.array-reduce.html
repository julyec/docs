<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>用回调函数迭代地将数组简化为单一的值</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.array-rand.html">? array_rand</a></li>
      <li style="float: right;"><a href="function.array-replace-recursive.html">array_replace_recursive ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.array.html">数组 函数</a></li>
    <li>用回调函数迭代地将数组简化为单一的值</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.array-reduce" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_reduce</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.5, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">array_reduce</span> &mdash; <span class="dc-title">用回调函数迭代地将数组简化为单一的值</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.array-reduce-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array_reduce</strong></span>(<span class="methodparam"><span class="type">array</span> <code class="parameter">$array</code></span>, <span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>, <span class="methodparam"><span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter">$initial</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>array_reduce()</strong></span> 将回调函数
   <code class="parameter">callback</code> 迭代地作用到
   <code class="parameter">array</code> 数组中的每一个单元中，从而将数组简化为单一的值。
     </p>
 </div>

  <div class="refsect1 parameters" id="refsect1-function.array-reduce-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">array</code></dt>

     <dd>

      <p class="para">
       输入的 array。
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">callback</code></dt>

     <dd>

      <div class="methodsynopsis dc-description">
       <span class="methodname"><span class="replaceable">callback</span></span>(<span class="methodparam"><span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter">$carry</code></span>, <span class="methodparam"><span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span> <code class="parameter">$item</code></span>): <span class="type"><a href="language.types.declarations.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

    <dl>
    
     <dt>
<code class="parameter">carry</code></dt>

     <dd>

      <p class="para">
        携带上次迭代的返回值；
       如果本次迭代是第一次，那么这个值是 <code class="parameter">initial</code>。
      </p>
     </dd>

    
     
        <dt>
<code class="parameter">item</code></dt>

        <dd>

         <p class="para">
           携带了本次迭代的值。
         </p>
        </dd>

       
   </dl>

     </dd>

    
    
     <dt>
<code class="parameter">initial</code></dt>

     <dd>

      <p class="para">
       如果指定了可选参数
   <code class="parameter">initial</code>，该参数将用作处理开始时的初始值，如果数组为空，则会作为最终结果返回。
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.array-reduce-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   返回结果值。
  </p>
  <p class="para">
   如果数组为空，并且没有指定
   <code class="parameter">initial</code> 参数，<span class="function"><strong>array_reduce()</strong></span> 返回 <strong><code>null</code></strong>。
  </p>
 </div>



 <div class="refsect1 changelog" id="refsect1-function.array-reduce-changelog">
  <h3 class="title">更新日志</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>版本</th>
      <th>说明</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.0.0</td>
 <td>
  如果 <code class="parameter">callback</code> 接受引用传递参数，该方法将会抛出
  <strong><code>E_WARNING</code></strong>。
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.array-reduce-examples">
  <h3 class="title">示例</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Example #1 <span class="function"><strong>array_reduce()</strong></span> 例子</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">sum</span><span style="color: #007700">(</span><span style="color: #0000BB">$carry</span><span style="color: #007700">, </span><span style="color: #0000BB">$item</span><span style="color: #007700">)<br />{<br />    </span><span style="color: #0000BB">$carry </span><span style="color: #007700">+= </span><span style="color: #0000BB">$item</span><span style="color: #007700">;<br />    return </span><span style="color: #0000BB">$carry</span><span style="color: #007700">;<br />}<br /><br />function </span><span style="color: #0000BB">product</span><span style="color: #007700">(</span><span style="color: #0000BB">$carry</span><span style="color: #007700">, </span><span style="color: #0000BB">$item</span><span style="color: #007700">)<br />{<br />    </span><span style="color: #0000BB">$carry </span><span style="color: #007700">*= </span><span style="color: #0000BB">$item</span><span style="color: #007700">;<br />    return </span><span style="color: #0000BB">$carry</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= array(</span><span style="color: #0000BB">1</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">, </span><span style="color: #0000BB">3</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$x </span><span style="color: #007700">= array();<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_reduce</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #DD0000">"sum"</span><span style="color: #007700">)); </span><span style="color: #FF8000">// int(15)<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_reduce</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">, </span><span style="color: #DD0000">"product"</span><span style="color: #007700">, </span><span style="color: #0000BB">10</span><span style="color: #007700">)); </span><span style="color: #FF8000">// int(1200), 因为：10*1*2*3*4*5<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">array_reduce</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">, </span><span style="color: #DD0000">"sum"</span><span style="color: #007700">, </span><span style="color: #DD0000">"No data to reduce"</span><span style="color: #007700">)); </span><span style="color: #FF8000">// string(17) "No data to reduce"<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

  <div class="refsect1 seealso" id="refsect1-function.array-reduce-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-filter.html" class="function" rel="rdfs-seeAlso">array_filter()</a> - 使用回调函数过滤数组的元素</span></li>
    <li class="member"><span class="function"><a href="function.array-map.html" class="function" rel="rdfs-seeAlso">array_map()</a> - 为数组的每个元素应用回调函数</span></li>
    <li class="member"><span class="function"><a href="function.array-unique.html" class="function" rel="rdfs-seeAlso">array_unique()</a> - 移除数组中重复的值</span></li>
    <li class="member"><span class="function"><a href="function.array-count-values.html" class="function" rel="rdfs-seeAlso">array_count_values()</a> - 统计数组中每个不同值的出现次数</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="128177""></a>
  <div class="note">
   <strong class="user">xyz at record dot contact</strong>
   <a href="#128177" class="date">01-Feb-2023 06:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to reindex an array, say to add an ID to each item as a key, you can use the following:<br />
<br />
$array = [['id' =&gt; 3, 'name' =&gt; 'bob'], ['id' =&gt; 4, 'name' =&gt; 'alice']];<br />
array_reduce($array, fn($new_array, $item) =&gt; $new_array + [$item['id'] =&gt; $item], []);<br />
<br />
Result:<br />
<br />
[ 3 =&gt; ["id" =&gt; 3, "name" =&gt; "bob"], 4 =&gt; ['id' =&gt; 4, 'name' =&gt; 'alice'] ]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="126817""></a>
  <div class="note">
   <strong class="user">itsunclexo at gmail dot com</strong>
   <a href="#126817" class="date">01-Feb-2022 11:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Let's see an example of array_reduce() to get the frequency of letters.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$items </span><span class="keyword">= </span><span class="string">"Hello"</span><span class="keyword">;<br />
<br />
</span><span class="default">$frequencies </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$items</span><span class="keyword">), <br />
&nbsp;&nbsp;&nbsp; function(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$item</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$item</span><span class="keyword">] += </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$item</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; },<br />
&nbsp;&nbsp;&nbsp; [] </span><span class="comment">// note the initial is an array<br />
</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$frequencies</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
and output should be like:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [H] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [e] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [l] =&gt; 2<br />
&nbsp;&nbsp;&nbsp; [o] =&gt; 1<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124471""></a>
  <div class="note">
   <strong class="user">souzacomprog at gmail dot com</strong>
   <a href="#124471" class="date">06-Dec-2019 12:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes we need to go through an array and group the indexes so that it is easier and easier to extract them in the iteration.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$people </span><span class="keyword">= [<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Hayley'</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Jack'</span><span class="keyword">, </span><span class="string">'dad' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Linus'</span><span class="keyword">, </span><span class="string">'dad'</span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Peter' </span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'Tom'</span><span class="keyword">, </span><span class="string">'dad' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">],<br />
];<br />
<br />
</span><span class="default">$family </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$people</span><span class="keyword">, function(</span><span class="default">$accumulator</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if you don't have a dad you are probably a dad<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!isset(</span><span class="default">$item</span><span class="keyword">[</span><span class="string">'dad'</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$id </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'id'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// take the children if you already have <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$children </span><span class="keyword">= </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">][</span><span class="string">'children'</span><span class="keyword">] ?? [];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// add dad<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">] = [</span><span class="string">'id' </span><span class="keyword">=&gt; </span><span class="default">$id</span><span class="keyword">, </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">,</span><span class="string">'children' </span><span class="keyword">=&gt; </span><span class="default">$children</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$accumulator</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// add a new dad if you haven't already <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dad </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'dad'</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; if (!isset(</span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$dad</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// how did you find the dad will first add only with children <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$dad</span><span class="keyword">] = [</span><span class="string">'children' </span><span class="keyword">=&gt; [</span><span class="default">$item</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$accumulator</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//&nbsp; add a son to his dad who has already been added<br />
&nbsp;&nbsp;&nbsp; //&nbsp; by the first or second conditional "if"<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$dad</span><span class="keyword">][</span><span class="string">'children'</span><span class="keyword">][] = </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$accumulator</span><span class="keyword">;<br />
}, []);<br />
<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$family</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
OUTPUT<br />
<br />
array (<br />
&nbsp; 0 =&gt;<br />
&nbsp; array (<br />
&nbsp;&nbsp;&nbsp; 'id' =&gt; 1,<br />
&nbsp;&nbsp;&nbsp; 'name' =&gt; 'Hayley',<br />
&nbsp;&nbsp;&nbsp; 'children' =&gt;<br />
&nbsp;&nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp;&nbsp; 0 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'id' =&gt; 2,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'name' =&gt; 'Jack',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'dad' =&gt; 1,<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp; ),<br />
&nbsp; 1 =&gt;<br />
&nbsp; array (<br />
&nbsp;&nbsp;&nbsp; 'id' =&gt; 4,<br />
&nbsp;&nbsp;&nbsp; 'name' =&gt; 'Peter',<br />
&nbsp;&nbsp;&nbsp; 'children' =&gt;<br />
&nbsp;&nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp;&nbsp; 0 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'id' =&gt; 3,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'name' =&gt; 'Linus',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'dad' =&gt; 4,<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp; &nbsp;&nbsp; 1 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'id' =&gt; 5,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'name' =&gt; 'Tom',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'dad' =&gt; 4,<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp; ),<br />
)<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= [<br />
&nbsp; [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_id" </span><span class="keyword">=&gt; </span><span class="string">"1"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_name" </span><span class="keyword">=&gt; </span><span class="string">"Clients"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_name" </span><span class="keyword">=&gt; </span><span class="string">"Add"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_link" </span><span class="keyword">=&gt; </span><span class="string">"clients/add"<br />
&nbsp; </span><span class="keyword">],<br />
&nbsp; [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_id" </span><span class="keyword">=&gt; </span><span class="string">"1"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_name" </span><span class="keyword">=&gt; </span><span class="string">"Clients"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_name" </span><span class="keyword">=&gt; </span><span class="string">"List"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_link" </span><span class="keyword">=&gt; </span><span class="string">"clients"<br />
&nbsp; </span><span class="keyword">],<br />
&nbsp; [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_id" </span><span class="keyword">=&gt; </span><span class="string">"2"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"menu_name" </span><span class="keyword">=&gt; </span><span class="string">"Products"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_name" </span><span class="keyword">=&gt; </span><span class="string">"List"</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">"submenu_link" </span><span class="keyword">=&gt; </span><span class="string">"products"<br />
&nbsp; </span><span class="keyword">],<br />
];<br />
<br />
</span><span class="comment">//Grouping submenus to their menus<br />
<br />
</span><span class="default">$menu </span><span class="keyword">=&nbsp; </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, function(</span><span class="default">$accumulator</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp; </span><span class="default">$index </span><span class="keyword">= </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'menu_name'</span><span class="keyword">];<br />
<br />
&nbsp; if (!isset(</span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">])) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = [<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'menu_id' </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'menu_id'</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'menu_name' </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'menu_name'</span><span class="keyword">],<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'submenu' </span><span class="keyword">=&gt; []&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; ];<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$accumulator</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">][</span><span class="string">'submenu'</span><span class="keyword">][] = [<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'submenu_name' </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'submenu_name'</span><span class="keyword">],<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'submenu_link' </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'submenu_link'</span><span class="keyword">]<br />
&nbsp; ];<br />
<br />
&nbsp; return </span><span class="default">$accumulator</span><span class="keyword">;<br />
}, []);<br />
<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$menu</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
OUTPUT<br />
<br />
array (<br />
&nbsp; 0 =&gt;<br />
&nbsp; array (<br />
&nbsp;&nbsp;&nbsp; 'menu_id' =&gt; '1',<br />
&nbsp;&nbsp;&nbsp; 'menu_name' =&gt; 'Clients',<br />
&nbsp;&nbsp;&nbsp; 'submenu' =&gt;<br />
&nbsp;&nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp;&nbsp; 0 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_name' =&gt; 'Add',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_link' =&gt; 'clients/add',<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp; &nbsp;&nbsp; 1 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_name' =&gt; 'List',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_link' =&gt; 'clients',<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp; ),<br />
&nbsp; 1 =&gt;<br />
&nbsp; array (<br />
&nbsp;&nbsp;&nbsp; 'menu_id' =&gt; '2',<br />
&nbsp;&nbsp;&nbsp; 'menu_name' =&gt; 'Products',<br />
&nbsp;&nbsp;&nbsp; 'submenu' =&gt;<br />
&nbsp;&nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp;&nbsp; 0 =&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; array (<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_name' =&gt; 'List',<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'submenu_link' =&gt; 'products',<br />
&nbsp;&nbsp; &nbsp;&nbsp; ),<br />
&nbsp;&nbsp;&nbsp; ),<br />
&nbsp; ),<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124460""></a>
  <div class="note">
   <strong class="user">Julian Sawicki</strong>
   <a href="#124460" class="date">02-Dec-2019 08:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Array reduce offers a way to transform data. <br />
Please look at the array below. The array has 4 nested array's.<br />
The nested array's have the same keys. Only the value is different. <br />
<br />
This code transforms the whole array. See below.&nbsp; <br />
<br />
$array = array(&nbsp; <br />
&nbsp;&nbsp;&nbsp; 0 =&gt; array('id' =&gt; '100', 'name' =&gt; 'Henk', 'age' =&gt; '30'),&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; 1 =&gt; array('id' =&gt; '101', 'name' =&gt; 'Piet', 'age' =&gt; '33'),&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; 2 =&gt; array('id' =&gt; '102', 'name' =&gt; 'Wim', 'age' =&gt; '43'),&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; 3 =&gt; array('id' =&gt; '103', 'name' =&gt; 'Jaap', 'age' =&gt; '53'),&nbsp; <br />
);&nbsp; <br />
&nbsp;<br />
$arr = array_reduce($array, function($carry, $item){ <br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; $arr = array(&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'id' =&gt; $item['id'],&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 'value' =&gt; $item['name'],&nbsp; <br />
&nbsp;&nbsp;&nbsp; );&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $id = $item['id'];&nbsp; <br />
&nbsp;&nbsp;&nbsp; $carry[$id] = $arr;&nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $carry;&nbsp; <br />
}, array());&nbsp; <br />
&nbsp;<br />
var_dump($arr);<br />
&nbsp;<br />
&nbsp;<br />
// OUTPUT<br />
<br />
array (size=4)&nbsp; <br />
100 =&gt; array (size=2)&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; 'id' =&gt; string '100' (length=3)&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; 'value' =&gt; string 'Henk' (length=4)&nbsp; <br />
101 =&gt; array (size=2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'id' =&gt; string '101' (length=3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'value' =&gt; string 'Piet' (length=4)&nbsp; <br />
102 =&gt; array (size=2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'id' =&gt; string '102' (length=3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'value' =&gt; string 'Wim' (length=3)&nbsp; <br />
103 =&gt; array (size=2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'id' =&gt; string '103' (length=3)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; 'value' =&gt; string 'Jaap' (length=4)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="124289""></a>
  <div class="note">
   <strong class="user">849330489 at qq dot com</strong>
   <a href="#124289" class="date">12-Oct-2019 01:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The first parameter $array can be also be functions, which produces very interesting and powerful result, which can be used to make an union of middlewares.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$f1 </span><span class="keyword">= function(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$f</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'middleware 1 begin.'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$f</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'middleware 1 end.'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$x</span><span class="keyword">;&nbsp; &nbsp; <br />
};<br />
&nbsp;&nbsp;&nbsp; <br />
<br />
</span><span class="default">$f2 </span><span class="keyword">= function(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$f</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'middleware 2 begin: '</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$f</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'middleware 2 end.'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$x</span><span class="keyword">;<br />
};<br />
<br />
</span><span class="default">$respond </span><span class="keyword">= function(</span><span class="default">$x</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'Generate some response.'</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$x</span><span class="keyword">;<br />
};<br />
<br />
</span><span class="default">$middlewares </span><span class="keyword">= [</span><span class="default">$f1</span><span class="keyword">, </span><span class="default">$f2</span><span class="keyword">];<br />
</span><span class="default">$initial </span><span class="keyword">= </span><span class="default">$respond</span><span class="keyword">;<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$middlewares</span><span class="keyword">, function(</span><span class="default">$stack</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; return function(</span><span class="default">$request</span><span class="keyword">) use (</span><span class="default">$stack</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$item</span><span class="keyword">(</span><span class="default">$request</span><span class="keyword">, </span><span class="default">$stack</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; };<br />
}, </span><span class="default">$initial</span><span class="keyword">);<br />
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
echo </span><span class="default">$foo</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
//output:<br />
middleware 2 begin: <br />
middleware 1 begin.<br />
Generate some response.<br />
middleware 1 end.<br />
middleware 2 end.<br />
4</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120811""></a>
  <div class="note">
   <strong class="user">galley dot meng at gmail dot com</strong>
   <a href="#120811" class="date">15-Mar-2017 05:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your array has string keys, you can reduce a two-dimensional array into one-dimensional using array_reduce, array_merge and array_values. (PHP&gt;=5.3.0)<br />
<br />
<span class="default">&lt;?php<br />
<br />
$two_dimensional </span><span class="keyword">= array();<br />
<br />
</span><span class="default">$two_dimensional</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = array(</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'c' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$two_dimensional</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">] = array(</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">, </span><span class="string">'c' </span><span class="keyword">=&gt;</span><span class="default">6</span><span class="keyword">);<br />
<br />
</span><span class="default">$one_dimensional </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$two_dimensional</span><span class="keyword">, </span><span class="string">'array_merge'</span><span class="keyword">, array());<br />
<br />
</span><span class="default">$one_dimensional </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$two_dimensional</span><span class="keyword">, function (</span><span class="default">$one_dimensional</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$one_dimensional</span><span class="keyword">, </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">));<br />
}, array());<br />
<br />
</span><span class="comment"># becomes array(1, 2, 3, 4, 5, 6)</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118254""></a>
  <div class="note">
   <strong class="user">directrix1 at gmail dot com</strong>
   <a href="#118254" class="date">03-Nov-2015 04:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So, if you were wondering how to use this where key and value are passed in to the function. I've had success with the following (this example generates formatted html attributes from an associative array of attribute =&gt; value pairs):<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Attribute List<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$attribs </span><span class="keyword">= [<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'first_name'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'value' </span><span class="keyword">=&gt; </span><span class="string">'Edward'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">];<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Attribute string formatted for use inside HTML element<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$formatted_attribs </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$attribs</span><span class="keyword">),&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// We pass in the array_keys instead of the array here<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function (</span><span class="default">$carry</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">) use (</span><span class="default">$attribs</span><span class="keyword">) {&nbsp; &nbsp; </span><span class="comment">// ... then we 'use' the actual array here<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$carry </span><span class="keyword">. </span><span class="string">' ' </span><span class="keyword">. </span><span class="default">$key </span><span class="keyword">. </span><span class="string">'="' </span><span class="keyword">. </span><span class="default">htmlspecialchars</span><span class="keyword">( </span><span class="default">$attribs</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) . </span><span class="string">'"'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; },<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">''<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
echo </span><span class="default">$formatted_attribs</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will output:<br />
&nbsp;name="first_name" value="Edward"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="118017""></a>
  <div class="note">
   <strong class="user">cwu at nolo dot com</strong>
   <a href="#118017" class="date">18-Sep-2015 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The single value returned by array_reduce() can be an array -- as illustrated in the following example:<br />
<span class="default">&lt;?php<br />
</span><span class="comment"># calculate the average of an array<br />
</span><span class="keyword">function </span><span class="default">calculate_sum_and_count</span><span class="keyword">(</span><span class="default">$sum_and_count</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">)<br />
{<br />
&nbsp; list(</span><span class="default">$sum</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">) = </span><span class="default">$sum_and_count</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$sum </span><span class="keyword">+= </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$count </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp; return [</span><span class="default">$sum</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">];<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />
</span><span class="default">$initial_sum_and_count </span><span class="keyword">= [</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">];<br />
list(</span><span class="default">$sum</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">) = </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">"calculate_sum_and_count"</span><span class="keyword">, </span><span class="default">$initial_sum_and_count</span><span class="keyword">);<br />
echo </span><span class="default">$sum </span><span class="keyword">/ </span><span class="default">$count</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115122""></a>
  <div class="note">
   <strong class="user">aiadfaris at yahoo dot de</strong>
   <a href="#115122" class="date">29-May-2014 08:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
notice to function array_reduce()<br />
I suppose the function rsum in the example 1 so it is not correct, <br />
but<br />
$ v + = $ w;<br />
will output 15</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="115121""></a>
  <div class="note">
   <strong class="user">aiadfaris at yahoo dot de</strong>
   <a href="#115121" class="date">29-May-2014 08:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
notice to function array_reduce()<br />
I suppose the function rsum in the example 1 so it is not correct, <br />
but<br />
$ v + = $ w;<br />
will output 15</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114829""></a>
  <div class="note">
   <strong class="user">magnesium dot oxide dot play+php at gmail dot com</strong>
   <a href="#114829" class="date">11-Apr-2014 05:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can reduce a two-dimensional array into one-dimensional using array_reduce and array_merge. (PHP&gt;=5.3.0)<br />
<br />
<span class="default">&lt;?php<br />
<br />
$two_dimensional </span><span class="keyword">= array();<br />
</span><span class="default">$two_dimensional</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
</span><span class="default">$two_dimensional</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">] = array(</span><span class="default">4</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">);<br />
<br />
</span><span class="default">$one_dimensional </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$two_dimensional</span><span class="keyword">, </span><span class="string">'array_merge'</span><span class="keyword">, array());<br />
</span><span class="comment"># becomes array(1, 2, 3, 4, 5, 6)</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114491""></a>
  <div class="note">
   <strong class="user">Altreus</strong>
   <a href="#114491" class="date">26-Feb-2014 02:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can effectively ignore the fact $result is passed into the callback by reference. Only the return value of the callback is accounted for.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= [</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">];<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_reduce</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; function(&amp;</span><span class="default">$res</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">) { </span><span class="default">$res </span><span class="keyword">+= </span><span class="default">$a</span><span class="keyword">; }, <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0<br />
</span><span class="keyword">));<br />
<br />
</span><span class="comment"># NULL<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= [</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">];<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_reduce</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">, <br />
&nbsp;&nbsp;&nbsp; function(</span><span class="default">$res</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">) { return </span><span class="default">$res </span><span class="keyword">+ </span><span class="default">$a</span><span class="keyword">;&nbsp; }, <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">0<br />
</span><span class="keyword">));<br />
<br />
</span><span class="comment"># int(10)<br />
</span><span class="default">?&gt;<br />
</span><br />
Be warned, though, that you *can* accidentally change $res if it's not a simple scalar value, so despite the examples I'd recommend not writing to it at all.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="110757""></a>
  <div class="note">
   <strong class="user">kon</strong>
   <a href="#110757" class="date">03-Dec-2012 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Walking down related object's properties using array_reduce:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $a</span><span class="keyword">=new </span><span class="default">stdClass</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">=new </span><span class="default">stdClass</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">=</span><span class="string">"Hello World!\n"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$reductionPath</span><span class="keyword">=array(</span><span class="string">"b"</span><span class="keyword">,</span><span class="string">"c"</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="default">print_r</span><span class="keyword">(<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_reduce</span><span class="keyword">(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$reductionPath</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; function(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">-&gt;</span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; },<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$a<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">)<br />
&nbsp; );<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="109320""></a>
  <div class="note">
   <strong class="user">ruslan dot zavackiy at gmail dot com</strong>
   <a href="#109320" class="date">06-Jul-2012 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want something elegant in your code, when dealing with reducing array, just unshift first element, and use it as initial, because if you do not do so, you will + first element with first element:
<br />

<br />
<span class="default">&lt;?php
<br />
$arr </span><span class="keyword">= array(
<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">1.5456</span><span class="keyword">, </span><span class="string">'max' </span><span class="keyword">=&gt; </span><span class="default">2.28548</span><span class="keyword">, </span><span class="string">'volume' </span><span class="keyword">=&gt; </span><span class="default">23.152</span><span class="keyword">),
<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">1.5457</span><span class="keyword">, </span><span class="string">'max' </span><span class="keyword">=&gt; </span><span class="default">2.28549</span><span class="keyword">, </span><span class="string">'volume' </span><span class="keyword">=&gt; </span><span class="default">23.152</span><span class="keyword">),
<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">1.5458</span><span class="keyword">, </span><span class="string">'max' </span><span class="keyword">=&gt; </span><span class="default">2.28550</span><span class="keyword">, </span><span class="string">'volume' </span><span class="keyword">=&gt; </span><span class="default">23.152</span><span class="keyword">),
<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">1.5459</span><span class="keyword">, </span><span class="string">'max' </span><span class="keyword">=&gt; </span><span class="default">2.28551</span><span class="keyword">, </span><span class="string">'volume' </span><span class="keyword">=&gt; </span><span class="default">23.152</span><span class="keyword">),
<br />
&nbsp;&nbsp;&nbsp; array(</span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">1.5460</span><span class="keyword">, </span><span class="string">'max' </span><span class="keyword">=&gt; </span><span class="default">2.28552</span><span class="keyword">, </span><span class="string">'volume' </span><span class="keyword">=&gt; </span><span class="default">23.152</span><span class="keyword">),
<br />
);
<br />

<br />
</span><span class="default">$initial </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);
<br />

<br />
</span><span class="default">$t </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, function(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">) {
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'min'</span><span class="keyword">] = </span><span class="default">min</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">[</span><span class="string">'min'</span><span class="keyword">], </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'min'</span><span class="keyword">]);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'max'</span><span class="keyword">] = </span><span class="default">max</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">[</span><span class="string">'max'</span><span class="keyword">], </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'max'</span><span class="keyword">]);
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'volume'</span><span class="keyword">] += </span><span class="default">$item</span><span class="keyword">[</span><span class="string">'volume'</span><span class="keyword">];
<br />

<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;
<br />
}, </span><span class="default">$initial</span><span class="keyword">);
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97413""></a>
  <div class="note">
   <strong class="user">php at keith tyler dot com</strong>
   <a href="#97413" class="date">18-Apr-2010 03:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you do not provide $initial, the first value used in the iteration is NULL. This is not a problem for callback functions that treat NULL as an identity (e.g. addition), but is a problem for cases when NULL is not identity (such as boolean context).
<br />

<br />
Compare:
<br />

<br />
<span class="default">&lt;?php
<br />
</span><span class="keyword">function </span><span class="default">andFunc</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {
<br />
&nbsp; return </span><span class="default">$a </span><span class="keyword">&amp;&amp; </span><span class="default">$b</span><span class="keyword">;
<br />
}
<br />
</span><span class="default">$foo </span><span class="keyword">= array(</span><span class="default">true</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">, </span><span class="string">"andFunc"</span><span class="keyword">));
<br />
</span><span class="default">?&gt;
<br />
</span>
<br />
returns false! One would expect that it would return true because `true &amp;&amp; true &amp;&amp; true == true`!
<br />

<br />
Adding diagnostic output to andFunc() shows that the first call to andFunc is with the arguments (NULL, true). This resolves to false (as `(bool) null == false`) and thereby corrupts the whole reduction.
<br />

<br />
So in this case I have to set `$initial = true` so that the first call to andFunc() will be (true, true). Now, if I were doing, say, orFunc(), I would have to set `$initial = false`. Beware.
<br />

<br />
Note that the "rmul" case in the example sneakily hides this defect! They use an $initial of 10 to get `10*1*2*3*4*5 = 12000`. So you would assume that without an initial, you would get `1200/10 = 120 = 1*2*3*4*5`. Nope! You get big fat zero, because `int(null)==0`, and `0*1*2*3*4*5 = 0`!
<br />

<br />
I don't honestly see why array_reduce starts with a null argument. The first call to the callback should be with arguments ($initial[0],$initial[1]) [or whatever the first two array entries are], not (null,$initial[0]). That's what one would expect from the description.
<br />

<br />
Incidentally this also means that under the current implementation you will incur `count($input)` number of calls to the callback, not `count($input) - 1` as you might expect.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78695""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#78695" class="date">23-Oct-2007 02:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To make it clearer about what the two parameters of the callback are for, and what "reduce to a single value" actually means (using associative and commutative operators as examples may obscure this).<br />
<br />
The first parameter to the callback is an accumulator where the result-in-progress is effectively assembled. If you supply an $initial value the accumulator starts out with that value, otherwise it starts out null.<br />
The second parameter is where each value of the array is passed during each step of the reduction.<br />
The return value of the callback becomes the new value of the accumulator. When the array is exhausted, array_reduce() returns accumulated value.<br />
<br />
If you carried out the reduction by hand, you'd get something like the following lines, every one of which therefore producing the same result:<br />
<span class="default">&lt;?php<br />
array_reduce</span><span class="keyword">(array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">), </span><span class="string">'f'</span><span class="keyword">,&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">99&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
</span><span class="default">array_reduce</span><span class="keyword">(array(</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">),&nbsp;&nbsp; </span><span class="string">'f'</span><span class="keyword">,&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">f</span><span class="keyword">(</span><span class="default">99</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br />
</span><span class="default">array_reduce</span><span class="keyword">(array(</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">),&nbsp; &nbsp;&nbsp; </span><span class="string">'f'</span><span class="keyword">,&nbsp; &nbsp;&nbsp; </span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">99</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">),</span><span class="default">2</span><span class="keyword">)&nbsp; &nbsp; &nbsp;&nbsp; );<br />
</span><span class="default">array_reduce</span><span class="keyword">(array(</span><span class="default">4</span><span class="keyword">),&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'f'</span><span class="keyword">,&nbsp;&nbsp; </span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">99</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">),</span><span class="default">2</span><span class="keyword">),</span><span class="default">3</span><span class="keyword">)&nbsp; &nbsp; );<br />
</span><span class="default">array_reduce</span><span class="keyword">(array(),&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'f'</span><span class="keyword">, </span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">99</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">),</span><span class="default">2</span><span class="keyword">),</span><span class="default">3</span><span class="keyword">),</span><span class="default">4</span><span class="keyword">) );<br />
</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">f</span><span class="keyword">(</span><span class="default">99</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">),</span><span class="default">2</span><span class="keyword">),</span><span class="default">3</span><span class="keyword">),</span><span class="default">4</span><span class="keyword">)<br />
</span><span class="default">?&gt;<br />
</span><br />
If you made function f($v,$w){return "f($v,$w)";} the last line would be the literal result.<br />
<br />
A PHP implementation might therefore look something like this (less details like error checking and so on):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$callback</span><span class="keyword">, </span><span class="default">$initial</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$acc </span><span class="keyword">= </span><span class="default">$initial</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$a</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$acc </span><span class="keyword">= </span><span class="default">$callback</span><span class="keyword">(</span><span class="default">$acc</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$acc</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72751""></a>
  <div class="note">
   <strong class="user">yuki [dot] kodama [at] gmail [dot] com</strong>
   <a href="#72751" class="date">31-Jan-2007 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This code will reduce array deeply.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) ? </span><span class="string">"NULL" </span><span class="keyword">: (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) ? </span><span class="string">"Array" </span><span class="keyword">: (</span><span class="default">$s </span><span class="keyword">? </span><span class="string">"TRUE" </span><span class="keyword">: </span><span class="string">"FALSE"</span><span class="keyword">));<br />
}<br />
function </span><span class="default">r_and_dp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"phase1:" </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">"," </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">"r_and_dp"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="string">"r_and_dp"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"phase2:" </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">"," </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) ? </span><span class="default">TRUE </span><span class="keyword">: </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) ? </span><span class="default">TRUE </span><span class="keyword">: </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"phase3:" </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">"," </span><span class="keyword">. </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a </span><span class="keyword">&amp;&amp; </span><span class="default">$b</span><span class="keyword">;<br />
}<br />
</span><span class="default">$bools </span><span class="keyword">= array(</span><span class="default">TRUE</span><span class="keyword">, array(</span><span class="default">FALSE</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">), </span><span class="default">TRUE</span><span class="keyword">);<br />
echo </span><span class="default">print_s</span><span class="keyword">(</span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$bools</span><span class="keyword">, </span><span class="string">"r_and_dp"</span><span class="keyword">)) . </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// result: FALSE<br />
</span><span class="default">?&gt;<br />
</span><br />
When using boolean, you have to carefully set an "initial" argument.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">r_or_dp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">"r_or_dp"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="string">"r_or_dp"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) ? </span><span class="default">FALSE </span><span class="keyword">: </span><span class="default">$a</span><span class="keyword">) || (</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) ? </span><span class="default">FALSE </span><span class="keyword">: </span><span class="default">$b</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72267""></a>
  <div class="note">
   <strong class="user">bdechka at yahoo dot ca</strong>
   <a href="#72267" class="date">10-Jan-2007 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The above code works better this way.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">reduceToTable</span><span class="keyword">(</span><span class="default">$html</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$html </span><span class="keyword">.= </span><span class="string">"&lt;TR&gt;&lt;TD&gt;&lt;a href=\"</span><span class="default">$p</span><span class="string">.html\"&gt;</span><span class="default">$p</span><span class="string">&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">$html</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$list </span><span class="keyword">= Array(</span><span class="string">"page1"</span><span class="keyword">, </span><span class="string">"page2"</span><span class="keyword">, </span><span class="string">"page3"</span><span class="keyword">);<br />
<br />
</span><span class="default">$tab </span><span class="keyword">= </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">, </span><span class="string">"reduceToTable"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;table&gt;"</span><span class="keyword">.</span><span class="default">$tab </span><span class="keyword">. </span><span class="string">"&lt;/table&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60372""></a>
  <div class="note">
   <strong class="user">Seanj.jcink.com</strong>
   <a href="#60372" class="date">04-Jan-2006 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The code posted below by bishop to count the characters of an array is simply... erm... well useless to me...<br />
<br />
$array=Array("abc","de","f");<br />
strlen(implode("",$array)); //6<br />
<br />
works; and is much smaller. Probably much faster too.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
