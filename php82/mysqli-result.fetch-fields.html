<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=UTF-8">
  <title>Returns an array of objects representing the fields in a result set</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs" class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli-result.fetch-field.html">? mysqli_result::fetch_field</a></li>
      <li style="float: right;"><a href="mysqli-result.fetch-object.html">mysqli_result::fetch_object ?</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mysqli-result.html">mysqli_result</a></li>
    <li>Returns an array of objects representing the fields in a result set</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqli-result.fetch-fields" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqli_result::fetch_fields</h1>
  <h1 class="refname">mysqli_fetch_fields</h1>
  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mysqli_result::fetch_fields</span> -- <span class="refname">mysqli_fetch_fields</span> &mdash; <span class="dc-title">Returns an array of objects representing the fields in a result set</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mysqli-result.fetch-fields-description">
  <h3 class="title">说明</h3>
  <p class="para">面向对象风格</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>mysqli_result::fetch_fields</strong></span>(): <span class="type">array</span></div>

  <p class="para rdfs-comment">过程化风格</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>mysqli_fetch_fields</strong></span>(<span class="methodparam"><span class="type"><a href="class.mysqli-result.html" class="type mysqli_result">mysqli_result</a></span> <code class="parameter">$result</code></span>): <span class="type">array</span></div>


  <p class="para rdfs-comment">
   This function serves an identical purpose to the 
   <span class="function"><a href="mysqli-result.fetch-field.html" class="function">mysqli_fetch_field()</a></span> function with the single
   difference that, instead of returning one object at a time for each field,
   the columns are returned as an array of objects.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mysqli-result.fetch-fields-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">result</code></dt>
<dd>
<p class="para">仅以过程化样式：由
<span class="function"><a href="mysqli.query.html" class="function">mysqli_query()</a></span>、<span class="function"><a href="mysqli.store-result.html" class="function">mysqli_store_result()</a></span>、
<span class="function"><a href="mysqli.use-result.html" class="function">mysqli_use_result()</a></span>、<span class="function"><a href="mysqli-stmt.get-result.html" class="function">mysqli_stmt_get_result()</a></span> 返回的 <span class="classname"><a href="class.mysqli-result.html" class="classname">mysqli_result</a></span> 对象。</p></dd>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mysqli-result.fetch-fields-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns an array of objects containing field definition information.
  </p>
  <p class="para">
  <table id="mysqli-result.fetch-fields.returnvalues" class="doctable table">
   <caption><strong>Object properties</strong></caption>
   
    <thead>
     <tr>
      <th>Property</th>
      <th>Description</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>name</td>
      <td>The name of the column</td>
     </tr>

     <tr>
      <td>orgname</td>
      <td>Original column name if an alias was specified</td>
     </tr>

     <tr>
      <td>table</td>
      <td>The name of the table this field belongs to (if not calculated)</td>
     </tr>

     <tr>
      <td>orgtable</td>
      <td>Original table name if an alias was specified</td>
     </tr>

     <tr>
      <td>max_length</td>
      <td>The maximum width of the field for the result set. As of PHP 8.1, this value is always <code class="literal">0</code>.</td>
     </tr>

     <tr>
      <td>length</td>
      <td>
       The width of the field, in bytes, as specified in the table definition. Note that 
       this number (bytes) might differ from your table definition value (characters), depending on
       the character set you use. For example, the character set utf8 has 3 bytes per character, 
       so varchar(10) will return a length of 30 for utf8 (10*3), but return 10 for latin1 (10*1).
      </td>
     </tr>

     <tr>
      <td>charsetnr</td>
      <td>The character set number (id) for the field.</td>
     </tr>

     <tr>
      <td>flags</td>
      <td>An integer representing the bit-flags for the field.</td>
     </tr>

     <tr>
      <td>type</td>
      <td>The data type used for this field</td>
     </tr>

     <tr>
      <td>decimals</td>
      <td>The number of decimals used (for integer fields)</td>
     </tr>

    </tbody>
   
  </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-mysqli-result.fetch-fields-examples">
  <h3 class="title">示例</h3>
  <div class="example" id="example-3078">
   <p><strong>Example #1 面向对象风格</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$mysqli </span><span style="color: #007700">= new </span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"root"</span><span style="color: #007700">, </span><span style="color: #DD0000">"foofoo"</span><span style="color: #007700">, </span><span style="color: #DD0000">"sakila"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* check connection */<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_errno</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect failed: %s\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_error</span><span style="color: #007700">);<br />    exit();<br />}<br /><br />foreach (array(</span><span style="color: #DD0000">'latin1'</span><span style="color: #007700">, </span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">) as </span><span style="color: #0000BB">$charset</span><span style="color: #007700">) {<br /><br />    </span><span style="color: #FF8000">// Set character set, to show its impact on some values (e.g., length in bytes)<br />    </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set_charset</span><span style="color: #007700">(</span><span style="color: #0000BB">$charset</span><span style="color: #007700">);<br /><br />    </span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT actor_id, last_name from actor ORDER BY actor_id"</span><span style="color: #007700">;<br /><br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"Character Set: </span><span style="color: #0000BB">$charset</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br />    <br />    if (</span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">)) {<br /><br />        </span><span style="color: #FF8000">/* Get field information for all columns */<br />        </span><span style="color: #0000BB">$finfo </span><span style="color: #007700">= </span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_fields</span><span style="color: #007700">();<br /><br />        foreach (</span><span style="color: #0000BB">$finfo </span><span style="color: #007700">as </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Name:      %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Table:     %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">table</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Max. Len:  %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">max_length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Length:    %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"charsetnr: %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">charsetnr</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Flags:     %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flags</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Type:      %d\n\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type</span><span style="color: #007700">);<br />        }<br />        </span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br />    }<br />}<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-3080">
   <p><strong>Example #2 过程化风格</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_user"</span><span style="color: #007700">, </span><span style="color: #DD0000">"my_password"</span><span style="color: #007700">, </span><span style="color: #DD0000">"sakila"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* check connection */<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">()) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect failed: %s\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />    exit();<br />}<br /><br />foreach (array(</span><span style="color: #DD0000">'latin1'</span><span style="color: #007700">, </span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">) as </span><span style="color: #0000BB">$charset</span><span style="color: #007700">) {<br /><br />    </span><span style="color: #FF8000">// Set character set, to show its impact on some values (e.g., length in bytes)<br />    </span><span style="color: #0000BB">mysqli_set_charset</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">, </span><span style="color: #0000BB">$charset</span><span style="color: #007700">);<br /><br />    </span><span style="color: #0000BB">$query </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT actor_id, last_name from actor ORDER BY actor_id"</span><span style="color: #007700">;<br /><br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"Character Set: </span><span style="color: #0000BB">$charset</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br /><br />    if (</span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">, </span><span style="color: #0000BB">$query</span><span style="color: #007700">)) {<br /><br />        </span><span style="color: #FF8000">/* Get field information for all columns */<br />        </span><span style="color: #0000BB">$finfo </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_fetch_fields</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /><br />        foreach (</span><span style="color: #0000BB">$finfo </span><span style="color: #007700">as </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Name:      %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Table:     %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">table</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Max. Len:  %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">max_length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Length:    %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"charsetnr: %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">charsetnr</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Flags:     %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flags</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Type:      %d\n\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type</span><span style="color: #007700">);<br />        }<br />        </span><span style="color: #0000BB">mysqli_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br />    }<br />}<br /><br /></span><span style="color: #0000BB">mysqli_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>以上示例会输出：</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
======================
Character Set: latin1
======================
Name:      actor_id
Table:     actor
Max. Len:  3
Length:    5
charsetnr: 63
Flags:     49699
Type:      2

Name:      last_name
Table:     actor
Max. Len:  12
Length:    45
charsetnr: 8
Flags:     20489
Type:      253

======================
Character Set: utf8
======================
Name:      actor_id
Table:     actor
Max. Len:  3
Length:    5
charsetnr: 63
Flags:     49699
Type:      2

Name:      last_name
Table:     actor
Max. Len:  12
Length:    135
charsetnr: 33
Flags:     20489
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-mysqli-result.fetch-fields-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="mysqli-result.field-count.html" class="function" rel="rdfs-seeAlso">mysqli_num_fields()</a> - Gets the number of fields in the result set</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-field-direct.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_field_direct()</a> - Fetch meta-data for a single field</span></li>
    <li class="member"><span class="function"><a href="mysqli-result.fetch-field.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_field()</a> - Returns the next field in the result set</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="122454""></a>
  <div class="note">
   <strong class="user">attand at gmail dot com</strong>
   <a href="#122454" class="date">27-Feb-2018 11:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The nax_length gives counts in bytes. So if the text is utf-8, then we get incorrect result. <br />
<br />
We have a code snippet where we check if the maximum length of the field and the max length of data stored becomes equal. This way we can check the potential truncation of data inserted</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="120045""></a>
  <div class="note">
   <strong class="user">mccharles dot craven at dot dot gov</strong>
   <a href="#120045" class="date">14-Oct-2016 12:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Those wanting to map the 'type' field in this function for use in mysqli_stmt_bind_param or to cannibalize it for their own mapping may find this function useful.<br />
<br />
function map_field_type_to_bind_type($field_type)<br />
{<br />
&nbsp;&nbsp;&nbsp; switch ($field_type)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_DECIMAL:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_NEWDECIMAL:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_FLOAT:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_DOUBLE:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 'd';<br />
<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_BIT:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_TINY:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_SHORT:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_LONG:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_LONGLONG:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_INT24:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_YEAR:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_ENUM:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 'i';<br />
<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_TIMESTAMP:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_DATE:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_TIME:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_DATETIME:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_NEWDATE:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_INTERVAL:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_SET:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_VAR_STRING:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_STRING:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_CHAR:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_GEOMETRY:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 's';<br />
<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_TINY_BLOB:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_MEDIUM_BLOB:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_LONG_BLOB:<br />
&nbsp;&nbsp;&nbsp; case MYSQLI_TYPE_BLOB:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 'b';<br />
<br />
&nbsp;&nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; trigger_error("unknown type: $field_type");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return 's';<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="116738""></a>
  <div class="note">
   <strong class="user">cz dot paranoiq at gmail dot com</strong>
   <a href="#116738" class="date">21-Feb-2015 09:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
complete list of flags from MySQL source code:<br />
<br />
NOT_NULL_FLAG&nbsp;&nbsp; 1&nbsp; &nbsp; &nbsp;&nbsp; /* Field can't be NULL */<br />
PRI_KEY_FLAG&nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp;&nbsp; /* Field is part of a primary key */<br />
UNIQUE_KEY_FLAG 4&nbsp; &nbsp; &nbsp;&nbsp; /* Field is part of a unique key */<br />
MULTIPLE_KEY_FLAG 8&nbsp; &nbsp;&nbsp; /* Field is part of a key */<br />
BLOB_FLAG&nbsp;&nbsp; 16&nbsp; &nbsp; &nbsp; /* Field is a blob */<br />
UNSIGNED_FLAG&nbsp;&nbsp; 32&nbsp; &nbsp; &nbsp; /* Field is unsigned */<br />
ZEROFILL_FLAG&nbsp;&nbsp; 64&nbsp; &nbsp; &nbsp; /* Field is zerofill */<br />
BINARY_FLAG 128&nbsp; &nbsp;&nbsp; /* Field is binary&nbsp;&nbsp; */<br />
ENUM_FLAG&nbsp;&nbsp; 256&nbsp; &nbsp;&nbsp; /* field is an enum */<br />
AUTO_INCREMENT_FLAG 512&nbsp; &nbsp;&nbsp; /* field is a autoincrement field */<br />
TIMESTAMP_FLAG&nbsp; 1024&nbsp; &nbsp; &nbsp; &nbsp; /* Field is a timestamp */<br />
SET_FLAG&nbsp; &nbsp; 2048&nbsp; &nbsp; &nbsp; &nbsp; /* field is a set */<br />
NO_DEFAULT_VALUE_FLAG 4096&nbsp; /* Field doesn't have default value */<br />
ON_UPDATE_NOW_FLAG 8192&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; /* Field is set to NOW on UPDATE */<br />
NUM_FLAG&nbsp; &nbsp; 32768&nbsp; &nbsp; &nbsp;&nbsp; /* Field is num (for clients) */<br />
PART_KEY_FLAG&nbsp;&nbsp; 16384&nbsp; &nbsp; &nbsp;&nbsp; /* Intern; Part of some key */<br />
GROUP_FLAG&nbsp; 32768&nbsp; &nbsp; &nbsp;&nbsp; /* Intern: Group field */<br />
UNIQUE_FLAG 65536&nbsp; &nbsp; &nbsp;&nbsp; /* Intern: Used by sql_yacc */<br />
BINCMP_FLAG 131072&nbsp; &nbsp; &nbsp; /* Intern: Used by sql_yacc */<br />
GET_FIXED_FIELDS_FLAG (1 &lt;&lt; 18) /* Used to get fields in item tree */<br />
FIELD_IN_PART_FUNC_FLAG (1 &lt;&lt; 19)/* Field part of partition func */</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114883""></a>
  <div class="note">
   <strong class="user">andre at koethur dot de</strong>
   <a href="#114883" class="date">20-Apr-2014 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here are two methods for converting the 'type' and 'flags' attributes to text for debugging purposes. They both use the predefined MYSQLI_ constants to generate the text.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">public static function </span><span class="default">h_type2txt</span><span class="keyword">(</span><span class="default">$type_id</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$types</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if (!isset(</span><span class="default">$types</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$types </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$constants </span><span class="keyword">= </span><span class="default">get_defined_constants</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$constants</span><span class="keyword">[</span><span class="string">'mysqli'</span><span class="keyword">] as </span><span class="default">$c </span><span class="keyword">=&gt; </span><span class="default">$n</span><span class="keyword">) if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^MYSQLI_TYPE_(.*)/'</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">)) </span><span class="default">$types</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">] = </span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$type_id</span><span class="keyword">, </span><span class="default">$types</span><span class="keyword">)? </span><span class="default">$types</span><span class="keyword">[</span><span class="default">$type_id</span><span class="keyword">] : </span><span class="default">NULL</span><span class="keyword">;<br />
}<br />
<br />
public static function </span><span class="default">h_flags2txt</span><span class="keyword">(</span><span class="default">$flags_num</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$flags</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if (!isset(</span><span class="default">$flags</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$flags </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$constants </span><span class="keyword">= </span><span class="default">get_defined_constants</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$constants</span><span class="keyword">[</span><span class="string">'mysqli'</span><span class="keyword">] as </span><span class="default">$c </span><span class="keyword">=&gt; </span><span class="default">$n</span><span class="keyword">) if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/MYSQLI_(.*)_FLAG$/'</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">)) if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">, </span><span class="default">$flags</span><span class="keyword">)) </span><span class="default">$flags</span><span class="keyword">[</span><span class="default">$n</span><span class="keyword">] = </span><span class="default">$m</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$flags </span><span class="keyword">as </span><span class="default">$n </span><span class="keyword">=&gt; </span><span class="default">$t</span><span class="keyword">) if (</span><span class="default">$flags_num </span><span class="keyword">&amp; </span><span class="default">$n</span><span class="keyword">) </span><span class="default">$result</span><span class="keyword">[] = </span><span class="default">$t</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="113949""></a>
  <div class="note">
   <strong class="user">educarme at adinet dot com dot uy</strong>
   <a href="#113949" class="date">20-Dec-2013 01:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Codigos de tipos de datos devueltos por fetch_fields()<br />
<br />
Nombre&nbsp; &nbsp; &nbsp; &nbsp; Codigo<br />
tinyint_&nbsp; &nbsp; 1<br />
boolean_&nbsp; &nbsp; 1<br />
smallint_&nbsp; &nbsp; 2<br />
int_&nbsp; &nbsp; &nbsp; &nbsp; 3<br />
float_&nbsp; &nbsp; &nbsp; &nbsp; 4<br />
double_&nbsp; &nbsp; &nbsp; &nbsp; 5<br />
real_&nbsp; &nbsp; &nbsp; &nbsp; 5<br />
timestamp_&nbsp; &nbsp; 7<br />
bigint_&nbsp; &nbsp; &nbsp; &nbsp; 8<br />
serial&nbsp; &nbsp; &nbsp; &nbsp; 8<br />
mediumint_&nbsp; &nbsp; 9<br />
date_&nbsp; &nbsp; &nbsp; &nbsp; 10<br />
time_&nbsp; &nbsp; &nbsp; &nbsp; 11<br />
datetime_&nbsp; &nbsp; 12<br />
year_&nbsp; &nbsp; &nbsp; &nbsp; 13<br />
bit_&nbsp; &nbsp; &nbsp; &nbsp; 16<br />
decimal_&nbsp; &nbsp; 246<br />
text_&nbsp; &nbsp; &nbsp; &nbsp; 252<br />
tinytext_&nbsp; &nbsp; 252<br />
mediumtext_&nbsp; &nbsp; 252<br />
longtext_&nbsp; &nbsp; 252<br />
tinyblob_&nbsp; &nbsp; 252<br />
mediumblob_&nbsp; &nbsp; 252<br />
blob_&nbsp; &nbsp; &nbsp; &nbsp; 252<br />
longblob_&nbsp; &nbsp; 252<br />
varchar_&nbsp; &nbsp; 253<br />
varbinary_&nbsp; &nbsp; 253<br />
char_&nbsp; &nbsp; &nbsp; &nbsp; 254<br />
binary_&nbsp; &nbsp; &nbsp; &nbsp; 254</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101828""></a>
  <div class="note">
   <strong class="user">AndrewRoz</strong>
   <a href="#101828" class="date">12-Jan-2011 08:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The field info bit-flags used by MySql are:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;(Thanks to ragtag at hotmail dot com)<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; &nbsp; NOT_NULL_FLAG = 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; PRI_KEY_FLAG = 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; UNIQUE_KEY_FLAG = 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; BLOB_FLAG = 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; UNSIGNED_FLAG = 32&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; ZEROFILL_FLAG = 64&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; BINARY_FLAG = 128&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; ENUM_FLAG = 256&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; AUTO_INCREMENT_FLAG = 512&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; TIMESTAMP_FLAG = 1024&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; SET_FLAG = 2048&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; NUM_FLAG = 32768&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; PART_KEY_FLAG = 16384&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; GROUP_FLAG = 32768&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; UNIQUE_FLAG = 65536<br />
*/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
// To test if a flag is set you can use &amp; like so:<br />
<br />
&nbsp; </span><span class="default">$meta </span><span class="keyword">= </span><span class="default">$mysqli_result_object</span><span class="keyword">-&gt;</span><span class="default">fetch_field</span><span class="keyword">();<br />
&nbsp; if (</span><span class="default">$meta</span><span class="keyword">-&gt;</span><span class="default">flags </span><span class="keyword">&amp; </span><span class="default">4</span><span class="keyword">) { <br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">'Unique key flag is set'</span><span class="keyword">; <br />
&nbsp; } <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
</div></div></body></html>
