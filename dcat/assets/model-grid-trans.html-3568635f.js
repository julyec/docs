import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as p,c as i,a as n,b as s,d as o,w as l,e as c}from"./app-c17653d8.js";const r={},u=n("h1",{id:"表格字段翻译",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#表格字段翻译","aria-hidden":"true"},"#"),s(" 表格字段翻译")],-1),d=n("p",null,"数据表格中所有使用到字段的地方都会自动读取语言包中的翻译。",-1),k=c(`<h3 id="语言包名称" tabindex="-1"><a class="header-anchor" href="#语言包名称" aria-hidden="true">#</a> 语言包名称</h3><p>语言包名称需要与控制器名相对应，假如控制器名<code>UserProfileController</code>，则对应的语言包为<code>resources/lang/{当前语言}/user-profile.php</code>（需要转化为小写中划线风格）。</p><p>如果想要更改语言包的名称，可以通过下面两种方式进行更改</p><p>方式1</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Http<span class="token punctuation">\\</span>Controllers<span class="token punctuation">\\</span>AdminController</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">UserController</span> <span class="token keyword">extends</span> <span class="token class-name">AdminController</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * 指定翻译文件名称
     * 
     * <span class="token keyword">@var</span> <span class="token class-name"><span class="token keyword">string</span></span> 
     */</span>
    <span class="token keyword">protected</span> <span class="token variable">$translation</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;user1&#39;</span><span class="token punctuation">;</span>
    
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式2</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">translation</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><p>现在假设语言包<code>resources/lang/zh_CN/user-profile.php</code>内容如下：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;fields&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;name&#39;</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;名称&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;age&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;class&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;班级&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>控制器<code>UserProfileController</code>中设置的<code>Grid</code>字段会自动读取以上翻译：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// 不设置labael会自动读取语言包翻译</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token property">age</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$filter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$filter</span><span class="token operator">-&gt;</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 上面代码等同于</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;名称&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;年龄&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 也可这样使用</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token function">admin_trans_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;id&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token function">admin_trans_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">age</span><span class="token punctuation">(</span><span class="token function">admin_trans_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="公共翻译" tabindex="-1"><a class="header-anchor" href="#公共翻译" aria-hidden="true">#</a> 公共翻译</h3><p>当<code>admin_trans_field</code>函数找不到当前控制器中对指定字段的翻译时，会去<code>global.php</code>中查找。如果某些字段是很多数据表中都有的，可以把这些翻译写在<code>resources/lang/{当前语言}/global.php</code>文件中。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token comment">// 常用的字段放在 global.php 中可以所有控制器共用。</span>
    <span class="token string single-quoted-string">&#39;fields&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;id&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;ID&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;created_at&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;创建时间&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;updated_at&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;更新时间&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15);function v(g,m){const a=t("RouterLink");return p(),i("div",null,[u,d,n("blockquote",null,[n("p",null,[s("{tip} 语言包的详细使用方法请参考"),n("a",null,[o(a,{to:"/zh/guide/trans.html"},{default:l(()=>[s("多语言")]),_:1})]),s("。")])]),k])}const f=e(r,[["render",v],["__file","model-grid-trans.html.vue"]]);export{f as default};
