import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,a as e}from"./app-98225aba.js";const t={},p=e(`<h1 id="菜单" tabindex="-1"><a class="header-anchor" href="#菜单" aria-hidden="true">#</a> 菜单</h1><p><code>Dcat Admin</code>的菜单是保存在数据表<code>admin_menu</code>上的，开发者可以在后台菜单管理页面对菜单进行管理。</p><h3 id="菜单权限" tabindex="-1"><a class="header-anchor" href="#菜单权限" aria-hidden="true">#</a> 菜单权限</h3><p>每个菜单都可以与权限或角色进行绑定，如果不设置则为公共菜单，所有账号都能看到。</p><p>通过<code>admin.menu.bind_permission</code>配置参数可以设置是否允许绑定权限。</p><blockquote><p>{tip} 默认一个菜单最多能绑定一个权限和一个角色。</p></blockquote><h3 id="菜单翻译" tabindex="-1"><a class="header-anchor" href="#菜单翻译" aria-hidden="true">#</a> 菜单翻译</h3><p>在您的语言文件的menu_titles索引中追加菜单标题。 例如“工作单位”标题：</p><p>在<code>resources/lang/{当前语言}/admin.php</code>中</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">...</span>
<span class="token string single-quoted-string">&#39;menu_titles&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;work_units&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Unidades de trabajo&#39;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="菜单缓存" tabindex="-1"><a class="header-anchor" href="#菜单缓存" aria-hidden="true">#</a> 菜单缓存</h3><p>通过<code>admin.menu.cache.enable</code>配置参数可以开启或关闭菜单缓存，建议开启。</p><h3 id="通过menu-add接口动态添加菜单" tabindex="-1"><a class="header-anchor" href="#通过menu-add接口动态添加菜单" aria-hidden="true">#</a> 通过Menu::add接口动态添加菜单</h3><p><code>Dcat Admin</code>还提供了通过数组的方式在代码中即时添加菜单。</p><p>在<code>app\\Admin\\bootstrap.php</code>中添加如下代码：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Layout<span class="token punctuation">\\</span>Menu</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">menu</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Menu</span> <span class="token variable">$menu</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$menu</span><span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;id&#39;</span>            <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 此id只要保证当前的数组中是唯一的即可</span>
            <span class="token string single-quoted-string">&#39;title&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;测试菜单&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;icon&#39;</span>          <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;fa-file-text-o&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;uri&#39;</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;parent_id&#39;</span>     <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> 
            <span class="token string single-quoted-string">&#39;permission_id&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 与权限绑定</span>
            <span class="token string single-quoted-string">&#39;roles&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;test-roles&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 与角色绑定</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;id&#39;</span>            <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 此id只要保证当前的数组中是唯一的即可</span>
            <span class="token string single-quoted-string">&#39;title&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;测试菜单2&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;icon&#39;</span>          <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;fa-file-text-o&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;uri&#39;</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;test-menu2&#39;</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;parent_id&#39;</span>     <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;1&#39;</span><span class="token punctuation">,</span> 
        <span class="token punctuation">]</span><span class="token punctuation">,</span>  
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="为何没有权限的菜单不会自动隐藏" tabindex="-1"><a class="header-anchor" href="#为何没有权限的菜单不会自动隐藏" aria-hidden="true">#</a> 为何没有权限的菜单不会自动隐藏？</h3><p>这个问题是因为你没有给菜单绑定权限或者角色，给你想要无权不显示的菜单绑定权限或者角色即可。</p>`,18),i=[p];function o(c,l){return s(),a("div",null,i)}const u=n(t,[["render",o],["__file","menu.html.vue"]]);export{u as default};
