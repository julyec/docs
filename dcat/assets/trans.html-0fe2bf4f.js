import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as l,b as s,d as n,e,w as t,a as c}from"./app-98225aba.js";const r={},d=s("h1",{id:"多语言",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#多语言","aria-hidden":"true"},"#"),n(" 多语言")],-1),u=s("code",null,"Dcat Admin",-1),g=c(`<h2 id="语言包文件" tabindex="-1"><a class="header-anchor" href="#语言包文件" aria-hidden="true">#</a> 语言包文件</h2><p>语言包文件类型大概如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>resources/lang
    ├── <span class="token punctuation">..</span>.
    └── en
        ├── admin.php   <span class="token comment"># 系统内容语言包，包括菜单标题翻译等都在里面</span>
        ├── global.php  <span class="token comment"># 控制器公共语言包</span>
        ├── <span class="token punctuation">{</span>xxx<span class="token punctuation">}</span>.php   <span class="token comment"># 控制器语言包，一个控制器对应一个语言包</span>
        └── <span class="token punctuation">..</span>.         
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>控制器语言包名称需要与控制器名相对应，例如控制器名<code>UserProfileController</code>，则对应的语言包为<code>resources/lang/{当前语言}/user-profile.php</code>（需要转化为小写中划线风格）。</p><h2 id="控制器语言包内容格式" tabindex="-1"><a class="header-anchor" href="#控制器语言包内容格式" aria-hidden="true">#</a> 控制器语言包内容格式</h2><p>控制器语言包（包括<code>global.php</code>）中的内容分为三个类别：</p><ul><li><code>fields</code> 数据字段的翻译，这个类别下放置数据字段的翻译</li><li><code>labels</code> 自定义内容翻译，这个类别下是对数据字段外的内容翻译，可以是任何自定义内容</li><li><code>options</code> 枚举选项翻译</li></ul><p>下面是例子：</p><p>假设控制器语言包<code>user-profile.php</code>内容如下：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> 

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;labels&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;UserProfile&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;用户中心&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;list&#39;</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;列表&#39;</span><span class="token punctuation">,</span>
        
        <span class="token string single-quoted-string">&#39;pagination&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;range&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;从 :first 到 :last ，总共 :total 条&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;fields&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;name&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;名称&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;published&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;发布&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;author&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;作者&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;status&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;状态&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;options&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;status&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;未激活&#39;</span><span class="token punctuation">,</span>
            <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;已激活&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>则语言包可以这么使用</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name-definition class-name">UserProfileController</span> extend AdminController
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">title</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// labels翻译示例，最终翻译成 “用户中心”</span>
        <span class="token keyword">return</span> <span class="token function">admin_trans_label</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;UserProfile&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>

    <span class="token comment">// fields和options翻译示例</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$grid</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 显示调用语言包翻译，这里会把 “name” 字段翻译成 “名称”</span>
        <span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token function">admin_trans_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 隐式使用语言包翻译，“author” 字段会自动翻译成 “作者”</span>
        <span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token property">author</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 调用options翻译</span>
        <span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token function">admin_trans</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user-profile.options.status&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token variable">$grid</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><h3 id="admin-trans-field" tabindex="-1"><a class="header-anchor" href="#admin-trans-field" aria-hidden="true">#</a> admin_trans_field</h3><p>这个函数用于翻译<code>fields</code>类别下内容，会自动找对应控制器下的翻译文件，如果翻译不存在会去找<code>global.php</code>中的翻译。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_trans_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="admin-trans-label" tabindex="-1"><a class="header-anchor" href="#admin-trans-label" aria-hidden="true">#</a> admin_trans_label</h3><p>这个函数用于翻译<code>labels</code>类别下内容，会自动找对应控制器下的翻译文件，如果翻译不存在会去找<code>global.php</code>中的翻译。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_trans_label</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;Posts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">admin_trans_label</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;pagination.range&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;first&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;last&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;total&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="admin-trans-option" tabindex="-1"><a class="header-anchor" href="#admin-trans-option" aria-hidden="true">#</a> admin_trans_option</h3><p>这个函数用于翻译<code>options</code>类别下内容，会自动找对应控制器下的翻译文件，如果翻译不存在会去找<code>global.php</code>中的翻译。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_trans_option</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="admin-trans" tabindex="-1"><a class="header-anchor" href="#admin-trans" aria-hidden="true">#</a> admin_trans</h3><p>此方法与<code>Laravel</code>框架自带的<code>trans</code>方法用法没有区别，唯一的区别是：当翻译的内容找不到时，会去<code>global.php</code>中再找一次。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// 先去 user.php 中找 first_name 的翻译，如果找不到会去 global.php 中找</span>
<span class="token function">admin_trans</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;user.first_name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="公共翻译文件" tabindex="-1"><a class="header-anchor" href="#公共翻译文件" aria-hidden="true">#</a> 公共翻译文件</h2><p>所有常用的翻译都可以放在<code>resources/lang/{当前语言}/global.php</code>中，当控制器翻译文件不存在时会读取公共翻译文件翻译。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;fields&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;id&#39;</span>                    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;ID&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;name&#39;</span>                  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;名称&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;username&#39;</span>              <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;用户名&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;email&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;邮箱&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;password&#39;</span>              <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;密码&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;labels&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;list&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;列表&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;edit&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;编辑&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;detail&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;详细&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;create&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;创建&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;root&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;顶级&#39;</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;scaffold&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;代码生成器&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;options&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="默认面包屑翻译" tabindex="-1"><a class="header-anchor" href="#默认面包屑翻译" aria-hidden="true">#</a> 默认面包屑翻译</h2><p>例如你的访问路径是<code>/admin/my-users</code>，控制器是<code>MyUserController</code>，那么则可以在控制器对应的翻译文件中加上</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;labels&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;my-users&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;用户&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,31);function k(v,m){const a=i("RouterLink");return o(),l("div",null,[d,s("p",null,[n("在"),u,n("中使用多语言翻译非常方便，数据表格、数据表单、数据详情和模型树的字段都支持自动读取语言包翻译，具体可参考"),e(a,{to:"/zh/guide/model-grid-trans.html"},{default:t(()=>[n("表格字段翻译")]),_:1}),n("、"),e(a,{to:"/zh/guide/model-form-trans.html"},{default:t(()=>[n("表单字段翻译")]),_:1}),n("、"),e(a,{to:"/zh/guide/model-show-trans.html"},{default:t(()=>[n("数据详情字段翻译")]),_:1}),n("。")]),g])}const f=p(r,[["render",k],["__file","trans.html.vue"]]);export{f as default};
