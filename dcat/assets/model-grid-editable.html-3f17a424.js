import{_ as s,b as a,a as t,c as p}from"./wViO5EoPBg-98820e72.js";import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o,c,a as i}from"./app-98225aba.js";const n="/dcat/assets/fYwqtlPKqP-df7d491a.png",l={},u=i(`<h1 id="数据表格行内编辑" tabindex="-1"><a class="header-anchor" href="#数据表格行内编辑" aria-hidden="true">#</a> 数据表格行内编辑</h1><p>数据表格所有使用行内编辑的列字段，都必须在<code>form</code>表单中定义一个相同的表单字段，否则将无法进行编辑。</p><h3 id="文本-editable" tabindex="-1"><a class="header-anchor" href="#文本-editable" aria-hidden="true">#</a> 文本 (editable)</h3><p>启用</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">editable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 编辑成功后刷新页面</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;nickname&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">editable</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果 <img src="`+s+`" alt="" loading="lazy"></p><h3 id="开关-switch" tabindex="-1"><a class="header-anchor" href="#开关-switch" aria-hidden="true">#</a> 开关 (switch)</h3><p>快速将列变成开关组件，使用方法如下：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置颜色</span>
<span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>

<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;#333&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个功能需要你在<code>form</code>表单方法中同样设置一个<code>status</code>字段</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">hidden</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">customFormat</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">saving</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">?</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;关闭&#39;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者</span>
<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">customFormat</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">saving</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">?</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;关闭&#39;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑成功后刷新页面</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="开关组-switchgroup" tabindex="-1"><a class="header-anchor" href="#开关组-switchgroup" aria-hidden="true">#</a> 开关组 (switchGroup)</h3><blockquote><p>{tip} 注意：在<code>grid</code>中对某字段设置<code>switchGroup</code>默认的保存结果是<code>0</code>或<code>1</code>，如需修改可以通过<code>$form-&gt;hidden(xxx)-&gt;saving(...)</code>方法修改。</p></blockquote><p>快速将列变成开关组件组，使用方法如下：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token property">switch_group</span><span class="token operator">-&gt;</span><span class="token function">switchGroup</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;hot&#39;</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;热门&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;new&#39;</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;最新&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;recommend&#39;</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;推荐&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;image.show&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;显示图片&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 更新对应关联模型</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 或</span>
<span class="token comment">// 不写label会自动从翻译文件翻译，具体使用请参照 “字段翻译” 章节</span>
<span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token property">switch_group</span><span class="token operator">-&gt;</span><span class="token function">switchGroup</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;is_new&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;is_hot&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;published&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个功能需要你在<code>form</code>表单方法中同样设置对应的字段</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;hot&#39;</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">customFormat</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">saving</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">?</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;关闭&#39;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">switch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;new&#39;</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">customFormat</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">==</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token operator">-&gt;</span><span class="token function">saving</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token variable">$v</span> <span class="token operator">?</span> <span class="token string single-quoted-string">&#39;打开&#39;</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;关闭&#39;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑成功后刷新页面</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;switch_group&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">switchGroup</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+n+`" alt="" loading="lazy"></p><h3 id="下拉选框-select" tabindex="-1"><a class="header-anchor" href="#下拉选框-select" aria-hidden="true">#</a> 下拉选框 (select)</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Sed ut perspiciatis unde omni&#39;</span><span class="token punctuation">,</span>
    <span class="token number">2</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;voluptatem accusantium doloremque&#39;</span><span class="token punctuation">,</span>
    <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;dicta sunt explicabo&#39;</span><span class="token punctuation">,</span>
    <span class="token number">4</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;laudantium, totam rem aperiam&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>select</code> 也支持参数为闭包，使用方法和<code>editable</code>的<code>select</code>类似。</p><p>编辑成功后刷新页面</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+n+`" alt="" loading="lazy"></p><h3 id="单选框-radio" tabindex="-1"><a class="header-anchor" href="#单选框-radio" aria-hidden="true">#</a> 单选框 (radio)</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">radio</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Sed ut perspiciatis unde omni&#39;</span><span class="token punctuation">,</span>
    <span class="token number">2</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;voluptatem accusantium doloremque&#39;</span><span class="token punctuation">,</span>
    <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;dicta sunt explicabo&#39;</span><span class="token punctuation">,</span>
    <span class="token number">4</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;laudantium, totam rem aperiam&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>radio</code> 也支持参数为闭包，使用方法和<code>editable</code>的<code>select</code>类似。</p><p>编辑成功后刷新页面</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">radio</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+a+`" alt="" loading="lazy"></p><h3 id="多选框-checkbox" tabindex="-1"><a class="header-anchor" href="#多选框-checkbox" aria-hidden="true">#</a> 多选框 (checkbox)</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">checkbox</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Sed ut perspiciatis unde omni&#39;</span><span class="token punctuation">,</span>
    <span class="token number">2</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;voluptatem accusantium doloremque&#39;</span><span class="token punctuation">,</span>
    <span class="token number">3</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;dicta sunt explicabo&#39;</span><span class="token punctuation">,</span>
    <span class="token number">4</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;laudantium, totam rem aperiam&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>checkbox</code> 也支持参数为闭包，使用方法和<code>editable</code>的<code>select</code>类似。</p><p>编辑成功后刷新页面</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;options&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">checkbox</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+t+`" alt="" loading="lazy"></p><h3 id="textarea" tabindex="-1"><a class="header-anchor" href="#textarea" aria-hidden="true">#</a> textarea</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$grid</span><span class="token operator">-&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">textarea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+p+'" alt="" loading="lazy"></p>',43),r=[u];function d(k,g){return o(),c("div",null,r)}const h=e(l,[["render",d],["__file","model-grid-editable.html.vue"]]);export{h as default};
