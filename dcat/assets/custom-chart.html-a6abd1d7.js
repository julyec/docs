import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as c,c as i,a as s,b as n,d as t,w as l,e as u}from"./app-c17653d8.js";const r={},d=s("h1",{id:"自定义图表",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#自定义图表","aria-hidden":"true"},"#"),n(" 自定义图表")],-1),k=s("p",null,[s("code",null,"dcat-admin 1.5"),n("已经移除了所有的图表组件，如果要在页面中加入图表组件，可以参考下面的流程")],-1),v=s("code",null,"chartjs",-1),g={href:"http://chartjs.org/",target:"_blank",rel:"noopener noreferrer"},m=s("code",null,"public/vendor/chartjs",-1),b=u(`<p>然后在<code>app/Admin/bootstrap.php</code>引入组件：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Facades<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">js</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;/vendor/chartjs/dist/Chart.min.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新建视图文件 <code>resources/views/admin/charts/bar.blade.php</code></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string double-quoted-string">&quot;myChart&quot;</span> width<span class="token operator">=</span><span class="token string double-quoted-string">&quot;400&quot;</span> height<span class="token operator">=</span><span class="token string double-quoted-string">&quot;400&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

$<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> ctx <span class="token operator">=</span> document<span class="token operator">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;myChart&quot;</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;2d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> myChart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chart</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       type<span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;bar&#39;</span><span class="token punctuation">,</span>
       <span class="token argument-name">data</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
           labels<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;Red&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Blue&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Yellow&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Green&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Purple&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Orange&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token argument-name">datasets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
               label<span class="token punctuation">:</span> <span class="token string single-quoted-string">&#39;# of Votes&#39;</span><span class="token punctuation">,</span>
               <span class="token argument-name">data</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token argument-name">backgroundColor</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                   <span class="token string single-quoted-string">&#39;rgba(255, 99, 132, 0.2)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(54, 162, 235, 0.2)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(255, 206, 86, 0.2)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(75, 192, 192, 0.2)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(153, 102, 255, 0.2)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(255, 159, 64, 0.2)&#39;</span>
               <span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token argument-name">borderColor</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                   <span class="token string single-quoted-string">&#39;rgba(255,99,132,1)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(54, 162, 235, 1)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(255, 206, 86, 1)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(75, 192, 192, 1)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(153, 102, 255, 1)&#39;</span><span class="token punctuation">,</span>
                   <span class="token string single-quoted-string">&#39;rgba(255, 159, 64, 1)&#39;</span>
               <span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token argument-name">borderWidth</span><span class="token punctuation">:</span> <span class="token number">1</span>
           <span class="token punctuation">}</span><span class="token punctuation">]</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token argument-name">options</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
           scales<span class="token punctuation">:</span> <span class="token punctuation">{</span>
               yAxes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                   ticks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                       beginAtZero<span class="token punctuation">:</span><span class="token constant boolean">true</span>
                   <span class="token punctuation">}</span>
               <span class="token punctuation">}</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以在页面的任何地方引入这个图表视图了：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Content</span> <span class="token variable">$content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token variable">$content</span><span class="token operator">-&gt;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;chart&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$content</span><span class="token operator">-&gt;</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;.....&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token variable">$content</span><span class="token operator">-&gt;</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin.charts.bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function h(q,_){const p=a("ExternalLinkIcon"),e=a("RouterLink");return c(),i("div",null,[d,k,s("p",null,[n("用"),v,n("举例，首先要下载"),s("a",g,[n("chartjs"),t(p)]),n("，放到public目录下面，比如放在"),m,n("目录")]),b,s("p",null,[n("按照上面的方式可以引入任意图表库，多图表页面的布局，参考"),t(e,{to:"/zh/guide/layout.html"},{default:l(()=>[n("视图布局")]),_:1})])])}const y=o(r,[["render",h],["__file","custom-chart.html.vue"]]);export{y as default};
