import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as c,c as i,a as s,b as n,d as t,w as l,e as u}from"./app-c17653d8.js";const r="/dcat/assets/Snipaste_2023-12-05_19-38-13-8fe8b051.png",k={},d=s("h1",{id:"分步表单",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#分步表单","aria-hidden":"true"},"#"),n(" 分步表单")],-1),v=s("h2",{id:"安装",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),n(" 安装")],-1),m={href:"https://github.com/dcat-admin/form-step",target:"_blank",rel:"noopener noreferrer"},g=u(`<h2 id="简单示例" tabindex="-1"><a class="header-anchor" href="#简单示例" aria-hidden="true">#</a> 简单示例</h2><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">form</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name static-context">Form</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Form</span> <span class="token variable">$form</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;分步表单&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;step&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">disableListButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">remember</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 记住表单步骤，默认不开启</span>
            <span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;950px&#39;</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;基本信息&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$info</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&lt;i class=&quot;fa fa-exclamation-circle&quot;&gt;&lt;/i&gt; 表单字段支持前端验证和后端验证混用，前端验证支持H5表单验证以及自定义验证。&#39;</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$info</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;姓名&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">maxLength</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// h5 表单验证</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;年龄&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;number&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;max&#39;</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">help</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;前端验证&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">radio</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;sex&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;性别&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;未知&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;女&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token comment">// 后端验证</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;birthplace&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;籍贯&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">rules</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;required&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">help</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;演示后端字段验证&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;homepage&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;个人主页&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">textarea</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;description&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;简介&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;兴趣爱好&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">tags</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;hobbies&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;爱好&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;唱&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;跳&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;RAP&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;踢足球&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;books&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;书籍&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;music&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;音乐&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token comment">// 事件</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">shown</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">JS</span>
    Dcat<span class="token operator">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;兴趣爱好&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;兴趣爱好&#39;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">JS</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;地址&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;address&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;街道地址&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;post_code&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;邮政编码&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">tel</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;tel&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39; 联系电话&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$form</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$resource</span> <span class="token operator">=</span> <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                    <span class="token string single-quoted-string">&#39;title&#39;</span>       <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;操作成功&#39;</span><span class="token punctuation">,</span>
                    <span class="token string single-quoted-string">&#39;description&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;恭喜您成为第10086位用户&#39;</span><span class="token punctuation">,</span>
                    <span class="token string single-quoted-string">&#39;createUrl&#39;</span>   <span class="token operator">=&gt;</span> <span class="token variable">$resource</span><span class="token punctuation">,</span>
                    <span class="token string single-quoted-string">&#39;backUrl&#39;</span>     <span class="token operator">=&gt;</span> <span class="token variable">$resource</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">;</span>
    
                <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin::form.done-step&#39;</span><span class="token punctuation">,</span> <span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果</p><p><img src="`+r+`" alt="" loading="lazy"></p><h2 id="运行逻辑" tabindex="-1"><a class="header-anchor" href="#运行逻辑" aria-hidden="true">#</a> 运行逻辑</h2><p>分步表单的使用很简单，运行逻辑也与普通表单没有太大区别，下面简单说说分步表单的运行逻辑。</p><blockquote><p>{tip} 分步表单没有 <code>update</code> 的概念。</p></blockquote><h4 id="参数验证" tabindex="-1"><a class="header-anchor" href="#参数验证" aria-hidden="true">#</a> 参数验证</h4><p>当用户点击 <code>下一步</code> 时，会向后端发起请求验证参数是否正确，如果参数不符合要求则显示错误信息，验证通过才会进入下一个步骤。</p><h4 id="表单提交" tabindex="-1"><a class="header-anchor" href="#表单提交" aria-hidden="true">#</a> 表单提交</h4><p>当进行到最后一步时，会对所有步骤的表单参数一起提交到后端并进行验证，如果参数不符合要求则显示错误信息，验证通过则保存表单数据，保存的方法与普通表单完全一致。</p><blockquote><p>{tip} 最后保存表单的方法是 <code>Form::store</code>。</p></blockquote><h4 id="完成页面" tabindex="-1"><a class="header-anchor" href="#完成页面" aria-hidden="true">#</a> 完成页面</h4><p>表单保存完成之后会显示完成页面，此步骤无法忽略。</p><h2 id="编辑表单" tabindex="-1"><a class="header-anchor" href="#编辑表单" aria-hidden="true">#</a> 编辑表单</h2><p>分步表单默认是没有编辑功能的，用户输入了长步骤的表单之后不需要再分步编辑，因此如果需要对分步表单进行编辑，可以参考以下方式</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">form</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name static-context">Form</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Form</span> <span class="token variable">$form</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断是否是编辑页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">isEditing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;年龄&#39;</span><span class="token punctuation">)</span>
                 <span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                 <span class="token operator">-&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;number&#39;</span><span class="token punctuation">)</span>
                 <span class="token operator">-&gt;</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;max&#39;</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
                 <span class="token operator">-&gt;</span><span class="token function">help</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;前端验证&#39;</span><span class="token punctuation">)</span>
        
            <span class="token operator">...</span>
            
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
    
        <span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">remember</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;950px&#39;</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;基本信息&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>StepForm</span> <span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token variable">$info</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&lt;i class=&quot;fa fa-exclamation-circle&quot;&gt;&lt;/i&gt; 表单字段支持前端验证和后端验证混用，前端验证支持H5表单验证以及自定义验证。&#39;</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token class-name static-context">Alert</span><span class="token operator">::</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token variable">$info</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;姓名&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">maxLength</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// h5 表单验证</span>
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;年龄&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;number&#39;</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">attribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;max&#39;</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
                    <span class="token operator">-&gt;</span><span class="token function">help</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;前端验证&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">radio</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;sex&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;性别&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;未知&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;女&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
                <span class="token operator">...</span>
    
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;兴趣爱好&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>StepForm</span> <span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token operator">...</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">-&gt;</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$form</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token operator">...</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="功能接口" tabindex="-1"><a class="header-anchor" href="#功能接口" aria-hidden="true">#</a> 功能接口</h2><h3 id="设置容器最大宽度" tabindex="-1"><a class="header-anchor" href="#设置容器最大宽度" aria-hidden="true">#</a> 设置容器最大宽度</h3><p>默认 <code>1000px</code>。</p><blockquote><p>{tip} 此方法只针对大屏幕，手机端页面会自动调节大小。</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;900px&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="记住表单数据" tabindex="-1"><a class="header-anchor" href="#记住表单数据" aria-hidden="true">#</a> 记住表单数据</h3><p>开启此功能之后，当用户点击 <code>下一步</code> 按钮并且参数验证通过后，会把表单数据保存在 <code>session</code> 中，直到整个分步表单保存完毕之后才会销毁。</p><blockquote><p>{tip} 此功能默认不开启。</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// 开启</span>
<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">remember</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 关闭</span>
<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">remember</span><span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置容器间距" tabindex="-1"><a class="header-anchor" href="#设置容器间距" aria-hidden="true">#</a> 设置容器间距</h3><p>默认值 <code>30px 18px 30px</code>。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;30px 18px 30px&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="监听页面离开事件" tabindex="-1"><a class="header-anchor" href="#监听页面离开事件" aria-hidden="true">#</a> 监听页面离开事件</h3><p>监听所有步骤表单页面离开事件，可添加多个。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">leaving</span><span class="token punctuation">(</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">JS</span>
     <span class="token comment">// 获取当前页面的步骤索引</span>
     <span class="token keyword">var</span> index <span class="token operator">=</span> args<span class="token operator">.</span>index<span class="token punctuation">;</span> 
                 
     Dcat<span class="token operator">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;你将要离开第 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string double-quoted-string">&quot; 个页面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">// args变量是一个js对象，包含当前事件对象、当前步骤选项、表单对象和表单值等字段。</span>
     console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;leaving&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">// 获取当前事件对象</span>
     <span class="token keyword">var</span> evt <span class="token operator">=</span> args<span class="token operator">.</span>event<span class="token punctuation">;</span>
     <span class="token comment">// 获取步骤表单标题tap对象</span>
     <span class="token keyword">var</span> tab <span class="token operator">=</span> args<span class="token operator">.</span>tab<span class="token punctuation">;</span>
     <span class="token comment">// 获取动向是前往上一步还是下一步页面：&quot;forward&quot;、&quot;backward&quot;</span>
     <span class="token keyword">var</span> direction <span class="token operator">=</span> args<span class="token operator">.</span>direction<span class="token punctuation">;</span>
     <span class="token comment">// 获取当前步骤的表单JQ对象</span>
     <span class="token keyword">var</span> <span class="token variable">$form</span> <span class="token operator">=</span> args<span class="token operator">.</span>form<span class="token punctuation">;</span>
     <span class="token comment">// 获取当前步骤页的表单值</span>
     <span class="token keyword">var</span> formArray <span class="token operator">=</span> args<span class="token operator">.</span>formArray<span class="token punctuation">;</span>
     
     <span class="token comment">// 获取指定步骤的表单JQ对象</span>
     <span class="token keyword">var</span> <span class="token variable">$firstForm</span> <span class="token operator">=</span> args<span class="token operator">.</span><span class="token function">getForm</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// 获取指定步骤的表单值</span>
     <span class="token keyword">var</span> firstFormArray <span class="token operator">=</span> args<span class="token operator">.</span><span class="token function">getFormArray</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">// 停止离开当前页面</span>
     <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">JS</span>    
<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">leaving</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="监听页面显示事件" tabindex="-1"><a class="header-anchor" href="#监听页面显示事件" aria-hidden="true">#</a> 监听页面显示事件</h3><p>监听所有步骤表单页面显示事件，可添加多个。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">shown</span><span class="token punctuation">(</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">JS</span>
     <span class="token comment">// 获取当前页面的步骤索引</span>
     <span class="token keyword">var</span> index <span class="token operator">=</span> args<span class="token operator">.</span>index<span class="token punctuation">;</span> 
                 
     Dcat<span class="token operator">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;当前显示的是第 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string double-quoted-string">&quot; 个页面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token comment">// args变量的值与“leaving”事件的值相同。</span>
     console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;shown&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">JS</span>    
<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">shown</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="增加步骤表单" tabindex="-1"><a class="header-anchor" href="#增加步骤表单" aria-hidden="true">#</a> 增加步骤表单</h3><p>步骤表单支持所有表单字段。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Form</span><span class="token punctuation">;</span>

<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;标题&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>StepForm</span> <span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;username&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rules</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;required&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="监听步骤页面离开事件" tabindex="-1"><a class="header-anchor" href="#监听步骤页面离开事件" aria-hidden="true">#</a> 监听步骤页面离开事件</h4><p>监听当前步骤页面离开事件，支持监听多次。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Form</span><span class="token punctuation">;</span>

<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;基本信息&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>StepForm</span> <span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    
    <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">leaving</span><span class="token punctuation">(</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">JS</span>
    
    Dcat<span class="token operator">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;你将要离开 基本信息 页面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// args变量是一个js对象，包含当前事件对象、当前步骤选项、表单对象和表单值等字段。</span>
    console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;离开 基本信息&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 获取当前事件对象</span>
    <span class="token keyword">var</span> evt <span class="token operator">=</span> args<span class="token operator">.</span>event<span class="token punctuation">;</span>
    <span class="token comment">// 获取当前页面的步骤索引</span>
    <span class="token keyword">var</span> index <span class="token operator">=</span> args<span class="token operator">.</span>index<span class="token punctuation">;</span>
    <span class="token comment">// 获取步骤表单标题tap对象</span>
    <span class="token keyword">var</span> tab <span class="token operator">=</span> args<span class="token operator">.</span>tab<span class="token punctuation">;</span>
    <span class="token comment">// 获取动向是前往上一步还是下一步页面：&quot;forward&quot;、&quot;backward&quot;</span>
    <span class="token keyword">var</span> direction <span class="token operator">=</span> args<span class="token operator">.</span>direction<span class="token punctuation">;</span>
    <span class="token comment">// 获取当前步骤的表单JQ对象</span>
    <span class="token keyword">var</span> <span class="token variable">$form</span> <span class="token operator">=</span> args<span class="token operator">.</span>form<span class="token punctuation">;</span>
    <span class="token comment">// 获取当前步骤页的表单值</span>
    <span class="token keyword">var</span> formArray <span class="token operator">=</span> args<span class="token operator">.</span>formArray<span class="token punctuation">;</span>
    
    <span class="token comment">// 获取指定步骤的表单JQ对象</span>
    <span class="token keyword">var</span> <span class="token variable">$firstForm</span> <span class="token operator">=</span> args<span class="token operator">.</span><span class="token function">getForm</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取指定步骤的表单值</span>
    <span class="token keyword">var</span> firstFormArray <span class="token operator">=</span> args<span class="token operator">.</span><span class="token function">getFormArray</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 停止离开当前页面</span>
    <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">JS</span>    
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 监听多次</span>
    <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">leaving</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="监听步骤页面显示事件" tabindex="-1"><a class="header-anchor" href="#监听步骤页面显示事件" aria-hidden="true">#</a> 监听步骤页面显示事件</h4><p>监听当前步骤页面显示事件，支持监听多次。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Form</span><span class="token punctuation">;</span>

<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;基本信息&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>StepForm</span> <span class="token variable">$step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    
    <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">shown</span><span class="token punctuation">(</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">JS</span>
    
    Dcat<span class="token operator">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;当前步骤是 基本信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// args变量的值与“leaving”事件的值相同。</span>
    console<span class="token operator">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;显示 基本信息&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">JS</span>    
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 监听多次</span>
    <span class="token variable">$step</span><span class="token operator">-&gt;</span><span class="token function">shown</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置完成页面" tabindex="-1"><a class="header-anchor" href="#设置完成页面" aria-hidden="true">#</a> 设置完成页面</h3><p>当所有步骤都完成之后会显示完成页面，系统提供一个默认的完成页面，开发者也可以通过以下方法自定义完成页面要显示的内容。</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Form</span><span class="token punctuation">;</span>

<span class="token variable">$form</span><span class="token operator">-&gt;</span><span class="token function">multipleSteps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified type-declaration">Form<span class="token punctuation">\\</span>DoneStep</span> <span class="token variable">$done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 获取新增ID</span>
    <span class="token comment">// 由 Repository::store 返回的值</span>
    <span class="token variable">$newId</span> <span class="token operator">=</span> <span class="token variable">$done</span><span class="token operator">-&gt;</span><span class="token function">getNewId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 返回你要显示的内容，可以使一个视图也可以是一个字符串。</span>
    <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,47);function b(f,h){const p=a("ExternalLinkIcon"),e=a("RouterLink");return c(),i("div",null,[d,v,s("p",null,[n("前往"),s("a",m,[n("https://github.com/dcat-admin/form-step"),t(p)]),n("下载分步表单扩展，然后安装并启用。")]),s("blockquote",null,[s("p",null,[n("{tip} 扩展安装请参考文档"),t(e,{to:"/zh/guide/extension-f.html"},{default:l(()=>[n("扩展基本使用")]),_:1}),n("章节。")])]),g])}const x=o(k,[["render",b],["__file","model-form-step.html.vue"]]);export{x as default};
