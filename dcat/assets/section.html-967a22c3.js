import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as s,e as t}from"./app-c17653d8.js";const e={},o=t(`<h1 id="section" tabindex="-1"><a class="header-anchor" href="#section" aria-hidden="true">#</a> Section</h1><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p><code>Dcat Admin</code> provides the <code>section</code> feature that allows developers to change the content of various sections of the page at runtime without having to modify the template directly.</p><blockquote><p>{tip} <code>Dcat Admin</code>&#39;s <code>section</code> function refers to <code>Blade</code> template engine&#39;s <code>@section</code> function and <code>Wordpress</code> <code>add_filter</code> function, if the developer understands one of these two can quickly start.</p></blockquote><h2 id="use" tabindex="-1"><a class="header-anchor" href="#use" aria-hidden="true">#</a> Use</h2><h3 id="admin-section" tabindex="-1"><a class="header-anchor" href="#admin-section" aria-hidden="true">#</a> admin_section</h3><p>Output <code>section</code> content, this function is similar to the <code>@yield</code> command in the <code>Blade</code> template and the <code>apply_filters</code> function in <code>WordPress</code>.</p><p>Parameters.</p><ul><li><code>$section</code> {string} Block Name</li><li><code>$default</code> {string|Closure} Default Value</li><li>The <code>$options</code> {array} parameter, please note that the value of <code>key</code> must start with an English letter, otherwise it cannot be retrieved.</li></ul><p>Returned values:</p><ul><li>{string}</li></ul><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token function">admin_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;count&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="admin-inject-section" tabindex="-1"><a class="header-anchor" href="#admin-inject-section" aria-hidden="true">#</a> admin_inject_section</h3><p>Note the content of <code>section</code>, this function is similar to the <code>add_filter</code> function in <code>WordPress</code>.</p><p>Parameters:</p><ul><li><code>$section</code> {string} Block Name</li><li><code>$content</code> {string|Illuminate\\Contracts\\Support\\Renderable|Closure} block content</li><li>If <code>$append</code> {bool} is passed as <code>true</code>, whether to append it to the last injected content or not, if <code>false</code> is passed, then the previous injected content will be replaced.</li><li><code>$priority</code> {int} Default <code>10</code>, priority, the higher the value, the higher the order.</li></ul><p>When the second argument is passed to the anonymous function, the anonymous function receives an <code>Illuminate\\Support\\Fluent</code> object. The anonymous function receives an <code>IlluminateSupport\\Fluent</code> object that contains the contents of the <code>previous</code> attribute, which can be obtained by accessing the <code>section</code> attribute; if the <code>section</code> has other parameters, they can also be obtained by accessing the attribute, as follows:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">,</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;&lt;navigation&gt;1&lt;/navigation&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Get the last content injected into this block</span>
    <span class="token variable">$previous</span> <span class="token operator">=</span> <span class="token variable">$options</span><span class="token operator">-&gt;</span><span class="token property">previous</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Get custom parameters</span>
    <span class="token variable">$count</span> <span class="token operator">=</span> <span class="token variable">$options</span><span class="token operator">-&gt;</span><span class="token property">count</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;&lt;navigation&gt;count:<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$count</span><span class="token punctuation">}</span></span>&lt;/navigation&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// output</span>
<span class="token keyword">echo</span> <span class="token function">admin_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;count&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// The final output is</span>
<span class="token comment">// &lt;navigation&gt;count:4&lt;/navigation&gt;&lt;navigation&gt;1&lt;/navigation&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="admin-inject-default-section" tabindex="-1"><a class="header-anchor" href="#admin-inject-default-section" aria-hidden="true">#</a> admin_inject_default_section</h3><p>Inject default content, which does not take effect if the <code>admin_inject_section</code> function is called to inject content (either before or after).</p><p>parameters：</p><ul><li><code>$section</code> {string} block name</li><li><code>$content</code> {string|Illuminate\\Contracts\\Support\\Renderable|Closure} Block content, consistent with the second parameter of <code>admin_inject_section</code></li></ul><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_default_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;No data available&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="admin-has-section" tabindex="-1"><a class="header-anchor" href="#admin-has-section" aria-hidden="true">#</a> admin_has_section</h3><p>This function returns a value of type <code>bool</code> to determine if content has been injected into <code>section</code>.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">admin_has_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="admin-has-default-section" tabindex="-1"><a class="header-anchor" href="#admin-has-default-section" aria-hidden="true">#</a> admin_has_default_section</h3><p>This function returns a value of type <code>bool</code> to determine if default content has been injected into <code>section</code>.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">admin_has_default_section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;navigation&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="system-predefined-blocks" tabindex="-1"><a class="header-anchor" href="#system-predefined-blocks" aria-hidden="true">#</a> System predefined blocks</h2><p>The <code>Dcat Admin</code> predefines blocks through which the developer can change the content of the page.</p><p>All predefined block names are defined in the <code>Dcat\\Admin\\Admin::SECTION</code> class constant, which is accessed by way of class constants.</p><h3 id="enter-content-into-the-head-tag" tabindex="-1"><a class="header-anchor" href="#enter-content-into-the-head-tag" aria-hidden="true">#</a> Enter content into the &lt;head&gt; tag</h3><p>Here the <code>Admin::SECTION[&#39;HEAD&#39;]</code> block allows you to enter content into the <code>&lt;head&gt;</code> tag.</p><p>Add the following code to <code>app\\Admin\\bootstrap.php</code>：</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>

<span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;HEAD&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">&#39;&lt;script src=&quot;//oss.maxcdn.com/respond/1.4.2/respond.min.js&quot;&gt;&lt;/script&gt;&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enter-content-into-the-body-tag" tabindex="-1"><a class="header-anchor" href="#enter-content-into-the-body-tag" aria-hidden="true">#</a> Enter content into the &lt;body&gt; tag</h3><p>The <code>Admin::SECTION[&#39;BODY_INNER_BEFORE&#39;]</code> block allows you to enter content into the beginning of the interior of the <code>&lt;body&gt;</code> tag.</p><p>The <code>Admin::SECTION[&#39;BODY_INNER_AFTER&#39;]</code> block allows you to enter content into the end position inside the <code>&lt;body&gt;</code> tag.</p><h3 id="enter-content-into-the-div-id-app-tag" tabindex="-1"><a class="header-anchor" href="#enter-content-into-the-div-id-app-tag" aria-hidden="true">#</a> Enter content into the &lt;div id=&quot;app&quot;&gt; tag</h3><p>The <code>Admin::SECTION[&#39;APP_INNER_BEFORE&#39;]</code> block allows you to enter content into the beginning of the <code>&lt;div id=&quot;app&quot;&gt;</code> tag interior.</p><p>The <code>Admin::SECTION[&#39;APP_INNER_AFTER&#39;]</code> block allows you to enter content into the end position inside the <code>&lt;div id=&quot;app&quot;&gt;</code> tag.</p><h3 id="changing-the-contents-of-the-user-information-panel-in-the-top-navigation-bar" tabindex="-1"><a class="header-anchor" href="#changing-the-contents-of-the-user-information-panel-in-the-top-navigation-bar" aria-hidden="true">#</a> Changing the contents of the user information panel in the top navigation bar</h3><p>The <code>Admin::SECTION[&#39;NAVBAR_USER_PANEL&#39;]</code> block allows you to change the contents of the user information panel in the top navigation bar.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;NAVBAR_USER_PANEL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin::partials.navbar-user-panel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="change-the-content-in-front-of-the-top-navigation-bar" tabindex="-1"><a class="header-anchor" href="#change-the-content-in-front-of-the-top-navigation-bar" aria-hidden="true">#</a> Change the content in front of the top navigation bar</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;NAVBAR_BEFORE&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="change-the-content-behind-the-top-navigation-bar" tabindex="-1"><a class="header-anchor" href="#change-the-content-behind-the-top-navigation-bar" aria-hidden="true">#</a> Change the content behind the top navigation bar</h3><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;NAVBAR_AFTER&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="changing-the-content-behind-the-user-information-panel-in-the-top-navigation-bar" tabindex="-1"><a class="header-anchor" href="#changing-the-content-behind-the-user-information-panel-in-the-top-navigation-bar" aria-hidden="true">#</a> Changing the content behind the user information panel in the top navigation bar</h3><p>The <code>Admin::SECTION[&#39;NAVBAR_AFTER_USER_PANEL&#39;]</code> block allows you to change the content behind the user information panel in the top navigation bar.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;NAVBAR_AFTER_USER_PANEL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string heredoc-string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>HTML</span>
    &lt;li&gt;
        &lt;a href=&quot;#&quot; data-toggle=&quot;control-sidebar&quot;&gt;&lt;i class=&quot;fa fa-gears&quot;&gt;&lt;/i&gt;&lt;/a&gt;
    &lt;/li&gt;
<span class="token delimiter symbol">HTML<span class="token punctuation">;</span></span></span>    
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="changing-the-contents-of-the-menu-bar-user-information-panel" tabindex="-1"><a class="header-anchor" href="#changing-the-contents-of-the-menu-bar-user-information-panel" aria-hidden="true">#</a> Changing the contents of the menu bar user information panel</h3><p>The <code>Admin::SECTION[&#39;LEFT_SIDEBAR_USER_PANEL&#39;]</code> block allows you to change the contents of the user information panel in the menu bar.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>  <span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;LEFT_SIDEBAR_USER_PANEL&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin::partials.sidebar-user-panel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="changing-the-menu-bar" tabindex="-1"><a class="header-anchor" href="#changing-the-menu-bar" aria-hidden="true">#</a> Changing the menu bar</h3><p>The entire menu bar content can be changed with <code>Admin::SECTION[&#39;LEFT_SIDEBAR_MENU&#39;]</code>.</p><blockquote><p>{tip} The menu of <code>Dcat Admin</code> is built by injecting default content into the <code>LEFT_SIDEBAR_MENU</code> block, which allows the developer to replace the system&#39;s default menu rendering logic.</p></blockquote><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Support<span class="token punctuation">\\</span>Helper</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Dcat<span class="token punctuation">\\</span>Admin<span class="token punctuation">\\</span>Admin</span><span class="token punctuation">;</span>

<span class="token function">admin_inject_section</span><span class="token punctuation">(</span><span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token constant">SECTION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;LEFT_SIDEBAR_MENU&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$menuModel</span> <span class="token operator">=</span> <span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin.database.menu_model&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token variable">$builder</span> <span class="token operator">=</span> <span class="token class-name static-context">Admin</span><span class="token operator">::</span><span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token variable">$html</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name static-context">Helper</span><span class="token operator">::</span><span class="token function">buildNestedArray</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token variable">$menuModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">allNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;admin::partials.menu&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;item&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$item</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;builder&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$builder</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token variable">$html</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,59),i=[o];function c(p,l){return a(),s("div",null,i)}const r=n(e,[["render",c],["__file","section.html.vue"]]);export{r as default};
