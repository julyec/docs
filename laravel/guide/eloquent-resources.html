<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script type="text/javascript" async="" src="/laravel/iconify-icon@1.js" data-loaded="true"></script><meta name="keywords" content="php,go,python,c++,nsis"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?800fce94596cf587cd6a0e80314e5360";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><title>Eloquent: API Resources | Laravel 10 documents</title><meta name="description" content="A elegant web framework">
    <style>
      html {
        background: #fff;
      }

      html[data-theme="dark"] {
        background: #1d1e1f;
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/laravel/assets/style-46281858.css" as="style"><link rel="stylesheet" href="/laravel/assets/style-46281858.css">
    <link rel="modulepreload" href="/laravel/assets/app-06635a3b.js"><link rel="modulepreload" href="/laravel/assets/eloquent-resources.html-c85e3f20.js"><link rel="modulepreload" href="/laravel/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/laravel/assets/eloquent-resources.html-596497b2.js"><link rel="prefetch" href="/laravel/assets/index.html-9e78edeb.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-3eb129c9.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-16026b94.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-e6444e41.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-8f01857a.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-4ab5af1f.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-37f53dbb.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-736fe8d3.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-5526a6eb.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-1fe337d2.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-436613f9.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-9ba2a803.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-2127a627.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-92cebf87.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-1fbfa0d8.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-c02e4d43.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-186bcac9.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-4d67c044.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-d8305910.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-a3584e85.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-a3ff95a6.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-ce8ef6c6.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-f404cc53.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-246cbe50.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-e0a33bb7.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-46536e12.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-f69e36ed.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-a7c4bb26.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-fb190607.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-aedd0963.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-16d62aae.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-9ae74927.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-631034d0.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-f95830ad.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-60a9feb6.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-908b3830.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-e0e88961.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-f9a2c759.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-aa5c9036.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-ecf151ef.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-120ce39c.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-4e5e9aa5.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-eac89759.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-b38093b9.js" as="script"><link rel="prefetch" href="/laravel/assets/license.html-2d87adb7.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-476bc2c3.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-c0cf85fa.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-bc0bc0ed.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-5dc778ea.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-53b0c70e.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-5eefc455.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-963160d0.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-01794c03.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-e5f05ed1.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-d78d4aec.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-83545712.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-cd29c392.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-bc49eb95.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-5919604b.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-c2b910a7.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-442480b8.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-8726703d.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-abbf2210.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-8e43e615.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-e7c3ca2c.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-0559c6fe.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-0a1d99de.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-d9b237f4.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-b33bc819.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-39c70396.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-efea7cd9.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-99374fbd.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-1a9aaa67.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-4215324d.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-207b017e.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-28ad3c79.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-d5f86318.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-1da99475.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-cde9fd75.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-02b509f7.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-8f872f73.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-b6922c8c.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-c6404ec1.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-828c8c79.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-1158e1c7.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b395445f.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-59db2291.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-da9c5905.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-063d0ca2.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-4707d3ec.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-c7879038.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-c603ed7a.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-49320c1f.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-b54a3b02.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-abb0b0fc.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-7a39b868.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-3bc1d663.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-21bf79bb.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-53643402.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-5f8b063f.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-0246bfec.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-124d486c.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-b3882973.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-65220484.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-0c28c3a4.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-f21bb685.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-8ffc9fc9.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-bb971caa.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-e0e19db0.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-d4b49313.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-fcf0f033.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-e493b80c.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-833db6fb.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-fc5c1c43.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-c7c8af09.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-2f37a967.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-0bb9c90b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-b82ba91c.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-48551c32.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-572ae102.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-926c6e7e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-b9919a26.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-8f0181cf.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-6db2ec64.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-505e6842.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-375980a6.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-3713daf8.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-de9b09a4.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-6ebb6ef2.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-ec1df67e.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-0d7f9dc8.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-a3e26276.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-18cdcea2.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-98b5c07c.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-7ecf3fa7.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-0ef6e3a8.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-38dec5ee.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-3cc7d1c5.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-2b6fc47f.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-05c57a06.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-e97ba9a9.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-beb57d20.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-9ed5c7b6.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-c0950f9f.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-3b2ac5f2.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-5b035a48.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-5eecd5c6.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-c7fb9580.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-f9fde12f.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-bd7d42b1.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-02a00e2a.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-9a74b568.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-65c6dc80.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-1bc5cfc2.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-366f1dd1.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-eb57aecd.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-0266a4c7.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-da544f44.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-75b01a9a.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-ae1ecf62.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-fc7df5d5.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-1ed64841.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-3dfd0438.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-f3977a35.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-72f1388a.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-8847d30c.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-4dd2a769.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-6836a2ed.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-583f57f1.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-83d124cc.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-c831c46d.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-ce5fccd0.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-1e6b0778.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-42b8cbe3.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-e1a9edec.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-12f6cdca.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-549a7d86.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-fb8fcda2.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b8a7cfa0.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-e081762a.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-508efafc.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-0412a8e2.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-9d2380d0.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-4b65c313.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-f442e9b2.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-fc4a9c50.js" as="script"><link rel="prefetch" href="/laravel/assets/404.html-fce79bde.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-ebda9a17.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-0dab9b40.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-8048da3d.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-6af0b259.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-0341c66f.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-c4c647eb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-aa7de2dc.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-7993dca7.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-6c43b2d4.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-ee40829a.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-aed7618a.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-2341e875.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-fe4c1556.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-39a551b0.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-f103780c.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-b0b73ef3.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-62706687.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-326e47cd.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-d1a7fa7e.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-e0475b97.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-c0b9d9b5.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-46ffd6c2.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-c2fb46bd.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-a9442786.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-56ff1213.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-681b29be.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-f10a4fc1.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-4a11e789.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-19f9d3ce.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-15f9020b.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-fa77321b.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-0b90206c.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-6760beac.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-da3fd154.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-8c14d43b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-bb3cbf07.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-8ef6214e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-165cd71e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-8e1aa600.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-0eac2a01.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-c74972d9.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-994b491f.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-a380aa2a.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-df29e168.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-9784782c.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-35cc8603.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-97ae163a.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-afa5f3d9.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-cb2e6752.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-851224a8.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-d8b31fb8.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-f6f9ec70.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-3879d7b5.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-c067a2fe.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-5209d575.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-1c77daf6.js" as="script"><link rel="prefetch" href="/laravel/assets/license.html-e2cacf83.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-c682939f.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-595824c1.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-6bb45cb3.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-e143b998.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-0e9532a4.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-97759fbd.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-0efa4e6c.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-38d32bc2.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-a46ea871.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-ebbcb527.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-245e010f.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-7de4db75.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-cd6dcfd8.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-1860da86.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-a33b221c.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-5581c8d4.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-36fb85d3.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-3db08079.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-ce416df4.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-dabeb18d.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-e182beec.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-a1cffed0.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-60792899.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-9a76b573.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-606dbbb9.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-614f1b1d.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-41df6e68.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-a7dd9678.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-9dfe8ba7.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-8609c086.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-f5432ad1.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-10c1089d.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-7025e113.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-87993d2a.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-fd170c72.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-d798ffba.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-747ffaa9.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-0af7a4a0.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-6eea02e9.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-32a1ab67.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b56bff84.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-b1d6ac85.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-f99612c7.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-5522a8af.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-fa14a1b1.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-928033d4.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-5b921a1a.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-114dcd3c.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-676a6a81.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-fa4ea573.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-51b5a2af.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-d68433c0.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-25aede41.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-eb34d678.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-77e45037.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-94bddb6a.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-373a78df.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-9d83b841.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-07c36bde.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-d10e6c05.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-4d29d032.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-eee8ea45.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-3ad5a080.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-4c479c11.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-89332845.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-7fca1e15.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-c9a16897.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-512d4867.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-3104e647.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-a357a47b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-1f432edf.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-f5f2ff6a.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-75f82498.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-02d40ab0.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-30f0c261.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-898f7769.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-b78aa18b.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-7252ec51.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-0f064596.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-312fd956.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-50c9abb1.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-722a2988.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-8e4f60b8.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-e40e6a18.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-60a84d7c.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-fb711409.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-3e65f9c4.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-e537327b.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-9629d160.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-31c89601.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-4d5d11a0.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-162d431c.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-00d7f08c.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-985857a1.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-2567af65.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-ee56a192.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-854ff3dc.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-4fd29293.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-ea5b9735.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-5c1412bf.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-2a552c6e.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-34391b59.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-4021e6c1.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-6ab80d2b.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-c1c12792.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-7371e766.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-501b821f.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-59bf85dc.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-c5c3a18d.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-20426c14.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-c9f2154c.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-4b855471.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-de05ef5d.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-6eab87f6.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-f3d0f5ce.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-ab06b367.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-3c89d072.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-a1b539f8.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-956fd8e3.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-e55811b8.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-326cd93f.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-9f5969e1.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-8ba57e34.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-312d26da.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-277896f3.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-bf67e2e5.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-5ff2d671.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-1454f089.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-2790e6f2.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-30ddfd16.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-a1de2f9c.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-796bb0fb.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-2ae2ff0a.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b8f033fc.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-f96ad06e.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-9ad3e22b.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-feba0cb4.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-a95b1da8.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-6134c4c4.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-aabc3de9.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-56e9e2e9.js" as="script"><link rel="prefetch" href="/laravel/assets/404.html-1c6a83eb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-a9330e18.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-c5f51f78.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-4da86738.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-83a87221.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-1b8b6fec.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-618032ce.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-f7ccfbd4.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-cd055af2.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-7157aa3b.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-122d0afb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-21f435f7.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-531b0dec.js" as="script"><link rel="prefetch" href="/laravel/assets/mermaid.core-6651ce10.js" as="script"><link rel="prefetch" href="/laravel/assets/VuePlayground-b9b32cef.js" as="script"><link rel="prefetch" href="/laravel/assets/photoswipe.esm-1464cdb9.js" as="script"><link rel="prefetch" href="/laravel/assets/pageview-c4318637.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/laravel/"><!----><!----><span class="vp-site-name">Laravel 10 documents</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Prologue" class="vp-link nav-link nav-link" href="/laravel/guide/releases.html"><!---->Prologue<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Getting Started" class="vp-link nav-link nav-link" href="/laravel/guide/installation.html"><!---->Getting Started<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Architecture Concepts" class="vp-link nav-link nav-link" href="/laravel/guide/lifecycle.html"><!---->Architecture Concepts<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="The Basics" class="vp-link nav-link nav-link" href="/laravel/guide/routing.html"><!---->The Basics<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Digging Deeper" class="vp-link nav-link nav-link" href="/laravel/guide/artisan.html"><!---->Digging Deeper<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Security" class="vp-link nav-link nav-link" href="/laravel/guide/authentication.html"><!---->Security<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Database" class="vp-link nav-link nav-link" href="/laravel/guide/database.html"><!---->Database<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Eloquent ORM" class="vp-link nav-link nav-link" href="/laravel/guide/eloquent.html"><!---->Eloquent ORM<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Testing" class="vp-link nav-link nav-link" href="/laravel/guide/testing.html"><!---->Testing<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Packages" class="vp-link nav-link nav-link" href="/laravel/guide/sanctum.html"><!---->Packages<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link active nav-link active" href="/laravel/guide/eloquent-resources.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link nav-link" href="/laravel/zh/guide/eloquent-resources.html"><!---->简体中文<!----></a></li></ul></button></div></div><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Prologue</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Getting Started</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Architecture Concepts</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">The Basics</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Digging Deeper</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Security</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Database</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Eloquent ORM</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Eloquent: Getting Started" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent.html"><!---->Eloquent: Getting Started<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: Relationships" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent-relationships.html"><!---->Eloquent: Relationships<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: Collections" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent-collections.html"><!---->Eloquent: Collections<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: Mutators &amp; Casting" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent-mutators.html"><!---->Eloquent: Mutators &amp; Casting<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: API Resources" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/laravel/guide/eloquent-resources.html"><!---->Eloquent: API Resources<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Introduction" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#introduction"><!---->Introduction<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Generating Resources" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#generating-resources"><!---->Generating Resources<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Resource Collections" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#resource-collections"><!---->Resource Collections<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Concept Overview" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#concept-overview"><!---->Concept Overview<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Resource Collections" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#resource-collections-1"><!---->Resource Collections<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Writing Resources" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#writing-resources"><!---->Writing Resources<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Relationships" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#relationships"><!---->Relationships<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Resource Collections" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#resource-collections-2"><!---->Resource Collections<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Data Wrapping" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#data-wrapping"><!---->Data Wrapping<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Pagination" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#pagination"><!---->Pagination<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Conditional Attributes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#conditional-attributes"><!---->Conditional Attributes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Conditional Relationships" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#conditional-relationships"><!---->Conditional Relationships<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Adding Meta Data" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#adding-meta-data"><!---->Adding Meta Data<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Resource Responses" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/eloquent-resources.html#resource-responses"><!---->Resource Responses<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: Serialization" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent-serialization.html"><!---->Eloquent: Serialization<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Eloquent: Factories" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/eloquent-factories.html"><!---->Eloquent: Factories<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Testing</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Packages</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Eloquent: API Resources</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Moments</span></span><span property="author" content="Moments"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-05T12:55:13.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 13 min</span><meta property="timeRequired" content="PT13M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#introduction">Introduction</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#generating-resources">Generating Resources</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#resource-collections">Resource Collections</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#concept-overview">Concept Overview</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#resource-collections-1">Resource Collections</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#writing-resources">Writing Resources</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#relationships">Relationships</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#resource-collections-2">Resource Collections</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#data-wrapping">Data Wrapping</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#pagination">Pagination</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#conditional-attributes">Conditional Attributes</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#conditional-relationships">Conditional Relationships</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#adding-meta-data">Adding Meta Data</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#resource-responses">Resource Responses</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="eloquent-api-resources" tabindex="-1"><a class="header-anchor" href="#eloquent-api-resources" aria-hidden="true">#</a> Eloquent: API Resources</h1><ul><li><a href="#introduction">Introduction</a></li><li><a href="#generating-resources">Generating Resources</a></li><li><a href="#concept-overview">Concept Overview</a><ul><li><a href="#resource-collections">Resource Collections</a></li></ul></li><li><a href="#writing-resources">Writing Resources</a><ul><li><a href="#data-wrapping">Data Wrapping</a></li><li><a href="#pagination">Pagination</a></li><li><a href="#conditional-attributes">Conditional Attributes</a></li><li><a href="#conditional-relationships">Conditional Relationships</a></li><li><a href="#adding-meta-data">Adding Meta Data</a></li></ul></li><li><a href="#resource-responses">Resource Responses</a></li></ul><p><a name="introduction"></a></p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>When building an API, you may need a transformation layer that sits between your Eloquent models and the JSON responses that are actually returned to your application&#39;s users. For example, you may wish to display certain attributes for a subset of users and not others, or you may wish to always include certain relationships in the JSON representation of your models. Eloquent&#39;s resource classes allow you to expressively and easily transform your models and model collections into JSON.</p><p>Of course, you may always convert Eloquent models or collections to JSON using their <code>toJson</code> methods; however, Eloquent resources provide more granular and robust control over the JSON serialization of your models and their relationships.</p><p><a name="generating-resources"></a></p><h2 id="generating-resources" tabindex="-1"><a class="header-anchor" href="#generating-resources" aria-hidden="true">#</a> Generating Resources</h2><p>To generate a resource class, you may use the <code>make:resource</code> Artisan command. By default, resources will be placed in the <code>app/Http/Resources</code> directory of your application. Resources extend the <code>Illuminate\Http\Resources\Json\JsonResource</code> class:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan make:resource UserResource
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="generating-resource-collections"></a></p><h4 id="resource-collections" tabindex="-1"><a class="header-anchor" href="#resource-collections" aria-hidden="true">#</a> Resource Collections</h4><p>In addition to generating resources that transform individual models, you may generate resources that are responsible for transforming collections of models. This allows your JSON responses to include links and other meta information that is relevant to an entire collection of a given resource.</p><p>To create a resource collection, you should use the <code>--collection</code> flag when creating the resource. Or, including the word <code>Collection</code> in the resource name will indicate to Laravel that it should create a collection resource. Collection resources extend the <code>Illuminate\Http\Resources\Json\ResourceCollection</code> class:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan make:resource User <span class="token parameter variable">--collection</span>

php artisan make:resource UserCollection
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="concept-overview"></a></p><h2 id="concept-overview" tabindex="-1"><a class="header-anchor" href="#concept-overview" aria-hidden="true">#</a> Concept Overview</h2><blockquote><p><strong>Note</strong><br> This is a high-level overview of resources and resource collections. You are highly encouraged to read the other sections of this documentation to gain a deeper understanding of the customization and power offered to you by resources.</p></blockquote><p>Before diving into all of the options available to you when writing resources, let&#39;s first take a high-level look at how resources are used within Laravel. A resource class represents a single model that needs to be transformed into a JSON structure. For example, here is a simple <code>UserResource</code> resource class:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    /**
     * Transform the resource into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [
            &#39;id&#39; =&gt; $this-&gt;id,
            &#39;name&#39; =&gt; $this-&gt;name,
            &#39;email&#39; =&gt; $this-&gt;email,
            &#39;created_at&#39; =&gt; $this-&gt;created_at,
            &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
        ];
    }
}
</code></pre><p>Every resource class defines a <code>toArray</code> method which returns the array of attributes that should be converted to JSON when the resource is returned as a response from a route or controller method.</p><p>Note that we can access model properties directly from the <code>$this</code> variable. This is because a resource class will automatically proxy property and method access down to the underlying model for convenient access. Once the resource is defined, it may be returned from a route or controller. The resource accepts the underlying model instance via its constructor:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/user/{id}&#39;, function (string $id) {
    return new UserResource(User::findOrFail($id));
});
</code></pre><p><a name="resource-collections"></a></p><h3 id="resource-collections-1" tabindex="-1"><a class="header-anchor" href="#resource-collections-1" aria-hidden="true">#</a> Resource Collections</h3><p>If you are returning a collection of resources or a paginated response, you should use the <code>collection</code> method provided by your resource class when creating the resource instance in your route or controller:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return UserResource::collection(User::all());
});
</code></pre><p>Note that this does not allow any addition of custom meta data that may need to be returned with your collection. If you would like to customize the resource collection response, you may create a dedicated resource to represent the collection:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan make:resource UserCollection
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Once the resource collection class has been generated, you may easily define any meta data that should be included with the response:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\ResourceCollection;

class UserCollection extends ResourceCollection
{
    /**
     * Transform the resource collection into an array.
     *
     * @return array&lt;int|string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [
            &#39;data&#39; =&gt; $this-&gt;collection,
            &#39;links&#39; =&gt; [
                &#39;self&#39; =&gt; &#39;link-value&#39;,
            ],
        ];
    }
}
</code></pre><p>After defining your resource collection, it may be returned from a route or controller:</p><pre><code>use App\Http\Resources\UserCollection;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return new UserCollection(User::all());
});
</code></pre><p><a name="preserving-collection-keys"></a></p><h4 id="preserving-collection-keys" tabindex="-1"><a class="header-anchor" href="#preserving-collection-keys" aria-hidden="true">#</a> Preserving Collection Keys</h4><p>When returning a resource collection from a route, Laravel resets the collection&#39;s keys so that they are in numerical order. However, you may add a <code>preserveKeys</code> property to your resource class indicating whether a collection&#39;s original keys should be preserved:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    /**
     * Indicates if the resource&#39;s collection keys should be preserved.
     *
     * @var bool
     */
    public $preserveKeys = true;
}
</code></pre><p>When the <code>preserveKeys</code> property is set to <code>true</code>, collection keys will be preserved when the collection is returned from a route or controller:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return UserResource::collection(User::all()-&gt;keyBy-&gt;id);
});
</code></pre><p><a name="customizing-the-underlying-resource-class"></a></p><h4 id="customizing-the-underlying-resource-class" tabindex="-1"><a class="header-anchor" href="#customizing-the-underlying-resource-class" aria-hidden="true">#</a> Customizing The Underlying Resource Class</h4><p>Typically, the <code>$this-&gt;collection</code> property of a resource collection is automatically populated with the result of mapping each item of the collection to its singular resource class. The singular resource class is assumed to be the collection&#39;s class name without the trailing <code>Collection</code> portion of the class name. In addition, depending on your personal preference, the singular resource class may or may not be suffixed with <code>Resource</code>.</p><p>For example, <code>UserCollection</code> will attempt to map the given user instances into the <code>UserResource</code> resource. To customize this behavior, you may override the <code>$collects</code> property of your resource collection:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\ResourceCollection;

class UserCollection extends ResourceCollection
{
    /**
     * The resource that this resource collects.
     *
     * @var string
     */
    public $collects = Member::class;
}
</code></pre><p><a name="writing-resources"></a></p><h2 id="writing-resources" tabindex="-1"><a class="header-anchor" href="#writing-resources" aria-hidden="true">#</a> Writing Resources</h2><blockquote><p><strong>Note</strong><br> If you have not read the <a href="#concept-overview">concept overview</a>, you are highly encouraged to do so before proceeding with this documentation.</p></blockquote><p>Resources only need to transform a given model into an array. So, each resource contains a <code>toArray</code> method which translates your model&#39;s attributes into an API friendly array that can be returned from your application&#39;s routes or controllers:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    /**
     * Transform the resource into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [
            &#39;id&#39; =&gt; $this-&gt;id,
            &#39;name&#39; =&gt; $this-&gt;name,
            &#39;email&#39; =&gt; $this-&gt;email,
            &#39;created_at&#39; =&gt; $this-&gt;created_at,
            &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
        ];
    }
}
</code></pre><p>Once a resource has been defined, it may be returned directly from a route or controller:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/user/{id}&#39;, function (string $id) {
    return new UserResource(User::findOrFail($id));
});
</code></pre><p><a name="relationships"></a></p><h4 id="relationships" tabindex="-1"><a class="header-anchor" href="#relationships" aria-hidden="true">#</a> Relationships</h4><p>If you would like to include related resources in your response, you may add them to the array returned by your resource&#39;s <code>toArray</code> method. In this example, we will use the <code>PostResource</code> resource&#39;s <code>collection</code> method to add the user&#39;s blog posts to the resource response:</p><pre><code>use App\Http\Resources\PostResource;
use Illuminate\Http\Request;

/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;email&#39; =&gt; $this-&gt;email,
        &#39;posts&#39; =&gt; PostResource::collection($this-&gt;posts),
        &#39;created_at&#39; =&gt; $this-&gt;created_at,
        &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
    ];
}
</code></pre><blockquote><p><strong>Note</strong><br> If you would like to include relationships only when they have already been loaded, check out the documentation on <a href="#conditional-relationships">conditional relationships</a>.</p></blockquote><p><a name="writing-resource-collections"></a></p><h4 id="resource-collections-2" tabindex="-1"><a class="header-anchor" href="#resource-collections-2" aria-hidden="true">#</a> Resource Collections</h4><p>While resources transform a single model into an array, resource collections transform a collection of models into an array. However, it is not absolutely necessary to define a resource collection class for each one of your models since all resources provide a <code>collection</code> method to generate an &quot;ad-hoc&quot; resource collection on the fly:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return UserResource::collection(User::all());
});
</code></pre><p>However, if you need to customize the meta data returned with the collection, it is necessary to define your own resource collection:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\ResourceCollection;

class UserCollection extends ResourceCollection
{
    /**
     * Transform the resource collection into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [
            &#39;data&#39; =&gt; $this-&gt;collection,
            &#39;links&#39; =&gt; [
                &#39;self&#39; =&gt; &#39;link-value&#39;,
            ],
        ];
    }
}
</code></pre><p>Like singular resources, resource collections may be returned directly from routes or controllers:</p><pre><code>use App\Http\Resources\UserCollection;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return new UserCollection(User::all());
});
</code></pre><p><a name="data-wrapping"></a></p><h3 id="data-wrapping" tabindex="-1"><a class="header-anchor" href="#data-wrapping" aria-hidden="true">#</a> Data Wrapping</h3><p>By default, your outermost resource is wrapped in a <code>data</code> key when the resource response is converted to JSON. So, for example, a typical resource collection response looks like the following:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Eladio Schroeder Sr.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;therese28@example.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Liliana Mayert&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;evandervort@example.com&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you would like to use a custom key instead of <code>data</code>, you may define a <code>$wrap</code> attribute on the resource class:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    /**
     * The &quot;data&quot; wrapper that should be applied.
     *
     * @var string|null
     */
    public static $wrap = &#39;user&#39;;
}
</code></pre><p>If you would like to disable the wrapping of the outermost resource, you should invoke the <code>withoutWrapping</code> method on the base <code>Illuminate\Http\Resources\Json\JsonResource</code> class. Typically, you should call this method from your <code>AppServiceProvider</code> or another <a href="./providers">service provider</a> that is loaded on every request to your application:</p><pre><code>&lt;?php

namespace App\Providers;

use Illuminate\Http\Resources\Json\JsonResource;
use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        // ...
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        JsonResource::withoutWrapping();
    }
}
</code></pre><blockquote><p><strong>Warning</strong><br> The <code>withoutWrapping</code> method only affects the outermost response and will not remove <code>data</code> keys that you manually add to your own resource collections.</p></blockquote><p><a name="wrapping-nested-resources"></a></p><h4 id="wrapping-nested-resources" tabindex="-1"><a class="header-anchor" href="#wrapping-nested-resources" aria-hidden="true">#</a> Wrapping Nested Resources</h4><p>You have total freedom to determine how your resource&#39;s relationships are wrapped. If you would like all resource collections to be wrapped in a <code>data</code> key, regardless of their nesting, you should define a resource collection class for each resource and return the collection within a <code>data</code> key.</p><p>You may be wondering if this will cause your outermost resource to be wrapped in two <code>data</code> keys. Don&#39;t worry, Laravel will never let your resources be accidentally double-wrapped, so you don&#39;t have to be concerned about the nesting level of the resource collection you are transforming:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\ResourceCollection;

class CommentsCollection extends ResourceCollection
{
    /**
     * Transform the resource collection into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [&#39;data&#39; =&gt; $this-&gt;collection];
    }
}
</code></pre><p><a name="data-wrapping-and-pagination"></a></p><h4 id="data-wrapping-and-pagination" tabindex="-1"><a class="header-anchor" href="#data-wrapping-and-pagination" aria-hidden="true">#</a> Data Wrapping And Pagination</h4><p>When returning paginated collections via a resource response, Laravel will wrap your resource data in a <code>data</code> key even if the <code>withoutWrapping</code> method has been called. This is because paginated responses always contain <code>meta</code> and <code>links</code> keys with information about the paginator&#39;s state:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Eladio Schroeder Sr.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;therese28@example.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Liliana Mayert&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;evandervort@example.com&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;first&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users?page=1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users?page=1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;current_page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;last_page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;per_page&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="pagination"></a></p><h3 id="pagination" tabindex="-1"><a class="header-anchor" href="#pagination" aria-hidden="true">#</a> Pagination</h3><p>You may pass a Laravel paginator instance to the <code>collection</code> method of a resource or to a custom resource collection:</p><pre><code>use App\Http\Resources\UserCollection;
use App\Models\User;

Route::get(&#39;/users&#39;, function () {
    return new UserCollection(User::paginate());
});
</code></pre><p>Paginated responses always contain <code>meta</code> and <code>links</code> keys with information about the paginator&#39;s state:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Eladio Schroeder Sr.&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;therese28@example.com&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Liliana Mayert&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;evandervort@example.com&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;links&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;first&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users?page=1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users?page=1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;prev&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;next&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;meta&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;current_page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;last_page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://example.com/users&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;per_page&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
        <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="customizing-the-pagination-information"></a></p><h4 id="customizing-the-pagination-information" tabindex="-1"><a class="header-anchor" href="#customizing-the-pagination-information" aria-hidden="true">#</a> Customizing The Pagination Information</h4><p>If you would like to customize the information included in the <code>links</code> or <code>meta</code> keys of the pagination response, you may define a <code>paginationInformation</code> method on the resource. This method will receive the <code>$paginated</code> data and the array of <code>$default</code> information, which is an array containing the <code>links</code> and <code>meta</code> keys:</p><pre><code>/**
 * Customize the pagination information for the resource.
 *
 * @param  \Illuminate\Http\Request  $request
 * @param  array $paginated
 * @param  array $default
 * @return array
 */
public function paginationInformation($request, $paginated, $default)
{
    $default[&#39;links&#39;][&#39;custom&#39;] = &#39;https://example.com&#39;;

    return $default;
}
</code></pre><p><a name="conditional-attributes"></a></p><h3 id="conditional-attributes" tabindex="-1"><a class="header-anchor" href="#conditional-attributes" aria-hidden="true">#</a> Conditional Attributes</h3><p>Sometimes you may wish to only include an attribute in a resource response if a given condition is met. For example, you may wish to only include a value if the current user is an &quot;administrator&quot;. Laravel provides a variety of helper methods to assist you in this situation. The <code>when</code> method may be used to conditionally add an attribute to a resource response:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;email&#39; =&gt; $this-&gt;email,
        &#39;secret&#39; =&gt; $this-&gt;when($request-&gt;user()-&gt;isAdmin(), &#39;secret-value&#39;),
        &#39;created_at&#39; =&gt; $this-&gt;created_at,
        &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
    ];
}
</code></pre><p>In this example, the <code>secret</code> key will only be returned in the final resource response if the authenticated user&#39;s <code>isAdmin</code> method returns <code>true</code>. If the method returns <code>false</code>, the <code>secret</code> key will be removed from the resource response before it is sent to the client. The <code>when</code> method allows you to expressively define your resources without resorting to conditional statements when building the array.</p><p>The <code>when</code> method also accepts a closure as its second argument, allowing you to calculate the resulting value only if the given condition is <code>true</code>:</p><pre><code>&#39;secret&#39; =&gt; $this-&gt;when($request-&gt;user()-&gt;isAdmin(), function () {
    return &#39;secret-value&#39;;
}),
</code></pre><p>The <code>whenHas</code> method may be used to include an attribute if it is actually present on the underlying model:</p><pre><code>&#39;name&#39; =&gt; $this-&gt;whenHas(&#39;name&#39;),
</code></pre><p>Additionally, the <code>whenNotNull</code> method may be used to include an attribute in the resource response if the attribute is not null:</p><pre><code>&#39;name&#39; =&gt; $this-&gt;whenNotNull($this-&gt;name),
</code></pre><p><a name="merging-conditional-attributes"></a></p><h4 id="merging-conditional-attributes" tabindex="-1"><a class="header-anchor" href="#merging-conditional-attributes" aria-hidden="true">#</a> Merging Conditional Attributes</h4><p>Sometimes you may have several attributes that should only be included in the resource response based on the same condition. In this case, you may use the <code>mergeWhen</code> method to include the attributes in the response only when the given condition is <code>true</code>:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;email&#39; =&gt; $this-&gt;email,
        $this-&gt;mergeWhen($request-&gt;user()-&gt;isAdmin(), [
            &#39;first-secret&#39; =&gt; &#39;value&#39;,
            &#39;second-secret&#39; =&gt; &#39;value&#39;,
        ]),
        &#39;created_at&#39; =&gt; $this-&gt;created_at,
        &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
    ];
}
</code></pre><p>Again, if the given condition is <code>false</code>, these attributes will be removed from the resource response before it is sent to the client.</p><blockquote><p><strong>Warning</strong><br> The <code>mergeWhen</code> method should not be used within arrays that mix string and numeric keys. Furthermore, it should not be used within arrays with numeric keys that are not ordered sequentially.</p></blockquote><p><a name="conditional-relationships"></a></p><h3 id="conditional-relationships" tabindex="-1"><a class="header-anchor" href="#conditional-relationships" aria-hidden="true">#</a> Conditional Relationships</h3><p>In addition to conditionally loading attributes, you may conditionally include relationships on your resource responses based on if the relationship has already been loaded on the model. This allows your controller to decide which relationships should be loaded on the model and your resource can easily include them only when they have actually been loaded. Ultimately, this makes it easier to avoid &quot;N+1&quot; query problems within your resources.</p><p>The <code>whenLoaded</code> method may be used to conditionally load a relationship. In order to avoid unnecessarily loading relationships, this method accepts the name of the relationship instead of the relationship itself:</p><pre><code>use App\Http\Resources\PostResource;

/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;email&#39; =&gt; $this-&gt;email,
        &#39;posts&#39; =&gt; PostResource::collection($this-&gt;whenLoaded(&#39;posts&#39;)),
        &#39;created_at&#39; =&gt; $this-&gt;created_at,
        &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
    ];
}
</code></pre><p>In this example, if the relationship has not been loaded, the <code>posts</code> key will be removed from the resource response before it is sent to the client.</p><p><a name="conditional-relationship-counts"></a></p><h4 id="conditional-relationship-counts" tabindex="-1"><a class="header-anchor" href="#conditional-relationship-counts" aria-hidden="true">#</a> Conditional Relationship Counts</h4><p>In addition to conditionally including relationships, you may conditionally include relationship &quot;counts&quot; on your resource responses based on if the relationship&#39;s count has been loaded on the model:</p><pre><code>new UserResource($user-&gt;loadCount(&#39;posts&#39;));
</code></pre><p>The <code>whenCounted</code> method may be used to conditionally include a relationship&#39;s count in your resource response. This method avoids unnecessarily including the attribute if the relationships&#39; count is not present:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;email&#39; =&gt; $this-&gt;email,
        &#39;posts_count&#39; =&gt; $this-&gt;whenCounted(&#39;posts&#39;),
        &#39;created_at&#39; =&gt; $this-&gt;created_at,
        &#39;updated_at&#39; =&gt; $this-&gt;updated_at,
    ];
}
</code></pre><p>In this example, if the <code>posts</code> relationship&#39;s count has not been loaded, the <code>posts_count</code> key will be removed from the resource response before it is sent to the client.</p><p>Other types of aggregates, such as <code>avg</code>, <code>sum</code>, <code>min</code>, and <code>max</code> may also be conditionally loaded using the <code>whenAggregated</code> method:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token string single-quoted-string">&#39;words_avg&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">whenAggregated</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;posts&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;words&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;avg&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">&#39;words_sum&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">whenAggregated</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;posts&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;words&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;sum&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">&#39;words_min&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">whenAggregated</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;posts&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;words&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;min&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">&#39;words_max&#39;</span> <span class="token operator">=&gt;</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">whenAggregated</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;posts&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;words&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;max&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="conditional-pivot-information"></a></p><h4 id="conditional-pivot-information" tabindex="-1"><a class="header-anchor" href="#conditional-pivot-information" aria-hidden="true">#</a> Conditional Pivot Information</h4><p>In addition to conditionally including relationship information in your resource responses, you may conditionally include data from the intermediate tables of many-to-many relationships using the <code>whenPivotLoaded</code> method. The <code>whenPivotLoaded</code> method accepts the name of the pivot table as its first argument. The second argument should be a closure that returns the value to be returned if the pivot information is available on the model:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;expires_at&#39; =&gt; $this-&gt;whenPivotLoaded(&#39;role_user&#39;, function () {
            return $this-&gt;pivot-&gt;expires_at;
        }),
    ];
}
</code></pre><p>If your relationship is using a <a href="./eloquent-relationships#defining-custom-intermediate-table-models">custom intermediate table model</a>, you may pass an instance of the intermediate table model as the first argument to the <code>whenPivotLoaded</code> method:</p><pre><code>&#39;expires_at&#39; =&gt; $this-&gt;whenPivotLoaded(new Membership, function () {
    return $this-&gt;pivot-&gt;expires_at;
}),
</code></pre><p>If your intermediate table is using an accessor other than <code>pivot</code>, you may use the <code>whenPivotLoadedAs</code> method:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;id&#39; =&gt; $this-&gt;id,
        &#39;name&#39; =&gt; $this-&gt;name,
        &#39;expires_at&#39; =&gt; $this-&gt;whenPivotLoadedAs(&#39;subscription&#39;, &#39;role_user&#39;, function () {
            return $this-&gt;subscription-&gt;expires_at;
        }),
    ];
}
</code></pre><p><a name="adding-meta-data"></a></p><h3 id="adding-meta-data" tabindex="-1"><a class="header-anchor" href="#adding-meta-data" aria-hidden="true">#</a> Adding Meta Data</h3><p>Some JSON API standards require the addition of meta data to your resource and resource collections responses. This often includes things like <code>links</code> to the resource or related resources, or meta data about the resource itself. If you need to return additional meta data about a resource, include it in your <code>toArray</code> method. For example, you might include <code>link</code> information when transforming a resource collection:</p><pre><code>/**
 * Transform the resource into an array.
 *
 * @return array&lt;string, mixed&gt;
 */
public function toArray(Request $request): array
{
    return [
        &#39;data&#39; =&gt; $this-&gt;collection,
        &#39;links&#39; =&gt; [
            &#39;self&#39; =&gt; &#39;link-value&#39;,
        ],
    ];
}
</code></pre><p>When returning additional meta data from your resources, you never have to worry about accidentally overriding the <code>links</code> or <code>meta</code> keys that are automatically added by Laravel when returning paginated responses. Any additional <code>links</code> you define will be merged with the links provided by the paginator.</p><p><a name="top-level-meta-data"></a></p><h4 id="top-level-meta-data" tabindex="-1"><a class="header-anchor" href="#top-level-meta-data" aria-hidden="true">#</a> Top Level Meta Data</h4><p>Sometimes you may wish to only include certain meta data with a resource response if the resource is the outermost resource being returned. Typically, this includes meta information about the response as a whole. To define this meta data, add a <code>with</code> method to your resource class. This method should return an array of meta data to be included with the resource response only when the resource is the outermost resource being transformed:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\Resources\Json\ResourceCollection;

class UserCollection extends ResourceCollection
{
    /**
     * Transform the resource collection into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return parent::toArray($request);
    }

    /**
     * Get additional data that should be returned with the resource array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function with(Request $request): array
    {
        return [
            &#39;meta&#39; =&gt; [
                &#39;key&#39; =&gt; &#39;value&#39;,
            ],
        ];
    }
}
</code></pre><p><a name="adding-meta-data-when-constructing-resources"></a></p><h4 id="adding-meta-data-when-constructing-resources" tabindex="-1"><a class="header-anchor" href="#adding-meta-data-when-constructing-resources" aria-hidden="true">#</a> Adding Meta Data When Constructing Resources</h4><p>You may also add top-level data when constructing resource instances in your route or controller. The <code>additional</code> method, which is available on all resources, accepts an array of data that should be added to the resource response:</p><pre><code>return (new UserCollection(User::all()-&gt;load(&#39;roles&#39;)))
                -&gt;additional([&#39;meta&#39; =&gt; [
                    &#39;key&#39; =&gt; &#39;value&#39;,
                ]]);
</code></pre><p><a name="resource-responses"></a></p><h2 id="resource-responses" tabindex="-1"><a class="header-anchor" href="#resource-responses" aria-hidden="true">#</a> Resource Responses</h2><p>As you have already read, resources may be returned directly from routes and controllers:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/user/{id}&#39;, function (string $id) {
    return new UserResource(User::findOrFail($id));
});
</code></pre><p>However, sometimes you may need to customize the outgoing HTTP response before it is sent to the client. There are two ways to accomplish this. First, you may chain the <code>response</code> method onto the resource. This method will return an <code>Illuminate\Http\JsonResponse</code> instance, giving you full control over the response&#39;s headers:</p><pre><code>use App\Http\Resources\UserResource;
use App\Models\User;

Route::get(&#39;/user&#39;, function () {
    return (new UserResource(User::find(1)))
                -&gt;response()
                -&gt;header(&#39;X-Value&#39;, &#39;True&#39;);
});
</code></pre><p>Alternatively, you may define a <code>withResponse</code> method within the resource itself. This method will be called when the resource is returned as the outermost resource in a response:</p><pre><code>&lt;?php

namespace App\Http\Resources;

use Illuminate\Http\JsonResponse;
use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    /**
     * Transform the resource into an array.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function toArray(Request $request): array
    {
        return [
            &#39;id&#39; =&gt; $this-&gt;id,
        ];
    }

    /**
     * Customize the outgoing response for the resource.
     */
    public function withResponse(Request $request, JsonResponse $response): void
    {
        $response-&gt;header(&#39;X-Value&#39;, &#39;True&#39;);
    }
}
</code></pre></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 554676262@qq.com">Moments</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="Eloquent: Mutators &amp; Casting" class="vp-link nav-link prev nav-link prev" href="/laravel/guide/eloquent-mutators.html"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->Eloquent: Mutators &amp; Casting</div></a><a aria-label="Eloquent: Serialization" class="vp-link nav-link next nav-link next" href="/laravel/guide/eloquent-serialization.html"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Eloquent: Serialization<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2023 Moments</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/laravel/assets/app-06635a3b.js" defer></script>
  </body>
</html>
