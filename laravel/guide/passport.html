<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script type="text/javascript" async="" src="/laravel/iconify-icon@1.js" data-loaded="true"></script><meta name="keywords" content="php,go,python,c++,nsis"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?800fce94596cf587cd6a0e80314e5360";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><title>Laravel Passport | Laravel 10 documents</title><meta name="description" content="A elegant web framework">
    <style>
      html {
        background: #fff;
      }

      html[data-theme="dark"] {
        background: #1d1e1f;
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/laravel/assets/style-46281858.css" as="style"><link rel="stylesheet" href="/laravel/assets/style-46281858.css">
    <link rel="modulepreload" href="/laravel/assets/app-06635a3b.js"><link rel="modulepreload" href="/laravel/assets/passport.html-cd6dcfd8.js"><link rel="modulepreload" href="/laravel/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/laravel/assets/passport.html-bc49eb95.js"><link rel="prefetch" href="/laravel/assets/index.html-9e78edeb.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-3eb129c9.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-16026b94.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-e6444e41.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-8f01857a.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-4ab5af1f.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-37f53dbb.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-736fe8d3.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-5526a6eb.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-1fe337d2.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-436613f9.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-9ba2a803.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-2127a627.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-92cebf87.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-1fbfa0d8.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-c02e4d43.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-186bcac9.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-4d67c044.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-d8305910.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-a3584e85.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-a3ff95a6.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-ce8ef6c6.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-f404cc53.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-246cbe50.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-e0a33bb7.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-46536e12.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-596497b2.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-f69e36ed.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-a7c4bb26.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-fb190607.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-aedd0963.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-16d62aae.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-9ae74927.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-631034d0.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-f95830ad.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-60a9feb6.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-908b3830.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-e0e88961.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-f9a2c759.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-aa5c9036.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-ecf151ef.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-120ce39c.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-4e5e9aa5.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-eac89759.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-b38093b9.js" as="script"><link rel="prefetch" href="/laravel/assets/license.html-2d87adb7.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-476bc2c3.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-c0cf85fa.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-bc0bc0ed.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-5dc778ea.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-53b0c70e.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-5eefc455.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-963160d0.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-01794c03.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-e5f05ed1.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-d78d4aec.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-83545712.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-cd29c392.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-5919604b.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-c2b910a7.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-442480b8.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-8726703d.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-abbf2210.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-8e43e615.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-e7c3ca2c.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-0559c6fe.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-0a1d99de.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-d9b237f4.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-b33bc819.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-39c70396.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-efea7cd9.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-99374fbd.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-1a9aaa67.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-4215324d.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-207b017e.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-28ad3c79.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-d5f86318.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-1da99475.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-cde9fd75.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-02b509f7.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-8f872f73.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-b6922c8c.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-c6404ec1.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-828c8c79.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-1158e1c7.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b395445f.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-59db2291.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-da9c5905.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-063d0ca2.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-4707d3ec.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-c7879038.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-c603ed7a.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-49320c1f.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-b54a3b02.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-abb0b0fc.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-7a39b868.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-3bc1d663.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-21bf79bb.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-53643402.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-5f8b063f.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-0246bfec.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-124d486c.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-b3882973.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-65220484.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-0c28c3a4.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-f21bb685.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-8ffc9fc9.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-bb971caa.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-e0e19db0.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-d4b49313.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-fcf0f033.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-e493b80c.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-833db6fb.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-fc5c1c43.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-c7c8af09.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-2f37a967.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-0bb9c90b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-b82ba91c.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-48551c32.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-572ae102.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-926c6e7e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-b9919a26.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-8f0181cf.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-6db2ec64.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-505e6842.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-375980a6.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-3713daf8.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-de9b09a4.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-6ebb6ef2.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-ec1df67e.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-0d7f9dc8.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-a3e26276.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-18cdcea2.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-98b5c07c.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-7ecf3fa7.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-0ef6e3a8.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-38dec5ee.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-3cc7d1c5.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-2b6fc47f.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-05c57a06.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-e97ba9a9.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-beb57d20.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-9ed5c7b6.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-c0950f9f.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-3b2ac5f2.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-5b035a48.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-5eecd5c6.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-c7fb9580.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-f9fde12f.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-bd7d42b1.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-02a00e2a.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-9a74b568.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-65c6dc80.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-1bc5cfc2.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-366f1dd1.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-eb57aecd.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-0266a4c7.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-da544f44.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-75b01a9a.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-ae1ecf62.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-fc7df5d5.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-1ed64841.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-3dfd0438.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-f3977a35.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-72f1388a.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-8847d30c.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-4dd2a769.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-6836a2ed.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-583f57f1.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-83d124cc.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-c831c46d.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-ce5fccd0.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-1e6b0778.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-42b8cbe3.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-e1a9edec.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-12f6cdca.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-549a7d86.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-fb8fcda2.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b8a7cfa0.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-e081762a.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-508efafc.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-0412a8e2.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-9d2380d0.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-4b65c313.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-f442e9b2.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-fc4a9c50.js" as="script"><link rel="prefetch" href="/laravel/assets/404.html-fce79bde.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-ebda9a17.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-0dab9b40.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-8048da3d.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-6af0b259.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-0341c66f.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-c4c647eb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-aa7de2dc.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-7993dca7.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-6c43b2d4.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-ee40829a.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-aed7618a.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-2341e875.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-fe4c1556.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-39a551b0.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-f103780c.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-b0b73ef3.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-62706687.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-326e47cd.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-d1a7fa7e.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-e0475b97.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-c0b9d9b5.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-46ffd6c2.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-c2fb46bd.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-a9442786.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-56ff1213.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-681b29be.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-f10a4fc1.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-4a11e789.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-19f9d3ce.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-15f9020b.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-fa77321b.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-0b90206c.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-6760beac.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-da3fd154.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-8c14d43b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-bb3cbf07.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-8ef6214e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-165cd71e.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-c85e3f20.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-8e1aa600.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-0eac2a01.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-c74972d9.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-994b491f.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-a380aa2a.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-df29e168.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-9784782c.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-35cc8603.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-97ae163a.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-afa5f3d9.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-cb2e6752.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-851224a8.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-d8b31fb8.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-f6f9ec70.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-3879d7b5.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-c067a2fe.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-5209d575.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-1c77daf6.js" as="script"><link rel="prefetch" href="/laravel/assets/license.html-e2cacf83.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-c682939f.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-595824c1.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-6bb45cb3.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-e143b998.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-0e9532a4.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-97759fbd.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-0efa4e6c.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-38d32bc2.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-a46ea871.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-ebbcb527.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-245e010f.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-7de4db75.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-1860da86.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-a33b221c.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-5581c8d4.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-36fb85d3.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-3db08079.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-ce416df4.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-dabeb18d.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-e182beec.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-a1cffed0.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-60792899.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-9a76b573.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-606dbbb9.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-614f1b1d.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-41df6e68.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-a7dd9678.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-9dfe8ba7.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-8609c086.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-f5432ad1.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-10c1089d.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-7025e113.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-87993d2a.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-fd170c72.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-d798ffba.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-747ffaa9.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-0af7a4a0.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-6eea02e9.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-32a1ab67.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b56bff84.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-b1d6ac85.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-f99612c7.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-5522a8af.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-fa14a1b1.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-928033d4.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-5b921a1a.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-114dcd3c.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-676a6a81.js" as="script"><link rel="prefetch" href="/laravel/assets/artisan.html-fa4ea573.js" as="script"><link rel="prefetch" href="/laravel/assets/authentication.html-51b5a2af.js" as="script"><link rel="prefetch" href="/laravel/assets/authorization.html-d68433c0.js" as="script"><link rel="prefetch" href="/laravel/assets/billing.html-25aede41.js" as="script"><link rel="prefetch" href="/laravel/assets/blade.html-eb34d678.js" as="script"><link rel="prefetch" href="/laravel/assets/broadcasting.html-77e45037.js" as="script"><link rel="prefetch" href="/laravel/assets/cache.html-94bddb6a.js" as="script"><link rel="prefetch" href="/laravel/assets/cashier-paddle.html-373a78df.js" as="script"><link rel="prefetch" href="/laravel/assets/collections.html-9d83b841.js" as="script"><link rel="prefetch" href="/laravel/assets/configuration.html-07c36bde.js" as="script"><link rel="prefetch" href="/laravel/assets/console-tests.html-d10e6c05.js" as="script"><link rel="prefetch" href="/laravel/assets/container.html-4d29d032.js" as="script"><link rel="prefetch" href="/laravel/assets/contracts.html-eee8ea45.js" as="script"><link rel="prefetch" href="/laravel/assets/contributions.html-3ad5a080.js" as="script"><link rel="prefetch" href="/laravel/assets/controllers.html-4c479c11.js" as="script"><link rel="prefetch" href="/laravel/assets/csrf.html-89332845.js" as="script"><link rel="prefetch" href="/laravel/assets/database-testing.html-7fca1e15.js" as="script"><link rel="prefetch" href="/laravel/assets/database.html-c9a16897.js" as="script"><link rel="prefetch" href="/laravel/assets/deployment.html-512d4867.js" as="script"><link rel="prefetch" href="/laravel/assets/documentation.html-3104e647.js" as="script"><link rel="prefetch" href="/laravel/assets/dusk.html-a357a47b.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-collections.html-1f432edf.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-factories.html-f5f2ff6a.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-mutators.html-75f82498.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-relationships.html-02d40ab0.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-resources.html-30f0c261.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent-serialization.html-898f7769.js" as="script"><link rel="prefetch" href="/laravel/assets/eloquent.html-b78aa18b.js" as="script"><link rel="prefetch" href="/laravel/assets/encryption.html-7252ec51.js" as="script"><link rel="prefetch" href="/laravel/assets/envoy.html-0f064596.js" as="script"><link rel="prefetch" href="/laravel/assets/errors.html-312fd956.js" as="script"><link rel="prefetch" href="/laravel/assets/events.html-50c9abb1.js" as="script"><link rel="prefetch" href="/laravel/assets/facades.html-722a2988.js" as="script"><link rel="prefetch" href="/laravel/assets/filesystem.html-8e4f60b8.js" as="script"><link rel="prefetch" href="/laravel/assets/folio.html-e40e6a18.js" as="script"><link rel="prefetch" href="/laravel/assets/fortify.html-60a84d7c.js" as="script"><link rel="prefetch" href="/laravel/assets/frontend.html-fb711409.js" as="script"><link rel="prefetch" href="/laravel/assets/hashing.html-3e65f9c4.js" as="script"><link rel="prefetch" href="/laravel/assets/helpers.html-e537327b.js" as="script"><link rel="prefetch" href="/laravel/assets/homestead.html-9629d160.js" as="script"><link rel="prefetch" href="/laravel/assets/horizon.html-31c89601.js" as="script"><link rel="prefetch" href="/laravel/assets/http-client.html-4d5d11a0.js" as="script"><link rel="prefetch" href="/laravel/assets/http-tests.html-162d431c.js" as="script"><link rel="prefetch" href="/laravel/assets/installation.html-00d7f08c.js" as="script"><link rel="prefetch" href="/laravel/assets/lifecycle.html-985857a1.js" as="script"><link rel="prefetch" href="/laravel/assets/localization.html-2567af65.js" as="script"><link rel="prefetch" href="/laravel/assets/logging.html-ee56a192.js" as="script"><link rel="prefetch" href="/laravel/assets/mail.html-854ff3dc.js" as="script"><link rel="prefetch" href="/laravel/assets/middleware.html-4fd29293.js" as="script"><link rel="prefetch" href="/laravel/assets/migrations.html-ea5b9735.js" as="script"><link rel="prefetch" href="/laravel/assets/mix.html-5c1412bf.js" as="script"><link rel="prefetch" href="/laravel/assets/mocking.html-2a552c6e.js" as="script"><link rel="prefetch" href="/laravel/assets/notifications.html-34391b59.js" as="script"><link rel="prefetch" href="/laravel/assets/octane.html-4021e6c1.js" as="script"><link rel="prefetch" href="/laravel/assets/packages.html-6ab80d2b.js" as="script"><link rel="prefetch" href="/laravel/assets/pagination.html-c1c12792.js" as="script"><link rel="prefetch" href="/laravel/assets/passport.html-7371e766.js" as="script"><link rel="prefetch" href="/laravel/assets/passwords.html-501b821f.js" as="script"><link rel="prefetch" href="/laravel/assets/pennant.html-59bf85dc.js" as="script"><link rel="prefetch" href="/laravel/assets/pint.html-c5c3a18d.js" as="script"><link rel="prefetch" href="/laravel/assets/precognition.html-20426c14.js" as="script"><link rel="prefetch" href="/laravel/assets/processes.html-c9f2154c.js" as="script"><link rel="prefetch" href="/laravel/assets/prompts.html-4b855471.js" as="script"><link rel="prefetch" href="/laravel/assets/providers.html-de05ef5d.js" as="script"><link rel="prefetch" href="/laravel/assets/queries.html-6eab87f6.js" as="script"><link rel="prefetch" href="/laravel/assets/queues.html-f3d0f5ce.js" as="script"><link rel="prefetch" href="/laravel/assets/rate-limiting.html-ab06b367.js" as="script"><link rel="prefetch" href="/laravel/assets/redirects.html-3c89d072.js" as="script"><link rel="prefetch" href="/laravel/assets/redis.html-a1b539f8.js" as="script"><link rel="prefetch" href="/laravel/assets/releases.html-956fd8e3.js" as="script"><link rel="prefetch" href="/laravel/assets/requests.html-e55811b8.js" as="script"><link rel="prefetch" href="/laravel/assets/responses.html-326cd93f.js" as="script"><link rel="prefetch" href="/laravel/assets/routing.html-9f5969e1.js" as="script"><link rel="prefetch" href="/laravel/assets/sail.html-8ba57e34.js" as="script"><link rel="prefetch" href="/laravel/assets/sanctum.html-312d26da.js" as="script"><link rel="prefetch" href="/laravel/assets/scheduling.html-277896f3.js" as="script"><link rel="prefetch" href="/laravel/assets/scout.html-bf67e2e5.js" as="script"><link rel="prefetch" href="/laravel/assets/seeding.html-5ff2d671.js" as="script"><link rel="prefetch" href="/laravel/assets/session.html-1454f089.js" as="script"><link rel="prefetch" href="/laravel/assets/socialite.html-2790e6f2.js" as="script"><link rel="prefetch" href="/laravel/assets/starter-kits.html-30ddfd16.js" as="script"><link rel="prefetch" href="/laravel/assets/strings.html-a1de2f9c.js" as="script"><link rel="prefetch" href="/laravel/assets/structure.html-796bb0fb.js" as="script"><link rel="prefetch" href="/laravel/assets/telescope.html-2ae2ff0a.js" as="script"><link rel="prefetch" href="/laravel/assets/testing.html-b8f033fc.js" as="script"><link rel="prefetch" href="/laravel/assets/upgrade.html-f96ad06e.js" as="script"><link rel="prefetch" href="/laravel/assets/urls.html-9ad3e22b.js" as="script"><link rel="prefetch" href="/laravel/assets/valet.html-feba0cb4.js" as="script"><link rel="prefetch" href="/laravel/assets/validation.html-a95b1da8.js" as="script"><link rel="prefetch" href="/laravel/assets/verification.html-6134c4c4.js" as="script"><link rel="prefetch" href="/laravel/assets/views.html-aabc3de9.js" as="script"><link rel="prefetch" href="/laravel/assets/vite.html-56e9e2e9.js" as="script"><link rel="prefetch" href="/laravel/assets/404.html-1c6a83eb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-a9330e18.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-c5f51f78.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-4da86738.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-83a87221.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-1b8b6fec.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-618032ce.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-f7ccfbd4.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-cd055af2.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-7157aa3b.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-122d0afb.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-21f435f7.js" as="script"><link rel="prefetch" href="/laravel/assets/index.html-531b0dec.js" as="script"><link rel="prefetch" href="/laravel/assets/mermaid.core-6651ce10.js" as="script"><link rel="prefetch" href="/laravel/assets/VuePlayground-b9b32cef.js" as="script"><link rel="prefetch" href="/laravel/assets/photoswipe.esm-1464cdb9.js" as="script"><link rel="prefetch" href="/laravel/assets/pageview-c4318637.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/laravel/"><!----><!----><span class="vp-site-name">Laravel 10 documents</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Prologue" class="vp-link nav-link nav-link" href="/laravel/guide/releases.html"><!---->Prologue<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Getting Started" class="vp-link nav-link nav-link" href="/laravel/guide/installation.html"><!---->Getting Started<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Architecture Concepts" class="vp-link nav-link nav-link" href="/laravel/guide/lifecycle.html"><!---->Architecture Concepts<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="The Basics" class="vp-link nav-link nav-link" href="/laravel/guide/routing.html"><!---->The Basics<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Digging Deeper" class="vp-link nav-link nav-link" href="/laravel/guide/artisan.html"><!---->Digging Deeper<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Security" class="vp-link nav-link nav-link" href="/laravel/guide/authentication.html"><!---->Security<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Database" class="vp-link nav-link nav-link" href="/laravel/guide/database.html"><!---->Database<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Eloquent ORM" class="vp-link nav-link nav-link" href="/laravel/guide/eloquent.html"><!---->Eloquent ORM<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Testing" class="vp-link nav-link nav-link" href="/laravel/guide/testing.html"><!---->Testing<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="Packages" class="vp-link nav-link nav-link" href="/laravel/guide/sanctum.html"><!---->Packages<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="English" class="vp-link nav-link active nav-link active" href="/laravel/guide/passport.html"><!---->English<!----></a></li><li class="dropdown-item"><a aria-label="简体中文" class="vp-link nav-link nav-link" href="/laravel/zh/guide/passport.html"><!---->简体中文<!----></a></li></ul></button></div></div><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Prologue</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Getting Started</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Architecture Concepts</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">The Basics</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Digging Deeper</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Security</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Database</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Eloquent ORM</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Testing</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Packages</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Starter Kits" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/starter-kits.html#laravel-breeze"><!---->Starter Kits<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Cashier (Stripe)" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/billing.html"><!---->Laravel Cashier (Stripe)<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Cashier (Paddle)" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/cashier-paddle.html"><!---->Laravel Cashier (Paddle)<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Dusk" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/dusk.html"><!---->Laravel Dusk<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Envoy" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/envoy.html"><!---->Laravel Envoy<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Fortify" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/fortify.html"><!---->Laravel Fortify<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Homestead" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/homestead.html"><!---->Laravel Homestead<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Horizon" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/horizon.html"><!---->Laravel Horizon<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Mix" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/mix.html"><!---->Laravel Mix<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Octane" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/octane.html"><!---->Laravel Octane<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Passport" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/laravel/guide/passport.html"><!---->Laravel Passport<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Introduction" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#introduction"><!---->Introduction<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Passport Or Sanctum?" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#passport-or-sanctum"><!---->Passport Or Sanctum?<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Installation" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#installation"><!---->Installation<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Client UUIDs" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#client-uuids"><!---->Client UUIDs<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Deploying Passport" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#deploying-passport"><!---->Deploying Passport<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Migration Customization" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#migration-customization"><!---->Migration Customization<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Upgrading Passport" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#upgrading-passport"><!---->Upgrading Passport<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Configuration" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#configuration"><!---->Configuration<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Client Secret Hashing" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#client-secret-hashing"><!---->Client Secret Hashing<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Token Lifetimes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#token-lifetimes"><!---->Token Lifetimes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Overriding Default Models" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#overriding-default-models"><!---->Overriding Default Models<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Overriding Routes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#overriding-routes"><!---->Overriding Routes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Issuing Access Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#issuing-access-tokens"><!---->Issuing Access Tokens<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Managing Clients" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#managing-clients"><!---->Managing Clients<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requesting Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#requesting-tokens"><!---->Requesting Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Refreshing Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#refreshing-tokens"><!---->Refreshing Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Revoking Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#revoking-tokens"><!---->Revoking Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Purging Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#purging-tokens"><!---->Purging Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Authorization Code Grant with PKCE" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#authorization-code-grant-with-pkce"><!---->Authorization Code Grant with PKCE<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Creating The Client" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#creating-the-client"><!---->Creating The Client<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requesting Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#requesting-tokens-1"><!---->Requesting Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Password Grant Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#password-grant-tokens"><!---->Password Grant Tokens<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Creating A Password Grant Client" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#creating-a-password-grant-client"><!---->Creating A Password Grant Client<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requesting Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#requesting-tokens-2"><!---->Requesting Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Requesting All Scopes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#requesting-all-scopes"><!---->Requesting All Scopes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Customizing The User Provider" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#customizing-the-user-provider"><!---->Customizing The User Provider<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Customizing The Username Field" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#customizing-the-username-field"><!---->Customizing The Username Field<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Customizing The Password Validation" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#customizing-the-password-validation"><!---->Customizing The Password Validation<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Implicit Grant Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#implicit-grant-tokens"><!---->Implicit Grant Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Client Credentials Grant Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#client-credentials-grant-tokens"><!---->Client Credentials Grant Tokens<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Retrieving Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#retrieving-tokens"><!---->Retrieving Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Personal Access Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#personal-access-tokens"><!---->Personal Access Tokens<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Creating A Personal Access Client" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#creating-a-personal-access-client"><!---->Creating A Personal Access Client<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Managing Personal Access Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#managing-personal-access-tokens"><!---->Managing Personal Access Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Protecting Routes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#protecting-routes"><!---->Protecting Routes<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Via Middleware" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#via-middleware"><!---->Via Middleware<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Passing The Access Token" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#passing-the-access-token"><!---->Passing The Access Token<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Token Scopes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#token-scopes"><!---->Token Scopes<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Defining Scopes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#defining-scopes"><!---->Defining Scopes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Default Scope" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#default-scope"><!---->Default Scope<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Assigning Scopes To Tokens" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#assigning-scopes-to-tokens"><!---->Assigning Scopes To Tokens<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Checking Scopes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#checking-scopes"><!---->Checking Scopes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Consuming Your API With JavaScript" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#consuming-your-api-with-javascript"><!---->Consuming Your API With JavaScript<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Customizing The Cookie Name" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#customizing-the-cookie-name"><!---->Customizing The Cookie Name<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="CSRF Protection" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#csrf-protection"><!---->CSRF Protection<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Events" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#events"><!---->Events<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Testing" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/laravel/guide/passport.html#testing"><!---->Testing<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="Laravel Pennant" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/pennant.html"><!---->Laravel Pennant<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Pint" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/pint.html"><!---->Laravel Pint<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Sail" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/sail.html"><!---->Laravel Sail<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Sanctum" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/sanctum.html"><!---->Laravel Sanctum<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Scout" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/scout.html"><!---->Laravel Scout<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Socialite" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/socialite.html"><!---->Laravel Socialite<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Telescope" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/telescope.html"><!---->Laravel Telescope<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Laravel Valet" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/laravel/guide/valet.html"><!---->Laravel Valet<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Laravel Passport</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Moments</span></span><span property="author" content="Moments"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-05T12:55:13.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 24 min</span><meta property="timeRequired" content="PT24M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#introduction">Introduction</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#passport-or-sanctum">Passport Or Sanctum?</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#installation">Installation</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#client-uuids">Client UUIDs</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#deploying-passport">Deploying Passport</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#migration-customization">Migration Customization</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#upgrading-passport">Upgrading Passport</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#configuration">Configuration</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#client-secret-hashing">Client Secret Hashing</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#token-lifetimes">Token Lifetimes</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#overriding-default-models">Overriding Default Models</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#overriding-routes">Overriding Routes</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#issuing-access-tokens">Issuing Access Tokens</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#managing-clients">Managing Clients</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#requesting-tokens">Requesting Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#refreshing-tokens">Refreshing Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#revoking-tokens">Revoking Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#purging-tokens">Purging Tokens</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#authorization-code-grant-with-pkce">Authorization Code Grant with PKCE</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#creating-the-client">Creating The Client</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#requesting-tokens-1">Requesting Tokens</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#password-grant-tokens">Password Grant Tokens</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#creating-a-password-grant-client">Creating A Password Grant Client</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#requesting-tokens-2">Requesting Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#requesting-all-scopes">Requesting All Scopes</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#customizing-the-user-provider">Customizing The User Provider</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#customizing-the-username-field">Customizing The Username Field</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#customizing-the-password-validation">Customizing The Password Validation</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#implicit-grant-tokens">Implicit Grant Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#client-credentials-grant-tokens">Client Credentials Grant Tokens</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#retrieving-tokens">Retrieving Tokens</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#personal-access-tokens">Personal Access Tokens</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#creating-a-personal-access-client">Creating A Personal Access Client</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#managing-personal-access-tokens">Managing Personal Access Tokens</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#protecting-routes">Protecting Routes</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#via-middleware">Via Middleware</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#passing-the-access-token">Passing The Access Token</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#token-scopes">Token Scopes</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#defining-scopes">Defining Scopes</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#default-scope">Default Scope</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#assigning-scopes-to-tokens">Assigning Scopes To Tokens</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/laravel/#checking-scopes">Checking Scopes</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#consuming-your-api-with-javascript">Consuming Your API With JavaScript</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#customizing-the-cookie-name">Customizing The Cookie Name</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level4 toc-link level4" href="/laravel/#csrf-protection">CSRF Protection</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#events">Events</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/laravel/#testing">Testing</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="laravel-passport" tabindex="-1"><a class="header-anchor" href="#laravel-passport" aria-hidden="true">#</a> Laravel Passport</h1><ul><li><a href="#introduction">Introduction</a><ul><li><a href="#passport-or-sanctum">Passport Or Sanctum?</a></li></ul></li><li><a href="#installation">Installation</a><ul><li><a href="#deploying-passport">Deploying Passport</a></li><li><a href="#migration-customization">Migration Customization</a></li><li><a href="#upgrading-passport">Upgrading Passport</a></li></ul></li><li><a href="#configuration">Configuration</a><ul><li><a href="#client-secret-hashing">Client Secret Hashing</a></li><li><a href="#token-lifetimes">Token Lifetimes</a></li><li><a href="#overriding-default-models">Overriding Default Models</a></li><li><a href="#overriding-routes">Overriding Routes</a></li></ul></li><li><a href="#issuing-access-tokens">Issuing Access Tokens</a><ul><li><a href="#managing-clients">Managing Clients</a></li><li><a href="#requesting-tokens">Requesting Tokens</a></li><li><a href="#refreshing-tokens">Refreshing Tokens</a></li><li><a href="#revoking-tokens">Revoking Tokens</a></li><li><a href="#purging-tokens">Purging Tokens</a></li></ul></li><li><a href="#code-grant-pkce">Authorization Code Grant with PKCE</a><ul><li><a href="#creating-a-auth-pkce-grant-client">Creating The Client</a></li><li><a href="#requesting-auth-pkce-grant-tokens">Requesting Tokens</a></li></ul></li><li><a href="#password-grant-tokens">Password Grant Tokens</a><ul><li><a href="#creating-a-password-grant-client">Creating A Password Grant Client</a></li><li><a href="#requesting-password-grant-tokens">Requesting Tokens</a></li><li><a href="#requesting-all-scopes">Requesting All Scopes</a></li><li><a href="#customizing-the-user-provider">Customizing The User Provider</a></li><li><a href="#customizing-the-username-field">Customizing The Username Field</a></li><li><a href="#customizing-the-password-validation">Customizing The Password Validation</a></li></ul></li><li><a href="#implicit-grant-tokens">Implicit Grant Tokens</a></li><li><a href="#client-credentials-grant-tokens">Client Credentials Grant Tokens</a></li><li><a href="#personal-access-tokens">Personal Access Tokens</a><ul><li><a href="#creating-a-personal-access-client">Creating A Personal Access Client</a></li><li><a href="#managing-personal-access-tokens">Managing Personal Access Tokens</a></li></ul></li><li><a href="#protecting-routes">Protecting Routes</a><ul><li><a href="#via-middleware">Via Middleware</a></li><li><a href="#passing-the-access-token">Passing The Access Token</a></li></ul></li><li><a href="#token-scopes">Token Scopes</a><ul><li><a href="#defining-scopes">Defining Scopes</a></li><li><a href="#default-scope">Default Scope</a></li><li><a href="#assigning-scopes-to-tokens">Assigning Scopes To Tokens</a></li><li><a href="#checking-scopes">Checking Scopes</a></li></ul></li><li><a href="#consuming-your-api-with-javascript">Consuming Your API With JavaScript</a></li><li><a href="#events">Events</a></li><li><a href="#testing">Testing</a></li></ul><p><a name="introduction"></a></p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p><a href="https://github.com/laravel/passport" target="_blank" rel="noopener noreferrer">Laravel Passport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> provides a full OAuth2 server implementation for your Laravel application in a matter of minutes. Passport is built on top of the <a href="https://github.com/thephpleague/oauth2-server" target="_blank" rel="noopener noreferrer">League OAuth2 server<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> that is maintained by Andy Millington and Simon Hamp.</p><blockquote><p><strong>Warning</strong><br> This documentation assumes you are already familiar with OAuth2. If you do not know anything about OAuth2, consider familiarizing yourself with the general <a href="https://oauth2.thephpleague.com/terminology/" target="_blank" rel="noopener noreferrer">terminology<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and features of OAuth2 before continuing.</p></blockquote><p><a name="passport-or-sanctum"></a></p><h3 id="passport-or-sanctum" tabindex="-1"><a class="header-anchor" href="#passport-or-sanctum" aria-hidden="true">#</a> Passport Or Sanctum?</h3><p>Before getting started, you may wish to determine if your application would be better served by Laravel Passport or <a href="./sanctum">Laravel Sanctum</a>. If your application absolutely needs to support OAuth2, then you should use Laravel Passport.</p><p>However, if you are attempting to authenticate a single-page application, mobile application, or issue API tokens, you should use <a href="./sanctum">Laravel Sanctum</a>. Laravel Sanctum does not support OAuth2; however, it provides a much simpler API authentication development experience.</p><p><a name="installation"></a></p><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><p>To get started, install Passport via the Composer package manager:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">composer</span> require laravel/passport
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Passport&#39;s <a href="./providers">service provider</a> registers its own database migration directory, so you should migrate your database after installing the package. The Passport migrations will create the tables your application needs to store OAuth2 clients and access tokens:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan migrate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Next, you should execute the <code>passport:install</code> Artisan command. This command will create the encryption keys needed to generate secure access tokens. In addition, the command will create &quot;personal access&quot; and &quot;password grant&quot; clients which will be used to generate access tokens:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><strong>Note</strong><br> If you would like to use UUIDs as the primary key value of the Passport <code>Client</code> model instead of auto-incrementing integers, please install Passport using <a href="#client-uuids">the <code>uuids</code> option</a>.</p></blockquote><p>After running the <code>passport:install</code> command, add the <code>Laravel\Passport\HasApiTokens</code> trait to your <code>App\Models\User</code> model. This trait will provide a few helper methods to your model which allow you to inspect the authenticated user&#39;s token and scopes. If your model is already using the <code>Laravel\Sanctum\HasApiTokens</code> trait, you may remove that trait:</p><pre><code>&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Passport\HasApiTokens;

class User extends Authenticatable
{
    use HasApiTokens, HasFactory, Notifiable;
}
</code></pre><p>Finally, in your application&#39;s <code>config/auth.php</code> configuration file, you should define an <code>api</code> authentication guard and set the <code>driver</code> option to <code>passport</code>. This will instruct your application to use Passport&#39;s <code>TokenGuard</code> when authenticating incoming API requests:</p><pre><code>&#39;guards&#39; =&gt; [
    &#39;web&#39; =&gt; [
        &#39;driver&#39; =&gt; &#39;session&#39;,
        &#39;provider&#39; =&gt; &#39;users&#39;,
    ],

    &#39;api&#39; =&gt; [
        &#39;driver&#39; =&gt; &#39;passport&#39;,
        &#39;provider&#39; =&gt; &#39;users&#39;,
    ],
],
</code></pre><p><a name="client-uuids"></a></p><h4 id="client-uuids" tabindex="-1"><a class="header-anchor" href="#client-uuids" aria-hidden="true">#</a> Client UUIDs</h4><p>You may also run the <code>passport:install</code> command with the <code>--uuids</code> option present. This option will instruct Passport that you would like to use UUIDs instead of auto-incrementing integers as the Passport <code>Client</code> model&#39;s primary key values. After running the <code>passport:install</code> command with the <code>--uuids</code> option, you will be given additional instructions regarding disabling Passport&#39;s default migrations:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:install <span class="token parameter variable">--uuids</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="deploying-passport"></a></p><h3 id="deploying-passport" tabindex="-1"><a class="header-anchor" href="#deploying-passport" aria-hidden="true">#</a> Deploying Passport</h3><p>When deploying Passport to your application&#39;s servers for the first time, you will likely need to run the <code>passport:keys</code> command. This command generates the encryption keys Passport needs in order to generate access tokens. The generated keys are not typically kept in source control:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:keys
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>If necessary, you may define the path where Passport&#39;s keys should be loaded from. You may use the <code>Passport::loadKeysFrom</code> method to accomplish this. Typically, this method should be called from the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::loadKeysFrom(__DIR__.&#39;/../secrets/oauth&#39;);
}
</code></pre><p><a name="loading-keys-from-the-environment"></a></p><h4 id="loading-keys-from-the-environment" tabindex="-1"><a class="header-anchor" href="#loading-keys-from-the-environment" aria-hidden="true">#</a> Loading Keys From The Environment</h4><p>Alternatively, you may publish Passport&#39;s configuration file using the <code>vendor:publish</code> Artisan command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>passport-config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>After the configuration file has been published, you may load your application&#39;s encryption keys by defining them as environment variables:</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">PASSPORT_PRIVATE_KEY</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;-----BEGIN RSA PRIVATE KEY-----</span>
&lt;private key here&gt;
-----END RSA PRIVATE KEY-----&quot;

<span class="token key attr-name">PASSPORT_PUBLIC_KEY</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;-----BEGIN PUBLIC KEY-----</span>
&lt;public key here&gt;
-----END PUBLIC KEY-----&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="migration-customization"></a></p><h3 id="migration-customization" tabindex="-1"><a class="header-anchor" href="#migration-customization" aria-hidden="true">#</a> Migration Customization</h3><p>If you are not going to use Passport&#39;s default migrations, you should call the <code>Passport::ignoreMigrations</code> method in the <code>register</code> method of your <code>App\Providers\AppServiceProvider</code> class. You may export the default migrations using the <code>vendor:publish</code> Artisan command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>passport-migrations
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="upgrading-passport"></a></p><h3 id="upgrading-passport" tabindex="-1"><a class="header-anchor" href="#upgrading-passport" aria-hidden="true">#</a> Upgrading Passport</h3><p>When upgrading to a new major version of Passport, it&#39;s important that you carefully review <a href="https://github.com/laravel/passport/blob/master/UPGRADE.md" target="_blank" rel="noopener noreferrer">the upgrade guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a name="configuration"></a></p><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration</h2><p><a name="client-secret-hashing"></a></p><h3 id="client-secret-hashing" tabindex="-1"><a class="header-anchor" href="#client-secret-hashing" aria-hidden="true">#</a> Client Secret Hashing</h3><p>If you would like your client&#39;s secrets to be hashed when stored in your database, you should call the <code>Passport::hashClientSecrets</code> method in the <code>boot</code> method of your <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>use Laravel\Passport\Passport;

Passport::hashClientSecrets();
</code></pre><p>Once enabled, all of your client secrets will only be displayable to the user immediately after they are created. Since the plain-text client secret value is never stored in the database, it is not possible to recover the secret&#39;s value if it is lost.</p><p><a name="token-lifetimes"></a></p><h3 id="token-lifetimes" tabindex="-1"><a class="header-anchor" href="#token-lifetimes" aria-hidden="true">#</a> Token Lifetimes</h3><p>By default, Passport issues long-lived access tokens that expire after one year. If you would like to configure a longer / shorter token lifetime, you may use the <code>tokensExpireIn</code>, <code>refreshTokensExpireIn</code>, and <code>personalAccessTokensExpireIn</code> methods. These methods should be called from the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::tokensExpireIn(now()-&gt;addDays(15));
    Passport::refreshTokensExpireIn(now()-&gt;addDays(30));
    Passport::personalAccessTokensExpireIn(now()-&gt;addMonths(6));
}
</code></pre><blockquote><p><strong>Warning</strong><br> The <code>expires_at</code> columns on Passport&#39;s database tables are read-only and for display purposes only. When issuing tokens, Passport stores the expiration information within the signed and encrypted tokens. If you need to invalidate a token you should <a href="#revoking-tokens">revoke it</a>.</p></blockquote><p><a name="overriding-default-models"></a></p><h3 id="overriding-default-models" tabindex="-1"><a class="header-anchor" href="#overriding-default-models" aria-hidden="true">#</a> Overriding Default Models</h3><p>You are free to extend the models used internally by Passport by defining your own model and extending the corresponding Passport model:</p><pre><code>use Laravel\Passport\Client as PassportClient;

class Client extends PassportClient
{
    // ...
}
</code></pre><p>After defining your model, you may instruct Passport to use your custom model via the <code>Laravel\Passport\Passport</code> class. Typically, you should inform Passport about your custom models in the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>use App\Models\Passport\AuthCode;
use App\Models\Passport\Client;
use App\Models\Passport\PersonalAccessClient;
use App\Models\Passport\RefreshToken;
use App\Models\Passport\Token;

/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::useTokenModel(Token::class);
    Passport::useRefreshTokenModel(RefreshToken::class);
    Passport::useAuthCodeModel(AuthCode::class);
    Passport::useClientModel(Client::class);
    Passport::usePersonalAccessClientModel(PersonalAccessClient::class);
}
</code></pre><p><a name="overriding-routes"></a></p><h3 id="overriding-routes" tabindex="-1"><a class="header-anchor" href="#overriding-routes" aria-hidden="true">#</a> Overriding Routes</h3><p>Sometimes you may wish to customize the routes defined by Passport. To achieve this, you first need to ignore the routes registered by Passport by adding <code>Passport::ignoreRoutes</code> to the <code>register</code> method of your application&#39;s <code>AppServiceProvider</code>:</p><pre><code>use Laravel\Passport\Passport;

/**
 * Register any application services.
 */
public function register(): void
{
    Passport::ignoreRoutes();
}
</code></pre><p>Then, you may copy the routes defined by Passport in <a href="https://github.com/laravel/passport/blob/11.x/routes/web.php" target="_blank" rel="noopener noreferrer">its routes file<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to your application&#39;s <code>routes/web.php</code> file and modify them to your liking:</p><pre><code>Route::group([
    &#39;as&#39; =&gt; &#39;passport.&#39;,
    &#39;prefix&#39; =&gt; config(&#39;passport.path&#39;, &#39;oauth&#39;),
    &#39;namespace&#39; =&gt; &#39;\Laravel\Passport\Http\Controllers&#39;,
], function () {
    // Passport routes...
});
</code></pre><p><a name="issuing-access-tokens"></a></p><h2 id="issuing-access-tokens" tabindex="-1"><a class="header-anchor" href="#issuing-access-tokens" aria-hidden="true">#</a> Issuing Access Tokens</h2><p>Using OAuth2 via authorization codes is how most developers are familiar with OAuth2. When using authorization codes, a client application will redirect a user to your server where they will either approve or deny the request to issue an access token to the client.</p><p><a name="managing-clients"></a></p><h3 id="managing-clients" tabindex="-1"><a class="header-anchor" href="#managing-clients" aria-hidden="true">#</a> Managing Clients</h3><p>First, developers building applications that need to interact with your application&#39;s API will need to register their application with yours by creating a &quot;client&quot;. Typically, this consists of providing the name of their application and a URL that your application can redirect to after users approve their request for authorization.</p><p><a name="the-passportclient-command"></a></p><h4 id="the-passport-client-command" tabindex="-1"><a class="header-anchor" href="#the-passport-client-command" aria-hidden="true">#</a> The <code>passport:client</code> Command</h4><p>The simplest way to create a client is using the <code>passport:client</code> Artisan command. This command may be used to create your own clients for testing your OAuth2 functionality. When you run the <code>client</code> command, Passport will prompt you for more information about your client and will provide you with a client ID and secret:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:client
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Redirect URLs</strong></p><p>If you would like to allow multiple redirect URLs for your client, you may specify them using a comma-delimited list when prompted for the URL by the <code>passport:client</code> command. Any URLs which contain commas should be URL encoded:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>http://example.com/callback,http://examplefoo.com/callback
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="clients-json-api"></a></p><h4 id="json-api" tabindex="-1"><a class="header-anchor" href="#json-api" aria-hidden="true">#</a> JSON API</h4><p>Since your application&#39;s users will not be able to utilize the <code>client</code> command, Passport provides a JSON API that you may use to create clients. This saves you the trouble of having to manually code controllers for creating, updating, and deleting clients.</p><p>However, you will need to pair Passport&#39;s JSON API with your own frontend to provide a dashboard for your users to manage their clients. Below, we&#39;ll review all of the API endpoints for managing clients. For convenience, we&#39;ll use <a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">Axios<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to demonstrate making HTTP requests to the endpoints.</p><p>The JSON API is guarded by the <code>web</code> and <code>auth</code> middleware; therefore, it may only be called from your own application. It is not able to be called from an external source.</p><p><a name="get-oauthclients"></a></p><h4 id="get-oauth-clients" tabindex="-1"><a class="header-anchor" href="#get-oauth-clients" aria-hidden="true">#</a> <code>GET /oauth/clients</code></h4><p>This route returns all of the clients for the authenticated user. This is primarily useful for listing all of the user&#39;s clients so that they may edit or delete them:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/clients&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="post-oauthclients"></a></p><h4 id="post-oauth-clients" tabindex="-1"><a class="header-anchor" href="#post-oauth-clients" aria-hidden="true">#</a> <code>POST /oauth/clients</code></h4><p>This route is used to create new clients. It requires two pieces of data: the client&#39;s <code>name</code> and a <code>redirect</code> URL. The <code>redirect</code> URL is where the user will be redirected after approving or denying a request for authorization.</p><p>When a client is created, it will be issued a client ID and client secret. These values will be used when requesting access tokens from your application. The client creation route will return the new client instance:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Client Name&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">&#39;http://example.com/callback&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/clients&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// List errors on response...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="put-oauthclientsclient-id"></a></p><h4 id="put-oauth-clients-client-id" tabindex="-1"><a class="header-anchor" href="#put-oauth-clients-client-id" aria-hidden="true">#</a> <code>PUT /oauth/clients/{client-id}</code></h4><p>This route is used to update clients. It requires two pieces of data: the client&#39;s <code>name</code> and a <code>redirect</code> URL. The <code>redirect</code> URL is where the user will be redirected after approving or denying a request for authorization. The route will return the updated client instance:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;New Client Name&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">&#39;http://example.com/callback&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/clients/&#39;</span> <span class="token operator">+</span> clientId<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// List errors on response...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="delete-oauthclientsclient-id"></a></p><h4 id="delete-oauth-clients-client-id" tabindex="-1"><a class="header-anchor" href="#delete-oauth-clients-client-id" aria-hidden="true">#</a> <code>DELETE /oauth/clients/{client-id}</code></h4><p>This route is used to delete clients:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/clients/&#39;</span> <span class="token operator">+</span> clientId<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="requesting-tokens"></a></p><h3 id="requesting-tokens" tabindex="-1"><a class="header-anchor" href="#requesting-tokens" aria-hidden="true">#</a> Requesting Tokens</h3><p><a name="requesting-tokens-redirecting-for-authorization"></a></p><h4 id="redirecting-for-authorization" tabindex="-1"><a class="header-anchor" href="#redirecting-for-authorization" aria-hidden="true">#</a> Redirecting For Authorization</h4><p>Once a client has been created, developers may use their client ID and secret to request an authorization code and access token from your application. First, the consuming application should make a redirect request to your application&#39;s <code>/oauth/authorize</code> route like so:</p><pre><code>use Illuminate\Http\Request;
use Illuminate\Support\Str;

Route::get(&#39;/redirect&#39;, function (Request $request) {
    $request-&gt;session()-&gt;put(&#39;state&#39;, $state = Str::random(40));

    $query = http_build_query([
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://third-party-app.com/callback&#39;,
        &#39;response_type&#39; =&gt; &#39;code&#39;,
        &#39;scope&#39; =&gt; &#39;&#39;,
        &#39;state&#39; =&gt; $state,
        // &#39;prompt&#39; =&gt; &#39;&#39;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;
    ]);

    return redirect(&#39;http://passport-app.test/oauth/authorize?&#39;.$query);
});
</code></pre><p>The <code>prompt</code> parameter may be used to specify the authentication behavior of the Passport application.</p><p>If the <code>prompt</code> value is <code>none</code>, Passport will always throw an authentication error if the user is not already authenticated with the Passport application. If the value is <code>consent</code>, Passport will always display the authorization approval screen, even if all scopes were previously granted to the consuming application. When the value is <code>login</code>, the Passport application will always prompt the user to re-login to the application, even if they already have an existing session.</p><p>If no <code>prompt</code> value is provided, the user will be prompted for authorization only if they have not previously authorized access to the consuming application for the requested scopes.</p><blockquote><p><strong>Note</strong><br> Remember, the <code>/oauth/authorize</code> route is already defined by Passport. You do not need to manually define this route.</p></blockquote><p><a name="approving-the-request"></a></p><h4 id="approving-the-request" tabindex="-1"><a class="header-anchor" href="#approving-the-request" aria-hidden="true">#</a> Approving The Request</h4><p>When receiving authorization requests, Passport will automatically respond based on the value of <code>prompt</code> parameter (if present) and may display a template to the user allowing them to approve or deny the authorization request. If they approve the request, they will be redirected back to the <code>redirect_uri</code> that was specified by the consuming application. The <code>redirect_uri</code> must match the <code>redirect</code> URL that was specified when the client was created.</p><p>If you would like to customize the authorization approval screen, you may publish Passport&#39;s views using the <code>vendor:publish</code> Artisan command. The published views will be placed in the <code>resources/views/vendor/passport</code> directory:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>passport-views
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sometimes you may wish to skip the authorization prompt, such as when authorizing a first-party client. You may accomplish this by <a href="#overriding-default-models">extending the <code>Client</code> model</a> and defining a <code>skipsAuthorization</code> method. If <code>skipsAuthorization</code> returns <code>true</code> the client will be approved and the user will be redirected back to the <code>redirect_uri</code> immediately, unless the consuming application has explicitly set the <code>prompt</code> parameter when redirecting for authorization:</p><pre><code>&lt;?php

namespace App\Models\Passport;

use Laravel\Passport\Client as BaseClient;

class Client extends BaseClient
{
    /**
     * Determine if the client should skip the authorization prompt.
     */
    public function skipsAuthorization(): bool
    {
        return $this-&gt;firstParty();
    }
}
</code></pre><p><a name="requesting-tokens-converting-authorization-codes-to-access-tokens"></a></p><h4 id="converting-authorization-codes-to-access-tokens" tabindex="-1"><a class="header-anchor" href="#converting-authorization-codes-to-access-tokens" aria-hidden="true">#</a> Converting Authorization Codes To Access Tokens</h4><p>If the user approves the authorization request, they will be redirected back to the consuming application. The consumer should first verify the <code>state</code> parameter against the value that was stored prior to the redirect. If the state parameter matches then the consumer should issue a <code>POST</code> request to your application to request an access token. The request should include the authorization code that was issued by your application when the user approved the authorization request:</p><pre><code>use Illuminate\Http\Request;
use Illuminate\Support\Facades\Http;

Route::get(&#39;/callback&#39;, function (Request $request) {
    $state = $request-&gt;session()-&gt;pull(&#39;state&#39;);

    throw_unless(
        strlen($state) &gt; 0 &amp;&amp; $state === $request-&gt;state,
        InvalidArgumentException::class,
        &#39;Invalid state value.&#39;
    );

    $response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
        &#39;grant_type&#39; =&gt; &#39;authorization_code&#39;,
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;client_secret&#39; =&gt; &#39;client-secret&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://third-party-app.com/callback&#39;,
        &#39;code&#39; =&gt; $request-&gt;code,
    ]);

    return $response-&gt;json();
});
</code></pre><p>This <code>/oauth/token</code> route will return a JSON response containing <code>access_token</code>, <code>refresh_token</code>, and <code>expires_in</code> attributes. The <code>expires_in</code> attribute contains the number of seconds until the access token expires.</p><blockquote><p><strong>Note</strong><br> Like the <code>/oauth/authorize</code> route, the <code>/oauth/token</code> route is defined for you by Passport. There is no need to manually define this route.</p></blockquote><p><a name="tokens-json-api"></a></p><h4 id="json-api-1" tabindex="-1"><a class="header-anchor" href="#json-api-1" aria-hidden="true">#</a> JSON API</h4><p>Passport also includes a JSON API for managing authorized access tokens. You may pair this with your own frontend to offer your users a dashboard for managing access tokens. For convenience, we&#39;ll use <a href="https://github.com/mzabriskie/axios" target="_blank" rel="noopener noreferrer">Axios<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to demonstrate making HTTP requests to the endpoints. The JSON API is guarded by the <code>web</code> and <code>auth</code> middleware; therefore, it may only be called from your own application.</p><p><a name="get-oauthtokens"></a></p><h4 id="get-oauth-tokens" tabindex="-1"><a class="header-anchor" href="#get-oauth-tokens" aria-hidden="true">#</a> <code>GET /oauth/tokens</code></h4><p>This route returns all of the authorized access tokens that the authenticated user has created. This is primarily useful for listing all of the user&#39;s tokens so that they can revoke them:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/tokens&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="delete-oauthtokenstoken-id"></a></p><h4 id="delete-oauth-tokens-token-id" tabindex="-1"><a class="header-anchor" href="#delete-oauth-tokens-token-id" aria-hidden="true">#</a> <code>DELETE /oauth/tokens/{token-id}</code></h4><p>This route may be used to revoke authorized access tokens and their related refresh tokens:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/tokens/&#39;</span> <span class="token operator">+</span> tokenId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="refreshing-tokens"></a></p><h3 id="refreshing-tokens" tabindex="-1"><a class="header-anchor" href="#refreshing-tokens" aria-hidden="true">#</a> Refreshing Tokens</h3><p>If your application issues short-lived access tokens, users will need to refresh their access tokens via the refresh token that was provided to them when the access token was issued:</p><pre><code>use Illuminate\Support\Facades\Http;

$response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
    &#39;grant_type&#39; =&gt; &#39;refresh_token&#39;,
    &#39;refresh_token&#39; =&gt; &#39;the-refresh-token&#39;,
    &#39;client_id&#39; =&gt; &#39;client-id&#39;,
    &#39;client_secret&#39; =&gt; &#39;client-secret&#39;,
    &#39;scope&#39; =&gt; &#39;&#39;,
]);

return $response-&gt;json();
</code></pre><p>This <code>/oauth/token</code> route will return a JSON response containing <code>access_token</code>, <code>refresh_token</code>, and <code>expires_in</code> attributes. The <code>expires_in</code> attribute contains the number of seconds until the access token expires.</p><p><a name="revoking-tokens"></a></p><h3 id="revoking-tokens" tabindex="-1"><a class="header-anchor" href="#revoking-tokens" aria-hidden="true">#</a> Revoking Tokens</h3><p>You may revoke a token by using the <code>revokeAccessToken</code> method on the <code>Laravel\Passport\TokenRepository</code>. You may revoke a token&#39;s refresh tokens using the <code>revokeRefreshTokensByAccessTokenId</code> method on the <code>Laravel\Passport\RefreshTokenRepository</code>. These classes may be resolved using Laravel&#39;s <a href="./container">service container</a>:</p><pre><code>use Laravel\Passport\TokenRepository;
use Laravel\Passport\RefreshTokenRepository;

$tokenRepository = app(TokenRepository::class);
$refreshTokenRepository = app(RefreshTokenRepository::class);

// Revoke an access token...
$tokenRepository-&gt;revokeAccessToken($tokenId);

// Revoke all of the token&#39;s refresh tokens...
$refreshTokenRepository-&gt;revokeRefreshTokensByAccessTokenId($tokenId);
</code></pre><p><a name="purging-tokens"></a></p><h3 id="purging-tokens" tabindex="-1"><a class="header-anchor" href="#purging-tokens" aria-hidden="true">#</a> Purging Tokens</h3><p>When tokens have been revoked or expired, you might want to purge them from the database. Passport&#39;s included <code>passport:purge</code> Artisan command can do this for you:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Purge revoked and expired tokens and auth codes...</span>
php artisan passport:purge

<span class="token comment"># Only purge tokens expired for more than 6 hours...</span>
php artisan passport:purge <span class="token parameter variable">--hours</span><span class="token operator">=</span><span class="token number">6</span>

<span class="token comment"># Only purge revoked tokens and auth codes...</span>
php artisan passport:purge <span class="token parameter variable">--revoked</span>

<span class="token comment"># Only purge expired tokens and auth codes...</span>
php artisan passport:purge <span class="token parameter variable">--expired</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You may also configure a <a href="./scheduling">scheduled job</a> in your application&#39;s <code>App\Console\Kernel</code> class to automatically prune your tokens on a schedule:</p><pre><code>/**
 * Define the application&#39;s command schedule.
 */
protected function schedule(Schedule $schedule): void
{
    $schedule-&gt;command(&#39;passport:purge&#39;)-&gt;hourly();
}
</code></pre><p><a name="code-grant-pkce"></a></p><h2 id="authorization-code-grant-with-pkce" tabindex="-1"><a class="header-anchor" href="#authorization-code-grant-with-pkce" aria-hidden="true">#</a> Authorization Code Grant with PKCE</h2><p>The Authorization Code grant with &quot;Proof Key for Code Exchange&quot; (PKCE) is a secure way to authenticate single page applications or native applications to access your API. This grant should be used when you can&#39;t guarantee that the client secret will be stored confidentially or in order to mitigate the threat of having the authorization code intercepted by an attacker. A combination of a &quot;code verifier&quot; and a &quot;code challenge&quot; replaces the client secret when exchanging the authorization code for an access token.</p><p><a name="creating-a-auth-pkce-grant-client"></a></p><h3 id="creating-the-client" tabindex="-1"><a class="header-anchor" href="#creating-the-client" aria-hidden="true">#</a> Creating The Client</h3><p>Before your application can issue tokens via the authorization code grant with PKCE, you will need to create a PKCE-enabled client. You may do this using the <code>passport:client</code> Artisan command with the <code>--public</code> option:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:client <span class="token parameter variable">--public</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="requesting-auth-pkce-grant-tokens"></a></p><h3 id="requesting-tokens-1" tabindex="-1"><a class="header-anchor" href="#requesting-tokens-1" aria-hidden="true">#</a> Requesting Tokens</h3><p><a name="code-verifier-code-challenge"></a></p><h4 id="code-verifier-code-challenge" tabindex="-1"><a class="header-anchor" href="#code-verifier-code-challenge" aria-hidden="true">#</a> Code Verifier &amp; Code Challenge</h4><p>As this authorization grant does not provide a client secret, developers will need to generate a combination of a code verifier and a code challenge in order to request a token.</p><p>The code verifier should be a random string of between 43 and 128 characters containing letters, numbers, and <code>&quot;-&quot;</code>, <code>&quot;.&quot;</code>, <code>&quot;_&quot;</code>, <code>&quot;~&quot;</code> characters, as defined in the <a href="https://tools.ietf.org/html/rfc7636" target="_blank" rel="noopener noreferrer">RFC 7636 specification<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>The code challenge should be a Base64 encoded string with URL and filename-safe characters. The trailing <code>&#39;=&#39;</code> characters should be removed and no line breaks, whitespace, or other additional characters should be present.</p><pre><code>$encoded = base64_encode(hash(&#39;sha256&#39;, $code_verifier, true));

$codeChallenge = strtr(rtrim($encoded, &#39;=&#39;), &#39;+/&#39;, &#39;-_&#39;);
</code></pre><p><a name="code-grant-pkce-redirecting-for-authorization"></a></p><h4 id="redirecting-for-authorization-1" tabindex="-1"><a class="header-anchor" href="#redirecting-for-authorization-1" aria-hidden="true">#</a> Redirecting For Authorization</h4><p>Once a client has been created, you may use the client ID and the generated code verifier and code challenge to request an authorization code and access token from your application. First, the consuming application should make a redirect request to your application&#39;s <code>/oauth/authorize</code> route:</p><pre><code>use Illuminate\Http\Request;
use Illuminate\Support\Str;

Route::get(&#39;/redirect&#39;, function (Request $request) {
    $request-&gt;session()-&gt;put(&#39;state&#39;, $state = Str::random(40));

    $request-&gt;session()-&gt;put(
        &#39;code_verifier&#39;, $code_verifier = Str::random(128)
    );

    $codeChallenge = strtr(rtrim(
        base64_encode(hash(&#39;sha256&#39;, $code_verifier, true))
    , &#39;=&#39;), &#39;+/&#39;, &#39;-_&#39;);

    $query = http_build_query([
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://third-party-app.com/callback&#39;,
        &#39;response_type&#39; =&gt; &#39;code&#39;,
        &#39;scope&#39; =&gt; &#39;&#39;,
        &#39;state&#39; =&gt; $state,
        &#39;code_challenge&#39; =&gt; $codeChallenge,
        &#39;code_challenge_method&#39; =&gt; &#39;S256&#39;,
        // &#39;prompt&#39; =&gt; &#39;&#39;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;
    ]);

    return redirect(&#39;http://passport-app.test/oauth/authorize?&#39;.$query);
});
</code></pre><p><a name="code-grant-pkce-converting-authorization-codes-to-access-tokens"></a></p><h4 id="converting-authorization-codes-to-access-tokens-1" tabindex="-1"><a class="header-anchor" href="#converting-authorization-codes-to-access-tokens-1" aria-hidden="true">#</a> Converting Authorization Codes To Access Tokens</h4><p>If the user approves the authorization request, they will be redirected back to the consuming application. The consumer should verify the <code>state</code> parameter against the value that was stored prior to the redirect, as in the standard Authorization Code Grant.</p><p>If the state parameter matches, the consumer should issue a <code>POST</code> request to your application to request an access token. The request should include the authorization code that was issued by your application when the user approved the authorization request along with the originally generated code verifier:</p><pre><code>use Illuminate\Http\Request;
use Illuminate\Support\Facades\Http;

Route::get(&#39;/callback&#39;, function (Request $request) {
    $state = $request-&gt;session()-&gt;pull(&#39;state&#39;);

    $codeVerifier = $request-&gt;session()-&gt;pull(&#39;code_verifier&#39;);

    throw_unless(
        strlen($state) &gt; 0 &amp;&amp; $state === $request-&gt;state,
        InvalidArgumentException::class
    );

    $response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
        &#39;grant_type&#39; =&gt; &#39;authorization_code&#39;,
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://third-party-app.com/callback&#39;,
        &#39;code_verifier&#39; =&gt; $codeVerifier,
        &#39;code&#39; =&gt; $request-&gt;code,
    ]);

    return $response-&gt;json();
});
</code></pre><p><a name="password-grant-tokens"></a></p><h2 id="password-grant-tokens" tabindex="-1"><a class="header-anchor" href="#password-grant-tokens" aria-hidden="true">#</a> Password Grant Tokens</h2><blockquote><p><strong>Warning</strong><br> We no longer recommend using password grant tokens. Instead, you should choose <a href="https://oauth2.thephpleague.com/authorization-server/which-grant/" target="_blank" rel="noopener noreferrer">a grant type that is currently recommended by OAuth2 Server<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></blockquote><p>The OAuth2 password grant allows your other first-party clients, such as a mobile application, to obtain an access token using an email address / username and password. This allows you to issue access tokens securely to your first-party clients without requiring your users to go through the entire OAuth2 authorization code redirect flow.</p><p><a name="creating-a-password-grant-client"></a></p><h3 id="creating-a-password-grant-client" tabindex="-1"><a class="header-anchor" href="#creating-a-password-grant-client" aria-hidden="true">#</a> Creating A Password Grant Client</h3><p>Before your application can issue tokens via the password grant, you will need to create a password grant client. You may do this using the <code>passport:client</code> Artisan command with the <code>--password</code> option. <strong>If you have already run the <code>passport:install</code> command, you do not need to run this command:</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:client <span class="token parameter variable">--password</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="requesting-password-grant-tokens"></a></p><h3 id="requesting-tokens-2" tabindex="-1"><a class="header-anchor" href="#requesting-tokens-2" aria-hidden="true">#</a> Requesting Tokens</h3><p>Once you have created a password grant client, you may request an access token by issuing a <code>POST</code> request to the <code>/oauth/token</code> route with the user&#39;s email address and password. Remember, this route is already registered by Passport so there is no need to define it manually. If the request is successful, you will receive an <code>access_token</code> and <code>refresh_token</code> in the JSON response from the server:</p><pre><code>use Illuminate\Support\Facades\Http;

$response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
    &#39;grant_type&#39; =&gt; &#39;password&#39;,
    &#39;client_id&#39; =&gt; &#39;client-id&#39;,
    &#39;client_secret&#39; =&gt; &#39;client-secret&#39;,
    &#39;username&#39; =&gt; &#39;taylor@laravel.com&#39;,
    &#39;password&#39; =&gt; &#39;my-password&#39;,
    &#39;scope&#39; =&gt; &#39;&#39;,
]);

return $response-&gt;json();
</code></pre><blockquote><p><strong>Note</strong><br> Remember, access tokens are long-lived by default. However, you are free to <a href="#configuration">configure your maximum access token lifetime</a> if needed.</p></blockquote><p><a name="requesting-all-scopes"></a></p><h3 id="requesting-all-scopes" tabindex="-1"><a class="header-anchor" href="#requesting-all-scopes" aria-hidden="true">#</a> Requesting All Scopes</h3><p>When using the password grant or client credentials grant, you may wish to authorize the token for all of the scopes supported by your application. You can do this by requesting the <code>*</code> scope. If you request the <code>*</code> scope, the <code>can</code> method on the token instance will always return <code>true</code>. This scope may only be assigned to a token that is issued using the <code>password</code> or <code>client_credentials</code> grant:</p><pre><code>use Illuminate\Support\Facades\Http;

$response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
    &#39;grant_type&#39; =&gt; &#39;password&#39;,
    &#39;client_id&#39; =&gt; &#39;client-id&#39;,
    &#39;client_secret&#39; =&gt; &#39;client-secret&#39;,
    &#39;username&#39; =&gt; &#39;taylor@laravel.com&#39;,
    &#39;password&#39; =&gt; &#39;my-password&#39;,
    &#39;scope&#39; =&gt; &#39;*&#39;,
]);
</code></pre><p><a name="customizing-the-user-provider"></a></p><h3 id="customizing-the-user-provider" tabindex="-1"><a class="header-anchor" href="#customizing-the-user-provider" aria-hidden="true">#</a> Customizing The User Provider</h3><p>If your application uses more than one <a href="./authentication#introduction">authentication user provider</a>, you may specify which user provider the password grant client uses by providing a <code>--provider</code> option when creating the client via the <code>artisan passport:client --password</code> command. The given provider name should match a valid provider defined in your application&#39;s <code>config/auth.php</code> configuration file. You can then <a href="#via-middleware">protect your route using middleware</a> to ensure that only users from the guard&#39;s specified provider are authorized.</p><p><a name="customizing-the-username-field"></a></p><h3 id="customizing-the-username-field" tabindex="-1"><a class="header-anchor" href="#customizing-the-username-field" aria-hidden="true">#</a> Customizing The Username Field</h3><p>When authenticating using the password grant, Passport will use the <code>email</code> attribute of your authenticatable model as the &quot;username&quot;. However, you may customize this behavior by defining a <code>findForPassport</code> method on your model:</p><pre><code>&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Passport\HasApiTokens;

class User extends Authenticatable
{
    use HasApiTokens, Notifiable;

    /**
     * Find the user instance for the given username.
     */
    public function findForPassport(string $username): User
    {
        return $this-&gt;where(&#39;username&#39;, $username)-&gt;first();
    }
}
</code></pre><p><a name="customizing-the-password-validation"></a></p><h3 id="customizing-the-password-validation" tabindex="-1"><a class="header-anchor" href="#customizing-the-password-validation" aria-hidden="true">#</a> Customizing The Password Validation</h3><p>When authenticating using the password grant, Passport will use the <code>password</code> attribute of your model to validate the given password. If your model does not have a <code>password</code> attribute or you wish to customize the password validation logic, you can define a <code>validateForPassportPasswordGrant</code> method on your model:</p><pre><code>&lt;?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Illuminate\Support\Facades\Hash;
use Laravel\Passport\HasApiTokens;

class User extends Authenticatable
{
    use HasApiTokens, Notifiable;

    /**
     * Validate the password of the user for the Passport password grant.
     */
    public function validateForPassportPasswordGrant(string $password): bool
    {
        return Hash::check($password, $this-&gt;password);
    }
}
</code></pre><p><a name="implicit-grant-tokens"></a></p><h2 id="implicit-grant-tokens" tabindex="-1"><a class="header-anchor" href="#implicit-grant-tokens" aria-hidden="true">#</a> Implicit Grant Tokens</h2><blockquote><p><strong>Warning</strong><br> We no longer recommend using implicit grant tokens. Instead, you should choose <a href="https://oauth2.thephpleague.com/authorization-server/which-grant/" target="_blank" rel="noopener noreferrer">a grant type that is currently recommended by OAuth2 Server<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></blockquote><p>The implicit grant is similar to the authorization code grant; however, the token is returned to the client without exchanging an authorization code. This grant is most commonly used for JavaScript or mobile applications where the client credentials can&#39;t be securely stored. To enable the grant, call the <code>enableImplicitGrant</code> method in the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::enableImplicitGrant();
}
</code></pre><p>Once the grant has been enabled, developers may use their client ID to request an access token from your application. The consuming application should make a redirect request to your application&#39;s <code>/oauth/authorize</code> route like so:</p><pre><code>use Illuminate\Http\Request;

Route::get(&#39;/redirect&#39;, function (Request $request) {
    $request-&gt;session()-&gt;put(&#39;state&#39;, $state = Str::random(40));

    $query = http_build_query([
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://third-party-app.com/callback&#39;,
        &#39;response_type&#39; =&gt; &#39;token&#39;,
        &#39;scope&#39; =&gt; &#39;&#39;,
        &#39;state&#39; =&gt; $state,
        // &#39;prompt&#39; =&gt; &#39;&#39;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;
    ]);

    return redirect(&#39;http://passport-app.test/oauth/authorize?&#39;.$query);
});
</code></pre><blockquote><p><strong>Note</strong><br> Remember, the <code>/oauth/authorize</code> route is already defined by Passport. You do not need to manually define this route.</p></blockquote><p><a name="client-credentials-grant-tokens"></a></p><h2 id="client-credentials-grant-tokens" tabindex="-1"><a class="header-anchor" href="#client-credentials-grant-tokens" aria-hidden="true">#</a> Client Credentials Grant Tokens</h2><p>The client credentials grant is suitable for machine-to-machine authentication. For example, you might use this grant in a scheduled job which is performing maintenance tasks over an API.</p><p>Before your application can issue tokens via the client credentials grant, you will need to create a client credentials grant client. You may do this using the <code>--client</code> option of the <code>passport:client</code> Artisan command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:client <span class="token parameter variable">--client</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Next, to use this grant type, you may add the <code>CheckClientCredentials</code> middleware to the <code>$middlewareAliases</code> property of your application&#39;s <code>app/Http/Kernel.php</code> file:</p><pre><code>use Laravel\Passport\Http\Middleware\CheckClientCredentials;

protected $middlewareAliases = [
    &#39;client&#39; =&gt; CheckClientCredentials::class,
];
</code></pre><p>Then, attach the middleware to a route:</p><pre><code>Route::get(&#39;/orders&#39;, function (Request $request) {
    ...
})-&gt;middleware(&#39;client&#39;);
</code></pre><p>To restrict access to the route to specific scopes, you may provide a comma-delimited list of the required scopes when attaching the <code>client</code> middleware to the route:</p><pre><code>Route::get(&#39;/orders&#39;, function (Request $request) {
    ...
})-&gt;middleware(&#39;client:check-status,your-scope&#39;);
</code></pre><p><a name="retrieving-tokens"></a></p><h3 id="retrieving-tokens" tabindex="-1"><a class="header-anchor" href="#retrieving-tokens" aria-hidden="true">#</a> Retrieving Tokens</h3><p>To retrieve a token using this grant type, make a request to the <code>oauth/token</code> endpoint:</p><pre><code>use Illuminate\Support\Facades\Http;

$response = Http::asForm()-&gt;post(&#39;http://passport-app.test/oauth/token&#39;, [
    &#39;grant_type&#39; =&gt; &#39;client_credentials&#39;,
    &#39;client_id&#39; =&gt; &#39;client-id&#39;,
    &#39;client_secret&#39; =&gt; &#39;client-secret&#39;,
    &#39;scope&#39; =&gt; &#39;your-scope&#39;,
]);

return $response-&gt;json()[&#39;access_token&#39;];
</code></pre><p><a name="personal-access-tokens"></a></p><h2 id="personal-access-tokens" tabindex="-1"><a class="header-anchor" href="#personal-access-tokens" aria-hidden="true">#</a> Personal Access Tokens</h2><p>Sometimes, your users may want to issue access tokens to themselves without going through the typical authorization code redirect flow. Allowing users to issue tokens to themselves via your application&#39;s UI can be useful for allowing users to experiment with your API or may serve as a simpler approach to issuing access tokens in general.</p><blockquote><p><strong>Note</strong><br> If your application is primarily using Passport to issue personal access tokens, consider using <a href="./sanctum">Laravel Sanctum</a>, Laravel&#39;s light-weight first-party library for issuing API access tokens.</p></blockquote><p><a name="creating-a-personal-access-client"></a></p><h3 id="creating-a-personal-access-client" tabindex="-1"><a class="header-anchor" href="#creating-a-personal-access-client" aria-hidden="true">#</a> Creating A Personal Access Client</h3><p>Before your application can issue personal access tokens, you will need to create a personal access client. You may do this by executing the <code>passport:client</code> Artisan command with the <code>--personal</code> option. If you have already run the <code>passport:install</code> command, you do not need to run this command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>php artisan passport:client <span class="token parameter variable">--personal</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>After creating your personal access client, place the client&#39;s ID and plain-text secret value in your application&#39;s <code>.env</code> file:</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">PASSPORT_PERSONAL_ACCESS_CLIENT_ID</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">client-id-value</span>&quot;</span>
<span class="token key attr-name">PASSPORT_PERSONAL_ACCESS_CLIENT_SECRET</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">unhashed-client-secret-value</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="managing-personal-access-tokens"></a></p><h3 id="managing-personal-access-tokens" tabindex="-1"><a class="header-anchor" href="#managing-personal-access-tokens" aria-hidden="true">#</a> Managing Personal Access Tokens</h3><p>Once you have created a personal access client, you may issue tokens for a given user using the <code>createToken</code> method on the <code>App\Models\User</code> model instance. The <code>createToken</code> method accepts the name of the token as its first argument and an optional array of <a href="#token-scopes">scopes</a> as its second argument:</p><pre><code>use App\Models\User;

$user = User::find(1);

// Creating a token without scopes...
$token = $user-&gt;createToken(&#39;Token Name&#39;)-&gt;accessToken;

// Creating a token with scopes...
$token = $user-&gt;createToken(&#39;My Token&#39;, [&#39;place-orders&#39;])-&gt;accessToken;
</code></pre><p><a name="personal-access-tokens-json-api"></a></p><h4 id="json-api-2" tabindex="-1"><a class="header-anchor" href="#json-api-2" aria-hidden="true">#</a> JSON API</h4><p>Passport also includes a JSON API for managing personal access tokens. You may pair this with your own frontend to offer your users a dashboard for managing personal access tokens. Below, we&#39;ll review all of the API endpoints for managing personal access tokens. For convenience, we&#39;ll use <a href="https://github.com/mzabriskie/axios" target="_blank" rel="noopener noreferrer">Axios<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to demonstrate making HTTP requests to the endpoints.</p><p>The JSON API is guarded by the <code>web</code> and <code>auth</code> middleware; therefore, it may only be called from your own application. It is not able to be called from an external source.</p><p><a name="get-oauthscopes"></a></p><h4 id="get-oauth-scopes" tabindex="-1"><a class="header-anchor" href="#get-oauth-scopes" aria-hidden="true">#</a> <code>GET /oauth/scopes</code></h4><p>This route returns all of the <a href="#token-scopes">scopes</a> defined for your application. You may use this route to list the scopes a user may assign to a personal access token:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/scopes&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="get-oauthpersonal-access-tokens"></a></p><h4 id="get-oauth-personal-access-tokens" tabindex="-1"><a class="header-anchor" href="#get-oauth-personal-access-tokens" aria-hidden="true">#</a> <code>GET /oauth/personal-access-tokens</code></h4><p>This route returns all of the personal access tokens that the authenticated user has created. This is primarily useful for listing all of the user&#39;s tokens so that they may edit or revoke them:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/personal-access-tokens&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="post-oauthpersonal-access-tokens"></a></p><h4 id="post-oauth-personal-access-tokens" tabindex="-1"><a class="header-anchor" href="#post-oauth-personal-access-tokens" aria-hidden="true">#</a> <code>POST /oauth/personal-access-tokens</code></h4><p>This route creates new personal access tokens. It requires two pieces of data: the token&#39;s <code>name</code> and the <code>scopes</code> that should be assigned to the token:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Token Name&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scopes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/personal-access-tokens&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>accessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// List errors on response...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a name="delete-oauthpersonal-access-tokenstoken-id"></a></p><h4 id="delete-oauth-personal-access-tokens-token-id" tabindex="-1"><a class="header-anchor" href="#delete-oauth-personal-access-tokens-token-id" aria-hidden="true">#</a> <code>DELETE /oauth/personal-access-tokens/{token-id}</code></h4><p>This route may be used to revoke personal access tokens:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;/oauth/personal-access-tokens/&#39;</span> <span class="token operator">+</span> tokenId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><a name="protecting-routes"></a></p><h2 id="protecting-routes" tabindex="-1"><a class="header-anchor" href="#protecting-routes" aria-hidden="true">#</a> Protecting Routes</h2><p><a name="via-middleware"></a></p><h3 id="via-middleware" tabindex="-1"><a class="header-anchor" href="#via-middleware" aria-hidden="true">#</a> Via Middleware</h3><p>Passport includes an <a href="./authentication#adding-custom-guards">authentication guard</a> that will validate access tokens on incoming requests. Once you have configured the <code>api</code> guard to use the <code>passport</code> driver, you only need to specify the <code>auth:api</code> middleware on any routes that should require a valid access token:</p><pre><code>Route::get(&#39;/user&#39;, function () {
    // ...
})-&gt;middleware(&#39;auth:api&#39;);
</code></pre><blockquote><p><strong>Warning</strong><br> If you are using the <a href="#client-credentials-grant-tokens">client credentials grant</a>, you should use <a href="#client-credentials-grant-tokens">the <code>client</code> middleware</a> to protect your routes instead of the <code>auth:api</code> middleware.</p></blockquote><p><a name="multiple-authentication-guards"></a></p><h4 id="multiple-authentication-guards" tabindex="-1"><a class="header-anchor" href="#multiple-authentication-guards" aria-hidden="true">#</a> Multiple Authentication Guards</h4><p>If your application authenticates different types of users that perhaps use entirely different Eloquent models, you will likely need to define a guard configuration for each user provider type in your application. This allows you to protect requests intended for specific user providers. For example, given the following guard configuration the <code>config/auth.php</code> configuration file:</p><pre><code>&#39;api&#39; =&gt; [
    &#39;driver&#39; =&gt; &#39;passport&#39;,
    &#39;provider&#39; =&gt; &#39;users&#39;,
],

&#39;api-customers&#39; =&gt; [
    &#39;driver&#39; =&gt; &#39;passport&#39;,
    &#39;provider&#39; =&gt; &#39;customers&#39;,
],
</code></pre><p>The following route will utilize the <code>api-customers</code> guard, which uses the <code>customers</code> user provider, to authenticate incoming requests:</p><pre><code>Route::get(&#39;/customer&#39;, function () {
    // ...
})-&gt;middleware(&#39;auth:api-customers&#39;);
</code></pre><blockquote><p><strong>Note</strong><br> For more information on using multiple user providers with Passport, please consult the <a href="#customizing-the-user-provider">password grant documentation</a>.</p></blockquote><p><a name="passing-the-access-token"></a></p><h3 id="passing-the-access-token" tabindex="-1"><a class="header-anchor" href="#passing-the-access-token" aria-hidden="true">#</a> Passing The Access Token</h3><p>When calling routes that are protected by Passport, your application&#39;s API consumers should specify their access token as a <code>Bearer</code> token in the <code>Authorization</code> header of their request. For example, when using the Guzzle HTTP library:</p><pre><code>use Illuminate\Support\Facades\Http;

$response = Http::withHeaders([
    &#39;Accept&#39; =&gt; &#39;application/json&#39;,
    &#39;Authorization&#39; =&gt; &#39;Bearer &#39;.$accessToken,
])-&gt;get(&#39;https://passport-app.test/api/user&#39;);

return $response-&gt;json();
</code></pre><p><a name="token-scopes"></a></p><h2 id="token-scopes" tabindex="-1"><a class="header-anchor" href="#token-scopes" aria-hidden="true">#</a> Token Scopes</h2><p>Scopes allow your API clients to request a specific set of permissions when requesting authorization to access an account. For example, if you are building an e-commerce application, not all API consumers will need the ability to place orders. Instead, you may allow the consumers to only request authorization to access order shipment statuses. In other words, scopes allow your application&#39;s users to limit the actions a third-party application can perform on their behalf.</p><p><a name="defining-scopes"></a></p><h3 id="defining-scopes" tabindex="-1"><a class="header-anchor" href="#defining-scopes" aria-hidden="true">#</a> Defining Scopes</h3><p>You may define your API&#39;s scopes using the <code>Passport::tokensCan</code> method in the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class. The <code>tokensCan</code> method accepts an array of scope names and scope descriptions. The scope description may be anything you wish and will be displayed to users on the authorization approval screen:</p><pre><code>/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::tokensCan([
        &#39;place-orders&#39; =&gt; &#39;Place orders&#39;,
        &#39;check-status&#39; =&gt; &#39;Check order status&#39;,
    ]);
}
</code></pre><p><a name="default-scope"></a></p><h3 id="default-scope" tabindex="-1"><a class="header-anchor" href="#default-scope" aria-hidden="true">#</a> Default Scope</h3><p>If a client does not request any specific scopes, you may configure your Passport server to attach default scope(s) to the token using the <code>setDefaultScope</code> method. Typically, you should call this method from the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>use Laravel\Passport\Passport;

Passport::tokensCan([
    &#39;place-orders&#39; =&gt; &#39;Place orders&#39;,
    &#39;check-status&#39; =&gt; &#39;Check order status&#39;,
]);

Passport::setDefaultScope([
    &#39;check-status&#39;,
    &#39;place-orders&#39;,
]);
</code></pre><blockquote><p><strong>Note</strong> Passport&#39;s default scopes do not apply to personal access tokens that are generated by the user.</p></blockquote><p><a name="assigning-scopes-to-tokens"></a></p><h3 id="assigning-scopes-to-tokens" tabindex="-1"><a class="header-anchor" href="#assigning-scopes-to-tokens" aria-hidden="true">#</a> Assigning Scopes To Tokens</h3><p><a name="when-requesting-authorization-codes"></a></p><h4 id="when-requesting-authorization-codes" tabindex="-1"><a class="header-anchor" href="#when-requesting-authorization-codes" aria-hidden="true">#</a> When Requesting Authorization Codes</h4><p>When requesting an access token using the authorization code grant, consumers should specify their desired scopes as the <code>scope</code> query string parameter. The <code>scope</code> parameter should be a space-delimited list of scopes:</p><pre><code>Route::get(&#39;/redirect&#39;, function () {
    $query = http_build_query([
        &#39;client_id&#39; =&gt; &#39;client-id&#39;,
        &#39;redirect_uri&#39; =&gt; &#39;http://example.com/callback&#39;,
        &#39;response_type&#39; =&gt; &#39;code&#39;,
        &#39;scope&#39; =&gt; &#39;place-orders check-status&#39;,
    ]);

    return redirect(&#39;http://passport-app.test/oauth/authorize?&#39;.$query);
});
</code></pre><p><a name="when-issuing-personal-access-tokens"></a></p><h4 id="when-issuing-personal-access-tokens" tabindex="-1"><a class="header-anchor" href="#when-issuing-personal-access-tokens" aria-hidden="true">#</a> When Issuing Personal Access Tokens</h4><p>If you are issuing personal access tokens using the <code>App\Models\User</code> model&#39;s <code>createToken</code> method, you may pass the array of desired scopes as the second argument to the method:</p><pre><code>$token = $user-&gt;createToken(&#39;My Token&#39;, [&#39;place-orders&#39;])-&gt;accessToken;
</code></pre><p><a name="checking-scopes"></a></p><h3 id="checking-scopes" tabindex="-1"><a class="header-anchor" href="#checking-scopes" aria-hidden="true">#</a> Checking Scopes</h3><p>Passport includes two middleware that may be used to verify that an incoming request is authenticated with a token that has been granted a given scope. To get started, add the following middleware to the <code>$middlewareAliases</code> property of your <code>app/Http/Kernel.php</code> file:</p><pre><code>&#39;scopes&#39; =&gt; \Laravel\Passport\Http\Middleware\CheckScopes::class,
&#39;scope&#39; =&gt; \Laravel\Passport\Http\Middleware\CheckForAnyScope::class,
</code></pre><p><a name="check-for-all-scopes"></a></p><h4 id="check-for-all-scopes" tabindex="-1"><a class="header-anchor" href="#check-for-all-scopes" aria-hidden="true">#</a> Check For All Scopes</h4><p>The <code>scopes</code> middleware may be assigned to a route to verify that the incoming request&#39;s access token has all of the listed scopes:</p><pre><code>Route::get(&#39;/orders&#39;, function () {
    // Access token has both &quot;check-status&quot; and &quot;place-orders&quot; scopes...
})-&gt;middleware([&#39;auth:api&#39;, &#39;scopes:check-status,place-orders&#39;]);
</code></pre><p><a name="check-for-any-scopes"></a></p><h4 id="check-for-any-scopes" tabindex="-1"><a class="header-anchor" href="#check-for-any-scopes" aria-hidden="true">#</a> Check For Any Scopes</h4><p>The <code>scope</code> middleware may be assigned to a route to verify that the incoming request&#39;s access token has <em>at least one</em> of the listed scopes:</p><pre><code>Route::get(&#39;/orders&#39;, function () {
    // Access token has either &quot;check-status&quot; or &quot;place-orders&quot; scope...
})-&gt;middleware([&#39;auth:api&#39;, &#39;scope:check-status,place-orders&#39;]);
</code></pre><p><a name="checking-scopes-on-a-token-instance"></a></p><h4 id="checking-scopes-on-a-token-instance" tabindex="-1"><a class="header-anchor" href="#checking-scopes-on-a-token-instance" aria-hidden="true">#</a> Checking Scopes On A Token Instance</h4><p>Once an access token authenticated request has entered your application, you may still check if the token has a given scope using the <code>tokenCan</code> method on the authenticated <code>App\Models\User</code> instance:</p><pre><code>use Illuminate\Http\Request;

Route::get(&#39;/orders&#39;, function (Request $request) {
    if ($request-&gt;user()-&gt;tokenCan(&#39;place-orders&#39;)) {
        // ...
    }
});
</code></pre><p><a name="additional-scope-methods"></a></p><h4 id="additional-scope-methods" tabindex="-1"><a class="header-anchor" href="#additional-scope-methods" aria-hidden="true">#</a> Additional Scope Methods</h4><p>The <code>scopeIds</code> method will return an array of all defined IDs / names:</p><pre><code>use Laravel\Passport\Passport;

Passport::scopeIds();
</code></pre><p>The <code>scopes</code> method will return an array of all defined scopes as instances of <code>Laravel\Passport\Scope</code>:</p><pre><code>Passport::scopes();
</code></pre><p>The <code>scopesFor</code> method will return an array of <code>Laravel\Passport\Scope</code> instances matching the given IDs / names:</p><pre><code>Passport::scopesFor([&#39;place-orders&#39;, &#39;check-status&#39;]);
</code></pre><p>You may determine if a given scope has been defined using the <code>hasScope</code> method:</p><pre><code>Passport::hasScope(&#39;place-orders&#39;);
</code></pre><p><a name="consuming-your-api-with-javascript"></a></p><h2 id="consuming-your-api-with-javascript" tabindex="-1"><a class="header-anchor" href="#consuming-your-api-with-javascript" aria-hidden="true">#</a> Consuming Your API With JavaScript</h2><p>When building an API, it can be extremely useful to be able to consume your own API from your JavaScript application. This approach to API development allows your own application to consume the same API that you are sharing with the world. The same API may be consumed by your web application, mobile applications, third-party applications, and any SDKs that you may publish on various package managers.</p><p>Typically, if you want to consume your API from your JavaScript application, you would need to manually send an access token to the application and pass it with each request to your application. However, Passport includes a middleware that can handle this for you. All you need to do is add the <code>CreateFreshApiToken</code> middleware to your <code>web</code> middleware group in your <code>app/Http/Kernel.php</code> file:</p><pre><code>&#39;web&#39; =&gt; [
    // Other middleware...
    \Laravel\Passport\Http\Middleware\CreateFreshApiToken::class,
],
</code></pre><blockquote><p><strong>Warning</strong><br> You should ensure that the <code>CreateFreshApiToken</code> middleware is the last middleware listed in your middleware stack.</p></blockquote><p>This middleware will attach a <code>laravel_token</code> cookie to your outgoing responses. This cookie contains an encrypted JWT that Passport will use to authenticate API requests from your JavaScript application. The JWT has a lifetime equal to your <code>session.lifetime</code> configuration value. Now, since the browser will automatically send the cookie with all subsequent requests, you may make requests to your application&#39;s API without explicitly passing an access token:</p><pre><code>axios.get(&#39;/api/user&#39;)
    .then(response =&gt; {
        console.log(response.data);
    });
</code></pre><p><a name="customizing-the-cookie-name"></a></p><h4 id="customizing-the-cookie-name" tabindex="-1"><a class="header-anchor" href="#customizing-the-cookie-name" aria-hidden="true">#</a> Customizing The Cookie Name</h4><p>If needed, you can customize the <code>laravel_token</code> cookie&#39;s name using the <code>Passport::cookie</code> method. Typically, this method should be called from the <code>boot</code> method of your application&#39;s <code>App\Providers\AuthServiceProvider</code> class:</p><pre><code>/**
 * Register any authentication / authorization services.
 */
public function boot(): void
{
    Passport::cookie(&#39;custom_name&#39;);
}
</code></pre><p><a name="csrf-protection"></a></p><h4 id="csrf-protection" tabindex="-1"><a class="header-anchor" href="#csrf-protection" aria-hidden="true">#</a> CSRF Protection</h4><p>When using this method of authentication, you will need to ensure a valid CSRF token header is included in your requests. The default Laravel JavaScript scaffolding includes an Axios instance, which will automatically use the encrypted <code>XSRF-TOKEN</code> cookie value to send an <code>X-XSRF-TOKEN</code> header on same-origin requests.</p><blockquote><p><strong>Note</strong><br> If you choose to send the <code>X-CSRF-TOKEN</code> header instead of <code>X-XSRF-TOKEN</code>, you will need to use the unencrypted token provided by <code>csrf_token()</code>.</p></blockquote><p><a name="events"></a></p><h2 id="events" tabindex="-1"><a class="header-anchor" href="#events" aria-hidden="true">#</a> Events</h2><p>Passport raises events when issuing access tokens and refresh tokens. You may use these events to prune or revoke other access tokens in your database. If you would like, you may attach listeners to these events in your application&#39;s <code>App\Providers\EventServiceProvider</code> class:</p><pre><code>/**
 * The event listener mappings for the application.
 *
 * @var array
 */
protected $listen = [
    &#39;Laravel\Passport\Events\AccessTokenCreated&#39; =&gt; [
        &#39;App\Listeners\RevokeOldTokens&#39;,
    ],

    &#39;Laravel\Passport\Events\RefreshTokenCreated&#39; =&gt; [
        &#39;App\Listeners\PruneOldTokens&#39;,
    ],
];
</code></pre><p><a name="testing"></a></p><h2 id="testing" tabindex="-1"><a class="header-anchor" href="#testing" aria-hidden="true">#</a> Testing</h2><p>Passport&#39;s <code>actingAs</code> method may be used to specify the currently authenticated user as well as its scopes. The first argument given to the <code>actingAs</code> method is the user instance and the second is an array of scopes that should be granted to the user&#39;s token:</p><pre><code>use App\Models\User;
use Laravel\Passport\Passport;

public function test_servers_can_be_created(): void
{
    Passport::actingAs(
        User::factory()-&gt;create(),
        [&#39;create-servers&#39;]
    );

    $response = $this-&gt;post(&#39;/api/create-server&#39;);

    $response-&gt;assertStatus(201);
}
</code></pre><p>Passport&#39;s <code>actingAsClient</code> method may be used to specify the currently authenticated client as well as its scopes. The first argument given to the <code>actingAsClient</code> method is the client instance and the second is an array of scopes that should be granted to the client&#39;s token:</p><pre><code>use Laravel\Passport\Client;
use Laravel\Passport\Passport;

public function test_orders_can_be_retrieved(): void
{
    Passport::actingAsClient(
        Client::factory()-&gt;create(),
        [&#39;check-status&#39;]
    );

    $response = $this-&gt;get(&#39;/api/orders&#39;);

    $response-&gt;assertStatus(200);
}
</code></pre></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 554676262@qq.com">Moments</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="Laravel Octane" class="vp-link nav-link prev nav-link prev" href="/laravel/guide/octane.html"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->Laravel Octane</div></a><a aria-label="Laravel Pennant" class="vp-link nav-link next nav-link next" href="/laravel/guide/pennant.html"><div class="hint">Next<span class="arrow end"></span></div><div class="link">Laravel Pennant<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2023 Moments</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/laravel/assets/app-06635a3b.js" defer></script>
  </body>
</html>
